window.__require=function e(t,i,o){function a(l,s){if(!i[l]){if(!t[l]){var c=l.split("/");if(c=c[c.length-1],!t[c]){var r="function"==typeof __require&&__require;if(!s&&r)return r(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var h=i[l]={exports:{}};t[l][0].call(h.exports,function(e){return a(t[l][1][e]||e)},h,h.exports,e,t,i,o)}return i[l].exports}for(var n="function"==typeof __require&&__require,l=0;l<o.length;l++)a(o[l]);return a}({AdBox:[function(e,t){"use strict";cc._RF.push(t,"92fdftyRBRMsYTZWbFyJgHB","AdBox");var i=e("LevelManager"),o=e("EndlessManager"),a=e("Global");cc.Class({extends:cc.Component,properties:{levelManager:i,endlessManager:o,secondLabel:cc.Label,global:a,timeWait:5},onEnable:function(){this.global=cc.find("Global").getComponent(a),1==this.global.gameMode?(this.levelManager=cc.find("MainLevel").getChildByName("LevelManager").getComponent(i),this.timeWait=this.levelManager.timeWait):2==this.global.gameMode&&(this.endlessManager=cc.find("EndlessMode").getChildByName("EndlessLevelManager").getComponent(o),this.timeWait=this.endlessManager.timeWait),this.secondLabel.string=this.timeWait},start:function(){},onButtonClicked:function(){1==this.global.gameMode?(this.levelManager.lives=0,this.levelManager.gameContinue(),this.node.destroy()):(this.endlessManager.lives=0,this.endlessManager.gameContinue(),this.node.destroy())},update:function(e){this.timeWait>0&&(this.timeWait-=e,this.secondLabel.string=Math.round(this.timeWait)),this.timeWait<=0&&this.timeOut()},timeOut:function(){this.global.gameState=4,this.global.reload(),this.global.mainMenu.active=!0,1==this.global.gameMode?this.global.mainLevelNode.active=!1:2==this.global.gameMode&&(this.global.endlessLevelNode.active=!1),this.node.destroy()}}),cc._RF.pop()},{EndlessManager:"EndlessManager",Global:"Global",LevelManager:"LevelManager"}],BackGround:[function(e,t){"use strict";cc._RF.push(t,"ec90069N79O5K+sR/T578OA","BackGround"),cc.Class({extends:cc.Component,properties:{winBG:{default:null,type:cc.SpriteFrame},looseBG:{default:null,type:cc.SpriteFrame},playingBG:{default:null,type:cc.SpriteFrame},background:{default:null,type:cc.Sprite}},onLoad:function(){this.node.angle=0},setBG:function(e){var t=cc.find("winBg",this.node);switch(t&&(t.active=!1),e){case 0:case 1:case 2:this.background.spriteFrame=this.playingBG;break;case 3:break;case 4:this.background.spriteFrame=this.looseBG}},start:function(){},winingRotation:function(){var e=cc.find("winBg",this.node);e.active=!0,e.angle-=5}}),cc._RF.pop()},{}],Button:[function(e,t){"use strict";cc._RF.push(t,"190ecn+/2RGI7N1MVsMgZPG","Button"),e("Global"),e("LevelManager"),cc.Class({extends:cc.Component,properties:{currentLvlTxt:{default:null,type:cc.RichText},soundOn_Icon:{default:null,type:cc.Node},soundOff_Icon:{default:null,type:cc.Node}},onLoad:function(){this.global=this.getComponent("Global"),this.global.BGM.loop=!0,null==cc.sys.localStorage.getItem("Level")?this.currentLvlTxt.string="<color=#ff6004>1</c>":this.currentLvlTxt.string="<color=#ff6004>Level "+cc.sys.localStorage.getItem("Level")+"</c>",1==cc.sys.localStorage.getItem("Sound")?(this.soundOn_Icon.active=!0,this.soundOff_Icon.active=!1,this.global.playBGM()):(this.soundOn_Icon.active=!1,this.soundOff_Icon.active=!0,this.global.playBGM())},onBackButtonClicked:function(){this.global.reload(),this.global.levelChooserNode.active=!1,this.global.mainMenu.active=!0},reload:function(){this.currentLvlTxt.string="<color=#ff6004>Level "+cc.sys.localStorage.getItem("Level")+"</c>",1==cc.sys.localStorage.getItem("Sound")?(this.soundOn_Icon.active=!0,this.soundOff_Icon.active=!1,this.global.playBGM()):(this.soundOn_Icon.active=!1,this.soundOff_Icon.active=!0,this.global.playBGM())},onPlayBtnClicked:function(){this.global.gameState=2,this.global.gameMode=1,this.global.replay=!1,this.global.level=cc.sys.localStorage.getItem("Level"),this.global.stopBGM(),this.global.mainMenu.active=!1,this.global.mainLevelNode.active=!0},onEndlessBtnClicked:function(){this.global.gameState=2,this.global.gameMode=2,this.global.stopBGM(),this.global.mainMenu.active=!1,this.global.endlessLevelNode.active=!0},onReplayBtnClicked:function(){this.global.hideAllTitle(),this.global.mainMenu.active=!1,this.global.levelChooserNode.active=!0},onSoundBtnClicked:function(){1==cc.sys.localStorage.getItem("Sound")?(this.global.mute(),cc.sys.localStorage.setItem("Sound",0),this.soundOn_Icon.active=!1,this.soundOff_Icon.active=!0):(this.global.unMute(),cc.sys.localStorage.setItem("Sound",1),this.soundOn_Icon.active=!0,this.soundOff_Icon.active=!1)}}),cc._RF.pop()},{Global:"Global",LevelManager:"LevelManager"}],CameraControl:[function(e,t){"use strict";cc._RF.push(t,"db83bHm+ZFCnKcgoqljmaPx","CameraControl"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},camera:cc.Camera,anim:cc.Animation,jumpZoom:!1,centerAtStart:!1,smoothFollow:!1,followX:{default:0,visible:function(){return this.smoothFollow}},followY:{default:0,visible:function(){return this.smoothFollow}},minFollowDist:{default:0,visible:function(){return this.smoothFollow}},followRatio:{default:0,visible:function(){return this.smoothFollow}},overview:!1,overviewTargets:{default:[],type:[cc.Node],visible:function(){return this.overview}},overviewMargin:{default:0,visible:function(){return this.overview}},speedZoom:!1,zoomInSpeed:{default:0,visible:function(){return this.speedZoom}},zoomOutSpeed:{default:0,visible:function(){return this.speedZoom}},canShake:!1,shakeDuration:{default:0,visible:function(){return this.canShake}},pointerPan:!1,pointerXMult:{default:0,visible:function(){return this.pointerPan}},pointerYMult:{default:0,visible:function(){return this.pointerPan}},useBoundaries:!1,topBound:{default:0,visible:function(){return this.useBoundaries}},bottomBound:{default:0,visible:function(){return this.useBoundaries}},leftBound:{default:0,visible:function(){return this.useBoundaries}},rightBound:{default:0,visible:function(){return this.useBoundaries}}},onLoad:function(){this.startFollow=!1;var e=cc.find("Canvas").getComponent(cc.Canvas);this.visibleSize=cc.view.getVisibleSize(),this.initZoomRatio=this.camera.zoomRatio,this.centerAtStart&&(this.node.position=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO)),this.previousPos=this.node.position,this.pointerPan&&(this.overview=!1,this.speedZoom=!1,e.node.on("mousemove",this.onMouseMove,this),e.node.on("touchmove",this.onTouchMove,this),this.pointerPos=null),this.overview&&(this.jumpZoom=!1,this.speedZoom=!1),this.speedZoom&&(this.jumpZoom=!1)},onEnable:function(){cc.director.getPhysicsManager().attachDebugDrawToCamera(this.camera)},onDisable:function(){cc.director.getPhysicsManager().detachDebugDrawFromCamera(this.camera)},lateUpdate:function(e){var t;if(t=this.overview?this.target.parent.convertToWorldSpaceAR(this.getOverviewTargetsMidpoint()):this.target.parent.convertToWorldSpaceAR(this.target.position),this.pointerPan&&this.pointerPos){var i=this.pointerPos.x/(this.visibleSize.width/2)-1,o=this.pointerPos.y/(this.visibleSize.height/2)-1;i*=this.pointerXMult,o*=this.pointerYMult,t=t.add(cc.v2(i,o))}if(this.smoothFollow?((Math.abs(t.x-this.node.x)>=this.followX||Math.abs(t.y-this.node.y)>=this.followY)&&(this.startFollow=!0),this.startFollow&&(this.node.position=this.node.position.lerp(t,this.followRatio),t.sub(this.node.position).mag()<=this.minFollowDist&&(this.startFollow=!1))):this.node.position=this.node.parent.convertToNodeSpaceAR(t),this.speedZoom){var a=Math.abs(this.previousPos.x-t.x)/e,n=0;a>this.zoomOutSpeed?(n=1-(a-this.zoomOutSpeed)/(this.zoomInSpeed-this.zoomOutSpeed),this.camera.zoomRatio=cc.lerp(this.camera.zoomRatio,n,.02)):this.camera.zoomRatio=cc.lerp(this.camera.zoomRatio,this.initZoomRatio,.02)}if(this.previousPos=t,this.jumpZoom){var l=t.y/cc.winSize.height;this.camera.zoomRatio=1+.35*(.6-l)}if(this.useBoundaries){var s=this.visibleSize.width/2/this.camera.zoomRatio,c=this.visibleSize.height/2/this.camera.zoomRatio,r=this.node.x-s,h=this.node.x+s,d=this.node.y-c,u=this.node.y+c;r<this.leftBound&&(this.node.x=this.leftBound+s),d<this.bottomBound&&(this.node.y=this.bottomBound+c),h>this.rightBound&&(this.node.x=this.rightBound-s),u>this.topBound&&(this.node.y=this.topBound-c)}},getOverviewTargetsMidpoint:function(){for(var e=cc.v2(0,0),t=99999,i=99999,o=-99999,a=-99999,n=0;n<this.overviewTargets.length;++n){var l=this.overviewTargets[n];o=l.x>o?l.x:o,t=l.x<t?l.x:t,a=l.y>a?l.y:a,i=l.y<i?l.y:i}o+=this.overviewMargin,t-=this.overviewMargin,a+=this.overviewMargin,i-=this.overviewMargin;var s=Math.abs(o-t),c=Math.abs(a-i);e=cc.v2(t+s/2,i+c/2);var r=Math.max(s/this.visibleSize.width,c/this.visibleSize.height);return this.camera.zoomRatio=1/r,e},shakeCamera:function(){this.canShake&&(this.anim.play("shake"),this.scheduleOnce(this.stopShake.bind(this),this.shakeDuration))},stopShake:function(){this.anim.stop(),this.camera.node.position=cc.v2(0,0)},zoomCamera:function(){this.anim.play("Zoom"),this.scheduleOnce(this.stopZoom.bind(this),1)},stopZoom:function(){this.anim.stop()},onMouseMove:function(e){this.pointerPos=e.getLocation()},onTouchMove:function(e){this.pointerPos=e.getLocation()}}),cc._RF.pop()},{}],DrawTest:[function(e,t){"use strict";cc._RF.push(t,"460e86UY35FgLJysslKd4cr","DrawTest"),cc.Class({extends:cc.Component,properties:{endNode:{default:null,type:cc.Node}},onLoad:function(){this.drawing=this.node.getComponent(cc.Graphics),this.drawing.lineWidth=6,this.drawing.moveTo(this.x,this.y),this.drawing.lineTo(this.endNode.x,this.endNode.y),this.drawing.strokeColor=cc.Color.RED,this.drawing.stroke()},start:function(){}}),cc._RF.pop()},{}],EndlessBox:[function(e,t){"use strict";cc._RF.push(t,"435c7WnKcRL0pVciXfIwumc","EndlessBox");var i=e("EndlessManager"),o=e("Global");cc.Class({extends:cc.Component,properties:{endlessManager:i,secondLabel:cc.Label,global:o,timeWait:5,timeStamp:1},onLoad:function(){this.endlessManager=cc.find("EndlessMode").getChildByName("EndlessLevelManager").getComponent(i),this.timeWait=this.endlessManager.timeReady},start:function(){},update:function(e){this.timeWait>0&&(this.timeWait-=e,this.secondLabel.string=Math.round(this.timeWait)),this.timeWait<=0&&this.timeOut()},timeOut:function(){this.endlessManager.gameState=1,this.endlessManager.loadScene(this.endlessManager.rotateObstacle[this.endlessManager.index]),this.node.destroy()}}),cc._RF.pop()},{EndlessManager:"EndlessManager",Global:"Global"}],EndlessManager:[function(require,module,exports){"use strict";var GameState;cc._RF.push(module,"cb2ff4pkCJI8ZgYiQNCKTjZ","EndlessManager");var LevelManager=require("LevelManager");GameState=cc.Enum({GamePause:0,GameStarted:1,GamePlaying:2,GameWin:3,GameOver:4});var Rotator=require("Rotator"),BackGround=require("BackGround"),Global=require("Global"),AdBox=require("AdBox");cc.Class({extends:cc.Component,properties:{pin_id:1,pinPrefab:{default:null,type:cc.Prefab},pinPrefab_yellow:{default:null,type:cc.Prefab},pinPrefab_purple:{default:null,type:cc.Prefab},pinPrefab_orange:{default:null,type:cc.Prefab},backGround:{default:null,type:BackGround},spawnPointTexture_Yellow:{default:null,type:cc.Node},spawnPointTexture_Orange:{default:null,type:cc.Node},spawnPointTexture_Purple:{default:null,type:cc.Node},rotator:{default:null,type:cc.Node},global:{default:null,type:Global},adBox:{default:null,type:cc.Prefab},gameState:{default:GameState.GameStarted,type:GameState},endlessBox:{default:null,type:cc.Prefab},pauseTime:2,timeReady:3,timeWait:5,rotateObstacle:[cc.Integer],rotateSpeed:2,requireNextRotator:20,reverseStep:99,index:0,currentScore:0,ScoreText:cc.Label,lives:1},onLoad:function(){this.rotateObstacle=[0,3,5,6,8],this.global=cc.find("Global").getComponent(Global)},onEnable:function(){this.rotateSpeed=2,this.index=0,this.lives=1,this.currentScore=0,this.ScoreText.string="Score "+this.currentScore,this.gameState=GameState.GamePlaying;var e=cc.find("Canvas");this.randomPin(),this.backGround.setBG(this.gameState),this.loadScene(this.rotateObstacle[this.index]),e.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this)},update:function(e){this.gameState==GameState.GamePause&&null==cc.find("EndlessBox")&&(this.rotator.parent.destroy(),this.index++,this.index=this.index%this.rotateObstacle.length,0==this.index&&(1==Math.floor(2*Math.random()+1)?(this.requireNextRotator+=2,this.requireNextRotator>18&&(this.requireNextRotator=Math.floor(5*Math.random()+12))):(this.rotateSpeed+=.5,this.rotateSpeed>=4&&(this.rotateSpeed=Math.floor(2*Math.random()+2)))),cc.director.getScene().addChild(cc.instantiate(this.endlessBox))),this.gameState==GameState.GameOver&&(this.pauseTime>0&&(this.pauseTime-=e),this.lives>0&&null==cc.find("AdBox Container")?(cc.director.getScene().addChild(cc.instantiate(this.adBox)),this.lives=0,this.pauseTime=this.timeWait):this.pauseTime<=0&&(this.global.gameState=GameState.GameOver,this.global.reload(),this.global.endlessLevelNode.active=!1,this.global.mainMenu.active=!0))},loadScene:function(e){var t=this;cc.resources.load("Prefabs/RotatorContainer_"+e,function(e,i){var o=cc.instantiate(i);cc.director.getScene().addChild(o),t.rotator=o.getChildByName("Rotator");var a=t.rotator.getComponent("Rotator");a.updatePinhead(t.pin_id),a.rotatorSetting(t.rotateSpeed,t.requireNextRotator,t.reverseStep,"Endless")})},randomPin:function(){this.hideAllPin();var e=Math.floor(3*Math.random()+1);1==e?(this.pinPrefab=this.pinPrefab_yellow,this.spawnPointTexture_Yellow.active=!0):2==e?(this.pinPrefab=this.pinPrefab_orange,this.spawnPointTexture_Orange.active=!0):3==e&&(this.pinPrefab=this.pinPrefab_purple,this.spawnPointTexture_Purple.active=!0),this.pin_id=e},hideAllPin:function(){this.spawnPointTexture_Yellow.active=!1,this.spawnPointTexture_Orange.active=!1,this.spawnPointTexture_Purple.active=!1},onTouchBegan:function(){if(this.rotator&&(1==this.gameState||2==this.gameState)&&this.rotator.getComponent("Rotator").pinRequire>0){var e=cc.director.getScene(),t=cc.instantiate(this.pinPrefab);t.position=this.spawnPointTexture_Yellow.position,t.active=!0,e.addChild(t),this.global.playTapEffect()}},start:function(){},gameWin:function(){this.gameState=2},gameOver:function gameOver(){this.global.playHitEffect(),this.gameState=GameState.GameOver,this.backGround.setBG(this.gameState),this.rotator.getComponent("Rotator").setPlaying(!1),eval(this.currentScore)>eval(cc.sys.localStorage.getItem("HighScore"))&&cc.sys.localStorage.setItem("HighScore",this.currentScore)},gameContinue:function(){this.gameState=GameState.GamePlaying,this.backGround.setBG(this.gameState),this.rotator.getComponent("Rotator").setPlaying(!0),this.pauseTime=2},addScore:function(){this.currentScore++,this.ScoreText.string="Score "+this.currentScore},subScore:function(){this.currentScore--,this.ScoreText.string="Score "+this.currentScore}}),cc._RF.pop()},{AdBox:"AdBox",BackGround:"BackGround",Global:"Global",LevelManager:"LevelManager",Rotator:"Rotator"}],Global:[function(e,t){"use strict";var i,o;cc._RF.push(t,"7c803NeNNtN+JOVGe3Dhx6o","Global"),e("LevelManager"),e("Button"),i=cc.Enum({GamePause:0,GameStarted:1,GamePlaying:2,GameWin:3,GameOver:4}),o=cc.Enum({Normal:1,Endless:2}),cc.Class({extends:cc.Component,properties:{level:1,currentLevel:1,mainLevelNode:{default:null,type:cc.Node},levelChooserNode:{default:null,type:cc.Node},endlessLevelNode:{default:null,type:cc.Node},HighScoreText:cc.Label,endLevel:{default:null,type:cc.Node},gameState:{default:i.GameStarted,type:i},commingSoonScene:{default:null,type:cc.Node},titleDefault:{type:cc.Node,default:null},mainMenu:{default:null,type:cc.Node},LooseAudio:{type:cc.AudioSource,default:null},titleLoose:{default:null,type:cc.Node},replay:!1,WinAudio:{type:cc.AudioSource,default:null},titleWin:{default:null,type:cc.Node},BGM:{type:cc.AudioSource,default:null},tapAudio:{type:cc.AudioSource,default:null},hitAudio:{type:cc.AudioSource,default:null},levelAudio:{type:cc.AudioSource,default:null},levelManager:{default:null,type:cc.Node},gameMode:{default:o.Normal,type:o}},onLoad:function(){this.gameState=i.GameStarted,this.BGM.loop=!0,cc.game.addPersistRootNode(this.node),null==cc.sys.localStorage.getItem("Level")&&cc.sys.localStorage.setItem("Level",1),null==cc.sys.localStorage.getItem("Sound")&&cc.sys.localStorage.setItem("Sound",0),1==cc.sys.localStorage.getItem("Sound")?this.unMute():this.mute(),null==cc.sys.localStorage.getItem("HighScore")&&cc.sys.localStorage.setItem("HighScore",0),this.HighScoreText.string="High Score: "+cc.sys.localStorage.getItem("HighScore"),this.setTitle(),console.log("i have been loaded mofo")},start:function(){},reload:function(){this.getComponent("Button").reload(),this.setTitle(),this.stopLevelAudio(),this.playBGM(),this.level>=cc.sys.localStorage.getItem("Level")&&(this.replay=!1),this.gameState=i.GameStarted,this.HighScoreText.string="High Score: "+cc.sys.localStorage.getItem("HighScore")},playBGM:function(){this.BGM.play()},stopBGM:function(){this.BGM.stop()},stopLevelAudio:function(){this.levelAudio.stop()},hideAllTitle:function(){this.titleDefault.active=!1,this.titleLoose.active=!1,this.titleWin.active=!1},setTitle:function(){this.hideAllTitle(),1==this.gameState?(console.log("default"),this.titleDefault.active=!0,this.titleLoose.active=!1,this.titleWin.active=!1):3==this.gameState?(console.log("win"),this.titleWin.active=!0,this.titleDefault.active=!1,this.titleLoose.active=!1):4==this.gameState&&(console.log("loose"),this.titleLoose.active=!0,this.titleDefault.active=!1,this.titleWin.active=!1)},mute:function(){this.BGM.mute=!0,this.hitAudio.mute=!0,this.tapAudio.mute=!0,this.levelAudio.mute=!0},unMute:function(){this.BGM.mute=!1,this.hitAudio.mute=!1,this.tapAudio.mute=!1,this.levelAudio.mute=!1},playHitEffect:function(){this.hitAudio.play()},playTapEffect:function(){this.tapAudio.play()},playWinBGM:function(){this.WinAudio.play()},playLevelAudio:function(){this.levelAudio.play()}}),cc._RF.pop()},{Button:"Button",LevelManager:"LevelManager"}],HelloWorld:[function(e,t){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(){this.node.angle-=20}}),cc._RF.pop()},{}],LevelManager:[function(e,t){"use strict";var i;cc._RF.push(t,"36e82tVNfFMS671i5sLX/TQ","LevelManager"),e("LevelManager"),i=cc.Enum({GamePause:0,GameStarted:1,GamePlaying:2,GameWin:3,GameOver:4});var o=e("Rotator"),a=e("BackGround"),n=e("Global");e("AdBox"),cc.Class({extends:cc.Component,properties:{pin_id:1,pinPrefab:{default:null,type:cc.Prefab},pinPrefab_yellow:{default:null,type:cc.Prefab},pinPrefab_purple:{default:null,type:cc.Prefab},pinPrefab_orange:{default:null,type:cc.Prefab},backGround:{default:null,type:a},spawnPointTexture_Yellow:{default:null,type:cc.Node},spawnPointTexture_Orange:{default:null,type:cc.Node},spawnPointTexture_Purple:{default:null,type:cc.Node},rotator:{default:null,type:cc.Node},global:{default:null,type:n},adBox:{default:null,type:cc.Prefab},Level:5,lives:1,gameState:{default:i.GameStarted,type:i},pauseTime:2,timeWait:5},onLoad:function(){},onEnable:function(){this.lives=1,this.global=cc.find("Global").getComponent(n),this.gameState=i.GamePlaying,this.global.gameState=i.GamePlaying;var e=cc.find("Canvas");console.log(e.interactable),this.Level=this.global.level,this.randomPin(),this.loadScene("Lvl"+this.Level),this.backGround.setBG(this.gameState),this.global.levelAudio.loop=!0,this.global.playLevelAudio(),e.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this)},start:function(){},randomPin:function(){this.hideAllPin();var e=Math.floor(3*Math.random()+1);1==e?(this.pinPrefab=this.pinPrefab_yellow,this.spawnPointTexture_Yellow.active=!0):2==e?(this.pinPrefab=this.pinPrefab_orange,this.spawnPointTexture_Orange.active=!0):3==e&&(this.pinPrefab=this.pinPrefab_purple,this.spawnPointTexture_Purple.active=!0),this.pin_id=e},hideAllPin:function(){this.spawnPointTexture_Yellow.active=!1,this.spawnPointTexture_Orange.active=!1,this.spawnPointTexture_Purple.active=!1},loadScene:function(e){var t=this;cc.resources.load(e,function(e,i){e?(t.global.mainLevelNode.active=!1,t.global.commingSoonScene.active=!0):(i=i.json,cc.resources.load("Prefabs/RotatorContainer_"+i[0].rotator,function(e,a){var n=cc.instantiate(a);cc.director.getScene().addChild(n),t.rotator=n.getChildByName("Rotator");var l=t.rotator.getComponent(o);l.updatePinhead(t.pin_id),l.rotatorSetting(i[0].rotateSpeed,i[0].require,i[0].reverseStep,"Level "+i[0].level)}))})},onTouchBegan:function(){if(this.rotator&&(1==this.gameState||2==this.gameState)&&this.rotator.getComponent(o).pinRequire>0){var e=cc.director.getScene(),t=cc.instantiate(this.pinPrefab);t.position=this.spawnPointTexture_Yellow.position,t.active=!0,e.addChild(t),this.global.playTapEffect()}},update:function(e){this.gameState==i.GameWin&&(this.backGround.setBG(this.gameState),this.backGround.winingRotation(),this.rotator.getComponent(o).setPlaying(!1)),this.gameState==i.GameOver&&(this.pauseTime>0&&(this.pauseTime-=e),this.lives>0&&null==cc.find("AdBox Container")?(cc.director.getScene().addChild(cc.instantiate(this.adBox)),this.lives=0,this.pauseTime=this.timeWait):this.pauseTime<=0&&(this.global.gameState=i.GameOver,this.global.reload(),this.global.mainLevelNode.active=!1,this.global.mainMenu.active=!0))},gameContinue:function(){this.gameState=i.GamePlaying,this.backGround.setBG(this.gameState),this.rotator.getComponent(o).setPlaying(!0),this.pauseTime=2},gameOver:function(){this.global.playHitEffect(),this.gameState=i.GameOver,this.backGround.setBG(this.gameState),this.rotator.getComponent(o).setPlaying(!1)},gameWin:function(){var e=cc.sys.localStorage.getItem("Level");this.global.replay?(this.global.level++,this.global.gameState=i.GameWin,this.global.reload(),this.global.mainLevelNode.active=!1,this.global.mainMenu.active=!0):(e++,cc.sys.localStorage.setItem("Level",e),this.global.gameState=i.GameWin,this.global.reload(),this.global.mainLevelNode.active=!1,this.global.mainMenu.active=!0)}}),cc._RF.pop()},{AdBox:"AdBox",BackGround:"BackGround",Global:"Global",LevelManager:"LevelManager",Rotator:"Rotator"}],LevelNode:[function(require,module,exports){"use strict";cc._RF.push(module,"3552fKMloVNzKRZ539teXGh","LevelNode");var Global=require("Global");cc.Class({extends:cc.Component,properties:{level:1,unplayedNode:{default:null,type:cc.Node},unplayedColor:"4a43a3",playedNode:{default:null,type:cc.Node},playedColor:"ffaf04",currentLevelNode:{default:null,type:cc.Node},currentLevelColor:"ff6004",levelText:cc.RichText},onLoad:function(){this.global=cc.find("Global").getComponent(Global),this.levelChooser=cc.find("LevelChooser"),this.hideAllTextureNode()},start:function(){},setLevel:function(e){this.level=e,this.checkState()},hideAllTextureNode:function(){this.unplayedNode.active=!1,this.playedNode.active=!1,this.currentLevelNode.active=!1},checkState:function checkState(){var playedLevel=cc.sys.localStorage.getItem("Level");eval(this.level)<eval(playedLevel)?(this.hideAllTextureNode(),this.playedNode.active=!0,this.levelText.string="<color=#"+this.playedColor+">"+this.level+"</c>"):eval(this.level)==eval(playedLevel)?(this.hideAllTextureNode(),this.currentLevelNode.active=!0,this.levelText.string="<color=#"+this.currentLevelColor+">"+this.level+"</c>"):eval(this.level)>eval(playedLevel)&&(this.hideAllTextureNode(),this.unplayedNode.active=!0,this.levelText.string="<color=#"+this.unplayedColor+">"+this.level+"</c>")},onBtnClicked:function onBtnClicked(){eval(this.level)<eval(cc.sys.localStorage.getItem("Level"))?(this.global.gameState=1,this.global.gameMode=1,this.global.stopBGM(),this.global.replay=!0,this.global.level=this.level,this.global.levelChooserNode.active=!1,this.global.mainLevelNode.active=!0):eval(this.level)==eval(cc.sys.localStorage.getItem("Level"))&&(this.global.gameState=1,this.global.gameMode=1,this.global.stopBGM(),this.global.replay=!1,this.global.level=this.level,this.global.levelChooserNode.active=!1,this.global.mainLevelNode.active=!0)}}),cc._RF.pop()},{Global:"Global"}],NodeLoader:[function(e,t){"use strict";cc._RF.push(t,"bc686YBtF5B97EqblKITa/v","NodeLoader");var i=e("LevelNode"),o=e("Global");cc.Class({extends:cc.Component,properties:{startingPositionX:72,startingPositionY:624,interVal:95,nodePrefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.ScrollView},global:{default:null,type:o},numberOfRound:7,numberOfColum:5},onLoad:function(){this.content=this.scrollView.content,this.global=cc.find("Global").getComponent(o)},onEnable:function(){for(var e=0,t=0;t<this.numberOfRound;t++)for(var o=0;o<this.numberOfColum;o++){var a=cc.instantiate(this.nodePrefab);this.content.addChild(a),a.x=this.startingPositionX+o*this.interVal,a.y=this.startingPositionY-t*this.interVal,a.getComponent(i).setLevel(e+1),e++}this.content.height=(this.numberOfRound+1)*(7+this.interVal)+this.interVal,console.log(this.content.height)},onBackButtonClicked:function(){this.global.reload(),this.global.mainMenu.active=!0,this.node.active=!1},start:function(){}}),cc._RF.pop()},{Global:"Global",LevelNode:"LevelNode"}],OutOfLevel:[function(e,t){"use strict";cc._RF.push(t,"5437dmNsRdAcK1UHYJf4BbF","OutOfLevel"),e("Global"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.global=cc.find("Global").getComponent("Global")},onEnable:function(){this.scheduleOnce(function(){this.global.gameState=1,this.global.reload(),this.global.commingSoonScene.active=!1,this.global.mainMenu.active=!0},2)},onTouchBegan:function(){},start:function(){}}),cc._RF.pop()},{Global:"Global"}],Pin:[function(e,t){"use strict";cc._RF.push(t,"f324exUU1JE45j8lbaC4m6L","Pin");var i=e("LevelManager"),o=e("EndlessManager"),a=e("Rotator"),n=e("Global");cc.Class({extends:cc.Component,properties:{levelManager:i,endlessManager:o,rotator:{default:null,type:a},pin_id:1,pinHead:{default:null,type:cc.Node},speed:10,isPined:!1,timeLives:.5,timeSpent:0,global:n},onLoad:function(){this.global=cc.find("Global").getComponent("Global"),1==this.global.gameMode?(this.levelManager=cc.find("MainLevel").getChildByName("LevelManager").getComponent(i),this.rotator=this.levelManager.rotator.getComponent(a)):2==this.global.gameMode&&(this.endlessManager=cc.find("EndlessMode").getChildByName("EndlessLevelManager").getComponent(o),this.rotator=this.endlessManager.rotator.getComponent(a)),cc.director.getCollisionManager().enabled=!0,this.rotator.updatePinhead(this.pin_id)},start:function(){},update:function(e){this.timeSpent+=e,1==this.global.gameMode?1===this.levelManager.gameState||2===this.levelManager.gameState?this.node.isPined||(this.node.y+=this.speed*e):4!=this.levelManager.gameState||this.node.isPined||(this.node.y-=this.speed*e):2==this.global.gameMode&&(1===this.endlessManager.gameState||2===this.endlessManager.gameState?this.node.isPined||(this.node.y+=this.speed*e):4!=this.endlessManager.gameState||this.node.isPined||(this.node.y-=this.speed*e))},onCollisionEnter:function(e,t){e.node.getName()==t.node.getName()||"PinPinch"==e.node.getName()?(this.node.isPined&&this.timeSpent<=1&&(this.node.isPined=!1,this.pinHead.active=!1,this.rotator.givePoint(),2==this.global.gameMode&&this.endlessManager.subScore()),this.timeSpent<=1&&(this.getComponent(cc.CircleCollider).enabled=!1,this.scheduleOnce(function(){this.node.destroy()},this.timeLives)),1==this.global.gameMode?this.levelManager.gameOver():2==this.global.gameMode&&this.endlessManager.gameOver()):"Rotator"==e.node.getName()&&(this.node.isPined=!0,this.node.position=cc.v2(250,298),this.pinHead.active=!0,this.changeParent(t.node,e.node),this.rotator.takePoint(),2==this.global.gameMode&&this.endlessManager.addScore())},changeParent:function(e,t){if(e.parent!=t){var i=function(e){var t=e,i=t.angle;do{i+=(t=t.parent).angle}while(null!=t.parent);return i%360},o=(i(e),i(t)),a=e.convertToWorldSpaceAR(cc.v2(0,0)),n=t.convertToNodeSpaceAR(a);e.parent=t,e.position=n,e.angle=-o}},onDisable:function(){}}),cc._RF.pop()},{EndlessManager:"EndlessManager",Global:"Global",LevelManager:"LevelManager",Rotator:"Rotator"}],Rotator:[function(e,t){"use strict";cc._RF.push(t,"3268655p0lD1o5YWyxKakqg","Rotator");var i=e("Global"),o=(e("LevelManager"),e("EndlessManager"));cc.Class({extends:cc.Component,properties:{rotateSpeed:5,playing:!0,pinRequire:5,pinRequireText:{default:null,type:cc.Label},rotatorText:{default:null,type:cc.Label},reverseStep:99,currentStep:0,blackNode:{default:null,type:cc.Node},pinhead_ID:0,orangeNode:{default:null,type:cc.Node},yellowNode:{default:null,type:cc.Node},purpleNode:{default:null,type:cc.Node},color_id:1,global:i},onLoad:function(){cc.director.getCollisionManager().enabledDebugDraw=!1,this.global=cc.find("Global").getComponent(i),1==this.global.gameMode?this.levelManager=cc.find("MainLevel").getChildByName("LevelManager").getComponent("LevelManager"):2==this.global.gameMode&&(this.endlessManager=cc.find("EndlessMode").getChildByName("EndlessLevelManager").getComponent(o))},start:function(){},gameOver:function(){this.playing=!1},update:function(){this.playing&&(this.node.angle-=this.rotateSpeed),this.pinRequire<=0&&(1==this.global.gameMode?(this.levelManager.gameState=3,this.scheduleOnce(function(){this.levelManager.gameWin()},2)):2==this.global.gameMode&&(this.endlessManager.gameState=0)),4!=this.global.gameState&&3!=this.global.gameState&&1!=this.global.gameState||this.node.parent.destroy()},updatePinhead:function(e){this.pinhead_ID=e,this.updateNode()},updateNode:function(){this.blackNode.active=!1,1==this.pinhead_ID?this.yellowNode.active=!0:2==this.pinhead_ID?this.orangeNode.active=!0:3==this.pinhead_ID&&(this.purpleNode.active=!0)},rotatorSetting:function(e,t,i,o){this.rotateSpeed=e,this.pinRequire=t,this.reverseStep=i,this.currentStep=this.reverseStep,this.pinRequireText.string=this.pinRequire,this.rotatorText.string=o},setPlaying:function(e){this.playing=e},takePoint:function(){this.pinRequire--,this.currentStep--,this.currentStep<=0&&(this.rotateSpeed=-this.rotateSpeed,this.currentStep=this.reverseStep),this.pinRequireText.string=this.pinRequire},givePoint:function(){this.pinRequire++,this.currentStep++,this.currentStep<=0&&(this.rotateSpeed=-this.rotateSpeed,this.currentStep=this.reverseStep),this.pinRequireText.string=this.pinRequire}}),cc._RF.pop()},{EndlessManager:"EndlessManager",Global:"Global",LevelManager:"LevelManager"}],Test:[function(e,t){"use strict";cc._RF.push(t,"f367bjgOhxAiI8qeOQo7YWK","Test"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"9c1dc0EgmlNw68alTYaRa3L","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["AdBox","BackGround","Button","CameraControl","DrawTest","EndlessBox","EndlessManager","Global","HelloWorld","LevelManager","LevelNode","NodeLoader","OutOfLevel","Pin","Rotator","Test","use_v2.0.x_cc.Toggle_event"]);