window.__require=function e(t,o,n){function i(r,s){if(!o[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=o[r]={exports:{}};t[r][0].call(l.exports,function(e){return i(t[r][1][e]||e)},l,l.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({all_modules:[function(e,t,o){"use strict";cc._RF.push(t,"090e8xDLQRAgKX2HKPophnx","all_modules");var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(o,"__esModule",{value:!0}),i(e("../services/utils/utils_common"),o),i(e("./configurations/config_game"),o),i(e("../services/utils/utils_data"),o),i(e("../services/utils/utils_ui"),o),i(e("../services/utils/utils_anim_fx"),o),i(e("../services/audio"),o),i(e("../system/app_events"),o),i(e("../system/ui-fx/core_fx"),o),i(e("../system/ui-fx/core_ui"),o),i(e("../core-game/settings"),o),i(e("../core-game/game_mechanic"),o),i(e("../core-game/map_visual"),o),i(e("../core-game/tutorial"),o),i(e("../core-game/game_flow"),o),i(e("../control/control"),o),cc._RF.pop()},{"../control/control":"control","../core-game/game_flow":"game_flow","../core-game/game_mechanic":"game_mechanic","../core-game/map_visual":"map_visual","../core-game/settings":"settings","../core-game/tutorial":"tutorial","../services/audio":"audio","../services/utils/utils_anim_fx":"utils_anim_fx","../services/utils/utils_common":"utils_common","../services/utils/utils_data":"utils_data","../services/utils/utils_ui":"utils_ui","../system/app_events":"app_events","../system/ui-fx/core_fx":"core_fx","../system/ui-fx/core_ui":"core_ui","./configurations/config_game":"config_game"}],app_events:[function(e,t,o){"use strict";cc._RF.push(t,"10990IZBkRJQLreM2+T4aIH","app_events"),Object.defineProperty(o,"__esModule",{value:!0}),o.appEvents=void 0;var n=e("../system/all_modules");n._,n.$,o.appEvents={isAppHidden:!1,onAppShowCallbackArr:[],onAppHideCallbackArr:[],onAppShow:function(){this.isAppHidden=!1,this.onAppShowCallbackArr.map(function(e){return e()})},addAppShowCallback:function(e){this.onAppShowCallbackArr.push(e)},onAppHide:function(){this.isAppHidden=!0,this.onAppHideCallbackArr.map(function(e){return e()})},addAppHideCallback:function(e){this.onAppHideCallbackArr.push(e)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],audio:[function(e,t,o){"use strict";cc._RF.push(t,"57d370T3gNMWJXIo0x1feW9","audio"),Object.defineProperty(o,"__esModule",{value:!0}),o.audio=void 0;var n=e("../system/all_modules"),i=n._;n.$,o.audio={audioList:{},playingIdList:{},init:function(){},updateVolume:function(){cc.audioEngine.setEffectsVolume(n.settings.soundVolume),cc.audioEngine.setMusicVolume(n.settings.musicVolume)},loadAudioFiles:function(){var e=this;cc.resources.loadDir("audios",cc.AudioClip,function(t,o){if(t)return i.log(t);for(var a=0,r=o;a<r.length;a++){var s=r[a];e.audioList[s.name]=s}i.log("audio.js >> all audio loaded !"),i.waitToRun(function(){return e.playBgMusic(n.settings.musicVolume)},"isInitialized",n.settings)})},playSound:function(e,t){if(this.audioList[e])try{this.playingIdList[e]=cc.audioEngine.play(this.audioList[e],!1,t||n.settings.soundVolume)}catch(o){}},stopSound:function(e){this.playingIdList[e]&&cc.audioEngine.stopEffect(this.playingIdList[e])},playBgMusic:function(e){if(void 0===e&&(e=1),!cc.audioEngine.isMusicPlaying())try{this.playingIdList.bg_music=cc.audioEngine.playMusic(this.audioList.bg_music,!0),cc.audioEngine.setMusicVolume(e)}catch(t){i.log("playMusic err ",t)}},stopBgMusic:function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic()},playSoundClickButton:function(){n.settings.soundVolume&&this.playSound("button_click",1)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],bind_button_handlers:[function(e,t,o){"use strict";cc._RF.push(t,"9c123Lu5L1HWKu7kgQRu2Dk","bind_button_handlers"),Object.defineProperty(o,"__esModule",{value:!0}),o.bindButtonHandlers=void 0;var n=e("../../system/all_modules");n._,o.bindButtonHandlers={run:function(){n.utilsUI.makeBubbleButton("Canvas/screen/play_area/states/state_right/btn_next",function(){n.gameMechanic.onNextQuestion()}),n.utilsUI.makeBubbleButton("Canvas/screen/play_area/states/state_wrong/btn_replay",function(){n.gameMechanic.replay()}),n.utilsUI.makeBubbleButton("Canvas/screen/play_area/states/state_question/answer_a",function(){n.gameMechanic.onRightAnswer()}),n.utilsUI.makeBubbleButton("Canvas/screen/play_area/states/state_question/answer_b",function(){n.gameMechanic.onWrongAnswer()}),n.utilsUI.makeBubbleButton("Canvas/screen/layout_home/btn_play",function(){n.coreUI.hideLayout("layout_home"),n.coreUI.showLayout("play_area"),n.gameMechanic.startGame()}),n.utilsUI.makeBubbleButton("Canvas/screen/layout_home/btn_full_screen",function(){cc.screen.fullScreen()?cc.screen.exitFullScreen(document.getElementById("Cocos2dGameContainer")):cc.screen.requestFullScreen(document.getElementById("Cocos2dGameContainer"))})}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],config_game:[function(e,t,o){"use strict";cc._RF.push(t,"e2516totLFCXanAqceflU53","config_game"),Object.defineProperty(o,"__esModule",{value:!0}),o.configGame=void 0;var n=e("../all_modules");n._,n.$,o.configGame={},cc._RF.pop()},{"../all_modules":"all_modules"}],control:[function(e,t,o){"use strict";cc._RF.push(t,"1ddf8FW8cNGapuroxBoKhVq","control"),Object.defineProperty(o,"__esModule",{value:!0}),o.control=void 0;var n=e("../system/all_modules");n._,n.$,o.control={selectedCellNode:null,init:function(){}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],core_fx:[function(e,t,o){"use strict";cc._RF.push(t,"58583JUlBRDj43pXro2UfkX","core_fx"),Object.defineProperty(o,"__esModule",{value:!0}),o.coreFX=void 0;var n=e("../../system/all_modules");n._,n.$,o.coreFX={fxContainer:null,init:function(){},playAnimNewElemAppear:function(){n.coreUI.showNagScreen();var e=n.gameMechanic,t=e.draggableElemNode,o=e.draggableElemNodeOrgPos;e.setRandomDraggableElemSprite(),t.stopAllActions(),t.setPosition(o),t.y+=cc.winSize.height,cc.tween(e.draggableElemNode).to(.4,{y:o.y-t.height*t.scale+25}).to(0,{opacity:0}).call(this.shakeToaster).delay(.6).to(0,{opacity:255}).to(.01,{opacity:255}).to(.2,{y:o.y+30}).to(.2,{y:o.y}).call(function(){n.coreUI.hideNagScreen()}).start()},shakeToaster:function(){var e=cc.find("Canvas/screen/play_area/toaster");cc.tween(e).to(.05,{angle:-14},{easing:"sineOut"}).to(.1,{angle:14},{easing:"sineOut"}).to(.1,{angle:-14},{easing:"sineOut"}).to(.1,{angle:14},{easing:"sineOut"}).to(.1,{angle:-14},{easing:"sineOut"}).to(.05,{angle:0},{easing:"sineOut"}).call(function(){n.utilsAnimFx.replayParticle(cc.find("smoke",e))}).start()}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],core_ui:[function(e,t,o){"use strict";cc._RF.push(t,"b15554JuJ1HfrbLWDvHND0f","core_ui"),Object.defineProperty(o,"__esModule",{value:!0}),o.coreUI=void 0;var n=e("../../system/all_modules"),i=n._,a=e("./bind_button_handlers");o.coreUI={isMobile:!1,alertOKCallback:null,init:function(){a.bindButtonHandlers.run()},updateScore:function(){n.utilsUI.fillLabel(cc.find("Canvas/screen/play_area/status/label_status"),""+n.gameMechanic.currentScore)},updatebestScore:function(){n.utilsUI.fillLabel(cc.find("Canvas/screen/play_area/states/state_wrong/label_highscore"),"Best score: "+n.gameFlow.bestScore)},showLayout:function(e){var t=i.isString(e)?cc.find("Canvas/screen/"+e):e;t.active=!0,t.opacity=255},hideLayout:function(e){(i.isString(e)?cc.find("Canvas/screen/"+e):e).active=!1},showAlert:function(e,t){this.showLayout("layer_alert"),n.utilsUI.fillLabel(cc.find("Canvas/screen/layer_alert/bg_msg/label_msg"),e),this.alertOKCallback=t},hideLoadingTimer:null,showLoading:function(){var e=this;this.showLayout("layer_loading"),this.hideLoadingTimer&&clearTimeout(this.hideLoadingTimer),this.hideLoadingTimer=setTimeout(function(){return e.hideLoading()},1e4)},hideLoading:function(){this.hideLayout("layer_loading"),this.hideLoadingTimer&&clearTimeout(this.hideLoadingTimer)},showNagScreen:function(e){var t=this;cc.find("Canvas/screen/nag_screen").active=!0,e&&i.setTimeout(function(){return t.hideNagScreen()},1e3*e)},hideNagScreen:function(){cc.find("Canvas/screen/nag_screen").active=!1},updateUserStats:function(e){void 0===e&&(e=!1)}},cc._RF.pop()},{"../../system/all_modules":"all_modules","./bind_button_handlers":"bind_button_handlers"}],fake_data:[function(e,t,o){"use strict";cc._RF.push(t,"25f88RFmCZGa49AJHci4GRo","fake_data"),Object.defineProperty(o,"__esModule",{value:!0}),o.fakeData=void 0;var n=e("../system/all_modules");n._,n.$,o.fakeData=[{q:"(Question 1) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 1A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 1B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q1.fw.png",ai:"r1.fw.png",bi:"w1.fw.png"},{q:"(Question 2) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 2A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 2B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q2.fw.png",ai:"r2.fw.png",bi:"w2.fw.png"},{q:"(Question 3) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 3A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 3B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q3.fw.png",ai:"r3.fw.png",bi:"w3.fw.png"},{q:"(Question 4) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 4A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 4B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q4.fw.png",ai:"r4.fw.png",bi:"w4.fw.png"},{q:"(Question 5) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 5A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 5B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q5.fw.png",ai:"r5.fw.png",bi:"w5.fw.png"},{q:"(Question 6) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 6A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 6B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q6.fw.png",ai:"r6.fw.png",bi:"w6.fw.png"},{q:"(Question 7) Ipsum dolor sit am et. Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.Ipsum dolor sit amet.",a:"Answer 7A: Ipsum dolor sit am et. Ipsum dolor sit amet.",b:"Answer 7B: Ipsum dolor sit am et. Ipsum dolor sit amet.",qi:"q7.fw.png",ai:"r7.fw.png",bi:"w7.fw.png"}],cc._RF.pop()},{"../system/all_modules":"all_modules"}],free_button_comp:[function(e,t,o){"use strict";cc._RF.push(t,"ee307OeX0lMvqRwlJoeXArM","free_button_comp");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../system/all_modules"),s=(r._,r.$,cc._decorator),c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.freeHandler=function(e){e.target.freeButtonHandlerFunc&&e.target.freeButtonHandlerFunc(e.target)},a([c],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../system/all_modules":"all_modules"}],game_flow:[function(e,t,o){"use strict";cc._RF.push(t,"133e2EyA7BEH6xD94DPj2u1","game_flow"),Object.defineProperty(o,"__esModule",{value:!0}),o.gameFlow=void 0;var n=e("../system/all_modules");n._,n.$,o.gameFlow={bestScore:0,init:function(){var e=this;n.utilsData.load(["bestScore"],function(t){e.bestScore=t.bestScore||0,n.coreUI.updatebestScore()})}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],game_mechanic:[function(e,t,o){"use strict";cc._RF.push(t,"438ea0dqARKwKWtyk/Ae8uA","game_mechanic"),Object.defineProperty(o,"__esModule",{value:!0}),o.gameMechanic=void 0;var n=e("../system/all_modules"),i=n._,a=(n.$,e("../system/fake_data"));o.gameMechanic={isLocal:!window.questionArray,currentScore:0,questionDataArr:window.questionArray||a.fakeData,maxPreloadQuestionNumber:window[".maxPreloadQuestionNumber"]||5,nextQuestionInfoArr:[],nextImageSpritesArr:[],currentQuestionInfo:null,currentImageSprites:null,init:function(){i.log("gameMechanic.init() questionDataArr = "+this.questionDataArr),this.preloadNextQuestion()},getNextQuestionInfo:function(e){var t=this,o=function(){t.currentQuestionInfo=t.nextQuestionInfoArr.shift(),t.currentImageSprites=t.nextImageSpritesArr.shift(),t.preloadNextQuestion(),e&&e()};this.nextImageSpritesArr.length||this.isLocal?o():i.waitToRun(o,"length",this.nextImageSpritesArr)},preloadNextQuestion:function(){var e=this,t=window.initQuestionInfo||i.randomArrItem(this.questionDataArr);window.initQuestionInfo&&(window.initQuestionInfo=null);var o={questionImage:null,rightImage:null,wrongImage:null},n=function(){e.nextImageSpritesArr.push(o),e.nextQuestionInfoArr.push(t),i.log(" => => LOADED "+t.q.substr(0,12)),e.nextImageSpritesArr.length<e.maxPreloadQuestionNumber&&e.preloadNextQuestion()};if(i.log(" preloading.... => "+t.q.substr(0,12)),this.isLocal)return n();var a={isNextQuestionLoaded:function(){return e.isLocal||o.questionImage&&o.rightImage&&o.wrongImage}};i.waitToRun(n,"isNextQuestionLoaded()",a);var r={questionImage:"external-data/images/"+t.qi,rightImage:"external-data/images/"+t.ai,wrongImage:"external-data/images/"+t.bi},s=function(e){var t=r[e];cc.assetManager.loadRemote(t,function(n,a){if(n)return i.log("error loading image "+t+" // err="+n);o[e]=new cc.SpriteFrame(a)})};for(var c in r)s(c)},startGame:function(){this.currentScore=0,n.coreUI.updateScore(),this.onNextQuestion()},onNextQuestion:function(){n.coreUI.showLayout("layout_loading"),this.getNextQuestionInfo(function(){n.coreUI.hideLayout("layout_loading"),n.mapVisual.fillMapWithCurrentQuestion(),n.mapVisual.setMapState("state_question")})},replay:function(){this.startGame()},onRightAnswer:function(){n.mapVisual.setMapState("state_right"),this.currentScore++,n.coreUI.updateScore()},onWrongAnswer:function(){n.mapVisual.setMapState("state_wrong"),this.currentScore>n.gameFlow.bestScore&&(n.gameFlow.bestScore=this.currentScore,n.utilsData.save({bestScore:n.gameFlow.bestScore}),n.coreUI.updatebestScore())}},cc._RF.pop()},{"../system/all_modules":"all_modules","../system/fake_data":"fake_data"}],map_visual:[function(e,t,o){"use strict";cc._RF.push(t,"8e0baH2ZLtGQb52+gG4oZRe","map_visual"),Object.defineProperty(o,"__esModule",{value:!0}),o.mapVisual=void 0;var n=e("../system/all_modules"),i=n._;n.$,o.mapVisual={init:function(){},fillMapWithCurrentQuestion:function(){var e=n.gameMechanic.currentQuestionInfo,t=e.q,o=e.a,i=e.b;n.utilsUI.fillLabel(cc.find("Canvas/screen/play_area/question_label"),t),n.utilsUI.fillLabel(cc.find("Canvas/screen/play_area/states/state_question/answer_a/label"),o),n.utilsUI.fillLabel(cc.find("Canvas/screen/play_area/states/state_question/answer_b/label"),i),n.utilsUI.setNodeSprite(cc.find("Canvas/screen/play_area/main_image"),n.gameMechanic.currentImageSprites.questionImage),this.swapAnswerButtonsRandomly()},setMapState:function(e){n.utilsUI.showOnlyChildNodeWithNameAs(cc.find("Canvas/screen/play_area/states"),e);var t=e.replace("state_","")+"Image",o=n.gameMechanic.currentImageSprites[t];n.utilsUI.setNodeSprite(cc.find("Canvas/screen/play_area/main_image"),o)},swapAnswerButtonsRandomly:function(){var e,t=cc.find("Canvas/screen/play_area/states/state_question/answer_a"),o=cc.find("Canvas/screen/play_area/states/state_question/answer_b");i.random()>.5&&(e=t.position,t.setPosition(o.position),o.setPosition(e))}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],project_init_comp:[function(e,t,o){"use strict";cc._RF.push(t,"6a573g+HCdKnYr0iab16Em0","project_init_comp");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../system/all_modules"),s=(r._,r.$,cc._decorator),c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){window._G=r},t.prototype.onLoad=function(){for(var e in cc.game.on(cc.game.EVENT_SHOW,function(){return r.appEvents.onAppShow()}),cc.game.on(cc.game.EVENT_HIDE,function(){return r.appEvents.onAppHide()}),r)r[e].init&&r[e].init()},a([c],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../system/all_modules":"all_modules"}],settings:[function(e,t,o){"use strict";cc._RF.push(t,"47b954QQ/RNPrn+v8nMvQ+H","settings"),Object.defineProperty(o,"__esModule",{value:!0}),o.settings=void 0;var n=e("../system/all_modules");n._,n.$,o.settings={node:null,soundVolume:1,musicVolume:1,isInitialized:!1,init:function(){},onSliderSlide:function(e,t){this[e]=t,this.updateAllSliders(),this.onSliderTouchEnd()},onSliderTouchEnd:function(){n.utilsData.save({soundVolume:this.soundVolume,musicVolume:this.musicVolume})},updateAllSliders:function(){n.audio.updateVolume();var e=cc.find("Canvas/screen/layout_pause/ellipse_dialog"),t=cc.find("Canvas/screen/layout_settings/ellipse_dialog"),o=cc.find("slider_music",e),i=cc.find("slider_sound",e),a=cc.find("slider_music",t),r=cc.find("slider_sound",t);o.getComponent(cc.Slider).progress=this.musicVolume,a.getComponent(cc.Slider).progress=this.musicVolume,i.getComponent(cc.Slider).progress=this.soundVolume,r.getComponent(cc.Slider).progress=this.soundVolume,[o,a,i,r].map(function(e){var t=cc.find("slider_progress",e),o=t.orgWidth=t.orgWidth||t.width;t.width=e.getComponent(cc.Slider).progress*o})}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],slider_comp:[function(e,t,o){"use strict";cc._RF.push(t,"0e249NqAVtKgq+oKkbhPTtK","slider_comp");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../system/all_modules"),s=(r._,r.$,cc._decorator),c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onSliderSlide=function(){r.settings.onSliderSlide(this.node.name.replace("slider_","")+"Volume",this.node.getComponent(cc.Slider).progress)},a([c],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../system/all_modules":"all_modules"}],tutorial:[function(e,t,o){"use strict";cc._RF.push(t,"9fa024zMbVB+Lq+UeHKKCS8","tutorial"),Object.defineProperty(o,"__esModule",{value:!0}),o.tutorial=void 0;var n=e("../system/all_modules");n._,n.$,o.tutorial={node:null,isShown:!1,init:function(){this.node=cc.find("Canvas/screen/layout_tutorial")},checkToShow:function(){this.isShown||(this.isShown=!0,n.coreUI.showLayout(this.node))}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],utils_anim_fx:[function(e,t,o){"use strict";cc._RF.push(t,"e273ec92dRLKKGQF99UI9/D","utils_anim_fx");var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.utilsAnimFx=void 0;var i=e("../../system/all_modules"),a=i._;o.utilsAnimFx={fxNodePool:{},init:function(){},replayParticle:function(e){e&&e.getComponent(cc.ParticleSystem)&&(e.active=!0,e.getComponent(cc.ParticleSystem).resetSystem())},playNodeAnim:function(e,t,o,n,i){void 0===n&&(n=!1);var a=e.getComponent(cc.Animation);if(e.activeInHierarchy&&a&&(t=t||(a.defaultClip?a.defaultClip.name:""))){var r=a[n?"playAdditive":"play"](t);if(r)return r.repeatCount=(-1==o?1/0:o)||1,i&&a.on("finished",function(){a.off("finished"),i()}),r}},playNodeAnimAsSoonAsNodeActive:function(e,t,o,n){var i=this;void 0===o&&(o=1),void 0===n&&(n=!0);var r="waitInterval2PlayAnimWhenActive";e[r]=a.waitToRun(function(){e[r]&&clearInterval(e[r]),i.playNodeAnim(e,t,o,n)},"activeInHierarchy",e)},playNodeAnimArr:function(e,t,o,i){var a=this;if(void 0===o&&(o=!1),e.activeInHierarchy){var r=e.getComponent(cc.Animation);if(e.activeInHierarchy&&r){var s=n(t);r.on("finished",function(){s.length?a.playNodeAnim(e,s.shift(),1,o):(r.off("finished"),i&&i())}),this.playNodeAnim(e,s.shift(),1,o)}}},stopAllNodeAnims:function(e){var t=e.getComponent(cc.Animation);t&&(t.stop(),t.off("finished"))},stopAnimAtFrame0:function(e){var t=this,o=e.getComponent(cc.Animation);o.play("ufo_ring_fx"),a.setTimeout(function(){o.setCurrentTime(0),t.stopAllNodeAnims(e)})},playIncreasingNumberLabel:function(e,t,o,n,i,r,s){void 0===n&&(n=5),void 0===i&&(i=.5),void 0===r&&(r=0),void 0===s&&(s="xxx");var c=e.getComponent(cc.Label),u=o/n,l=i/n;cc.tween(e).delay(r).repeat(n,cc.tween().call(function(){t+=u;var e=a.formatMoney(a.round(t));c.string=s.replace(/xxx/g,e)}).delay(l)).start()},getNewFxNode:function(e,t){e.nodePoolId||(e.nodePoolId=a.getNewUuid()),this.fxNodePool[e.nodePoolId]||(this.fxNodePool[e.nodePoolId]=[]);var o=this.fxNodePool[e.nodePoolId].pop()||a.copyNode(e);return o.nodePoolId=e.nodePoolId,o.parent=t||i.coreFX.fxContainer,o},saveFxNodeToPool:function(e){e.stopAllActions(),e.active=!1,this.fxNodePool[e.nodePoolId].unshift(e)},particlesFlyFromA2B:function(e,t,o,n,i){for(var r=this,s=n||{numberOfNode:20,delayStartTime:.05,flyDuration:1,randomBezierPointRange:{x:200,y:200}},c=s.numberOfNode,u=s.flyDuration,l=s.delayStartTime,d=s.randomBezierPointRange,m=a.getGlobalPosDiff(t,o),f=function(o){var n=p.getNewFxNode(e,i);n.active=!0,n.opacity=255,a.setGlobalPosToNode(n,t);var s=p.getRandomPointInRage(d),c=p.getRandomPointInRage(d);cc.tween(n).delay(o*l).bezierBy(u,s,c,m).call(function(){r.saveFxNodeToPool(n)}).start()},p=this,_=0;_<c;_++)f(_)},getRandomPointInRage:function(e){return cc.v2(a.randomNumber(2*e.x)-e.x,a.randomNumber(2*e.y)-e.y)},nodeFlyFromAtoB:function(e,t,o,n){void 0===o&&(o=.3);var i=a.getGlobalPosDiff(e,t);cc.tween(e).by(o,{position:i}).call(function(){return n&&n()}).start()},captureNodeToTexture:function(e){e.activeInHierarchy||(e.active=!0);var t=new cc.Node;e.addChild(t);var o=t.addComponent(cc.Camera),n=new cc.RenderTexture,i=cc.game._renderContext;n.initWithSize(e.width,e.height,i.STENCIL_INDEX8),o.targetTexture=n,o.zoomRatio=1.3,o.backgroundColor=cc.Color.WHITE,o.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR;var a=n.width,r=n.height,s=document.createElement("canvas");s.width=a,s.height=r;var c=s.getContext("2d");o.render(e);for(var u=n.readPixels(),l=4*a,d=0;d<r;d++){var m=r-1-d,f=new Uint8ClampedArray(u.buffer,m*a*4,l),p=new ImageData(f,a,1);c.putImageData(p,0,d)}var _=s.toDataURL("image/jpeg");return setTimeout(function(){e.active=!1,t.removeFromParent()},1e3),_}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_common:[function(e,t,o){"use strict";cc._RF.push(t,"38328hs45lM85Ud0D0XUutA","utils_common");var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o._=o.$=void 0;var a=e("../../system/all_modules"),r=e("./utils_time"),s=e("./utils_coordinate"),c=100;o.$=function(e,t){void 0===t&&(t=0),o._.$callCount=(o._.$callCount||0)+1,e.name!=a.types.elem.card&&(t=0);var n=e["props_"+t]||{};return e["props_"+t]=n},o.$.clean=function(e,t){void 0===t&&(t=0),0!=t&&delete e["props_"+t]},o._=n(n({NO_CONSOLE_LOG:!1,isANDROID:cc.sys.os==cc.sys.OS_ANDROID,isIOS:cc.sys.os==cc.sys.OS_IOS,max:Math.max,min:Math.min,round:Math.round,floor:Math.floor,ceil:Math.ceil,sign:Math.sign,abs:Math.abs,pow:Math.pow,random:Math.random,sqrt:Math.sqrt,sin:Math.sin,cos:Math.cos,tan:Math.tan,atan:Math.atan,atan2:Math.atan2,log10:Math.log10,PI:Math.PI,randomArrItem:function(e,t){void 0===t&&(t=!1);var o=Math.floor(Math.random()*e.length);return t?e.splice(o,1)[0]:e[o]},isString:function(e){return"string"==typeof e},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.NO_CONSOLE_LOG)try{console.log.apply(console,e)}catch(o){}},getNewUuid:function(){return c++},removeArrayItem:function(e,t){var o=e.indexOf(t);-1!=o&&e.splice(o,1)},addUniqueElemToArr:function(e,t){e.includes(t)||e.push(t)},randomNumber:function(e){return o._.floor(o._.random()*e)},shuffleArray:function(e,t){var o=this;void 0===t&&(t=!1);var n=t?i(e):e;return n.sort(function(){return o.random()>.5?1:-1}),n},directionVec2:function(){return{top:cc.v2(0,1),bottom:cc.v2(0,-1),left:cc.v2(-1,0),right:cc.v2(1,0)}},reservedDir:function(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]},getGlobalPos:function(e){return e.convertToWorldSpaceAR(cc.Vec2.ZERO)},getGlobalPosDiff:function(e,t){return this.getGlobalPos(t).sub(this.getGlobalPos(e))},setGlobalPosToNode:function(e,t){var o=this.getGlobalPos(t),n=e.parent.convertToNodeSpaceAR(o);e.setPosition(n)},setGlobalPos:function(e,t){var o=e.parent.convertToNodeSpaceAR(t);e.setPosition(o)},moveToNewParentKeepPosition:function(e,t){var o=t.convertToNodeSpaceAR(this.getGlobalPos(e));e.parent=t,e.setPosition(o)},isGlobalOverlapping:function(e,t){return cc.Intersection.rectRect(e.getBoundingBoxToWorld(),t.getBoundingBoxToWorld())},getBezierPointFunc:function(e){return function(t){for(var o=e;o.length>1;o=a)for(var n,i=0,a=[];i<o.length-1;i++)for(a[i]=[],n=0;n<o[i].length;n++)a[i][n]=o[i][n]*(1-t)+o[i+1][n]*t;return o[0]}},copyNode:function(e,t){var o=cc.instantiate(e);return t&&(o.parent=t),o},setOrgProp:function(e,t){var o=this,n=["x","y","width","height","opacity"];if(t&&this.addUniqueElemToArr(n,t),n.map(function(t){var n="org"+o.capitalize(t);e[n]=e.hasOwnProperty(n)?e[n]:e[t]}),t)return e["org"+this.capitalize(t)]},getNodePath:function(e){for(var t=[e.name],o=e.parent,n=0;o&&n++<50&&o.parent;)t.push(o.name),o=o.parent;return t.reverse().join("/")},nodeConnect2Points:function(e,t,n){var i=n.sub(t);e.height=i.mag(),e.setPosition(t.add(i.mul(.5))),e.angle=90+o._.radianToDegrees(o._.atan2(i.y,i.x))},getNodeDistance:function(e,t){return this.getGlobalPosDiff(e,t).mag()},radianToDegrees:function(e){return 180*e/Math.PI},degreesToRadian:function(e){return e*Math.PI/180},vec2ToAngle:function(e){return o._.radianToDegrees(o._.atan2(e.y,e.x))},formatTime:function(e){var t=o._.floor(e/3600),n=o._.floor(e%3600/60),i=e%3600%60;return t<10&&(t="0"+t),n<10&&(n="0"+n),i<10&&(i="0"+i),t+":"+n+":"+i},formatMoney:function(e){var t=o._.floor(Math.log10(e))+1;if(t<=6)return e.toLocaleString();var n,i=o._.floor((t-1)/3);return n=i-2<=3?["K","M","B","T"][i-2]:String.fromCharCode((i-6)/26+"a".charCodeAt(0))+String.fromCharCode((i-6)%26+"a".charCodeAt(0)),o._.round(e/o._.pow(10,3*(i-1))).toLocaleString()+n},capitalize:function(e){var t=i(e);return t[0]=t[0].toUpperCase(),t.join("")},getInRange:function(e,t,n){return o._.min(o._.max(e,t),n)}},r.default),s.default),cc._RF.pop()},{"../../system/all_modules":"all_modules","./utils_coordinate":"utils_coordinate","./utils_time":"utils_time"}],utils_coordinate:[function(e,t,o){"use strict";cc._RF.push(t,"5df86zHog5HcqIKMKzmLV+k","utils_coordinate"),Object.defineProperty(o,"__esModule",{value:!0}),e("../../system/all_modules").$;var n=e("./utils_common");o.default={isVecHorz:function(e){return n._.abs(e.x)>n._.abs(e.y)},getPointRanges:function(e){var t=99999999,o=99999999,i=-99999999,a=-99999999;return e.map(function(e){t=n._.min(t,e.x),o=n._.min(o,e.y),i=n._.max(i,e.x),a=n._.max(a,e.y)}),{minX:t,minY:o,maxX:i,maxY:a}},distance2polygon:function(e,t){function o(e,t,o){var n,i,a=e.x,r=e.y,s=t.x,c=t.y,u=o.x,l=o.y,d=u-s,m=l-c,f=d*d+m*m,p=-1;0!=f&&(p=((a-s)*d+(r-c)*m)/f),p<0?(n=s,i=c):p>1?(n=u,i=l):(n=s+p*d,i=c+p*m);var _=a-n,g=r-i;return Math.sqrt(_*_+g*g)}return t.map(function(n,i){var a=t[i+1]||t[0];return o(e,n,a)}).sort(function(e,t){return e>t?1:-1})[0]}},cc._RF.pop()},{"../../system/all_modules":"all_modules","./utils_common":"utils_common"}],utils_data:[function(e,t,o){"use strict";cc._RF.push(t,"55e17+IhfZAOKUumwaKfgIH","utils_data"),Object.defineProperty(o,"__esModule",{value:!0}),o.utilsData=void 0;var n=e("../../system/all_modules");n._,n.$,o.utilsData={save:function(e,t){for(var o in e)localStorage.setItem(o,JSON.stringify(e[o]));setTimeout(function(){t&&t()},300)},load:function(e,t){var o={};e.map(function(e){if(null!==localStorage.getItem(e))try{o[e]=JSON.parse(localStorage.getItem(e))}catch(t){console.warn(" utilsData.load() >> Error  data key = "+e+" ",t)}}),t&&setTimeout(function(){return t(o)},100)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_time:[function(e,t,o){"use strict";cc._RF.push(t,"f9b241Zt2BFFa5XMWEu3uey","utils_time"),Object.defineProperty(o,"__esModule",{value:!0}),e("../../system/all_modules").$;var n=1e5;o.default={getMsPassedUTC:function(){return(new Date).getTime()},getMsPassedPT:function(){var e=this.getPacificTimeOffset();return this.getMsPassedUTC()+36e5*e},getTimePT:function(e){void 0===e&&(e=new Date);var t=this.getPacificTimeOffset(e),o=e.getHours()+e.getTimezoneOffset()/60;return e.setHours(o+t),e},isSameDate:function(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()},getTotalMsToMidnightPT:function(){return 864e5-this.getMsPassedPT()%864e5},getDSTStartEndDate:function(e){var t=(e||new Date).getFullYear(),o=new Date(t,2,1),n=(7-o.getDay())%7,i=o.getDate()+n+7,a=new Date(t,2,i),r=new Date(t,10,1),s=(7-r.getDay())%7,c=r.getDate()+s;return[a,new Date(t,10,c)]},getPacificTimeOffset:function(e){var t=e||new Date,o=this.getDSTStartEndDate(),n=o[0],i=o[1];return t>n&&t<i?-7:-8},setTimeout:function(e,t){void 0===t&&(t=0);var o={_id:n++,__instanceId:n,callback:null};return o.callback=function(){e(o)},cc.director.getScheduler().schedule(o.callback,o,t/1e3,0,0,!1),o},clearTimeout:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},setInterval:function(e,t){void 0===t&&(t=0);var o={_id:n++,__instanceId:n,callback:null};return o.callback=function(){e(o)},cc.director.getScheduler().schedule(o.callback,o,t/1e3,cc.macro.REPEAT_FOREVER,0,!1),o},clearInterval:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},addPseudoUpdateFunc:function(e){var t=this,o=this.getMsPassedUTC();return this.setInterval(function(){var n=t.getMsPassedUTC(),i=n-o;o=n,e(i)},.01)},secondsToTimeCountdown:function(e){if(void 0===e&&(e=0),e<=0)return"0:00";var t=Math.floor(e/86400),o=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),i=e%60;if(t>2)return t+" days";if(1==t)return"1 day";var a="";return o>0&&(a=o+":"),(a+=n+":")+(i>=10?i:"0"+i)},waitToRun:function(e,t,o,n,i,a){void 0===o&&(o=window),void 0===n&&(n=.1);var r=!1,s=t.startsWith("!"),c=t.endsWith("()");t=t.replace("!","").replace("()","");var u,l=c?function(){return o[t]()}:null,d=function(){if(s){if(c){if(l())return}else if(o[t])return}else if(c){if(!l())return}else if(!o[t])return;return clearInterval(u),r=!0,e(o[t]),!0};return d()?u:(u=setInterval(d,1e3*n),i&&this.setTimeout(function(){clearInterval(u),a&&!r&&a()},1e3*i),u)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_ui:[function(e,t,o){"use strict";cc._RF.push(t,"fac22cBTNdDypWs3FUVCI/a","utils_ui"),Object.defineProperty(o,"__esModule",{value:!0}),o.utilsUI=void 0;var n=e("../../system/all_modules"),i=n._,a=(n.$,{touchstart:[],touchmove:[],touchend:[]});o.utilsUI={init:function(){},fillLabel:function(e,t){(e.getComponent(cc.Label)||e.getComponent(cc.RichText)).string=t},fillChildLabelByPath:function(e,t,o){var n=cc.find(t,e);n&&this.fillLabel(n,o)},showOnlyChildNodeWithNameAs:function(e,t,o){var n;return void 0===o&&(o=!1),e.children.map(function(e){var i=e.name==t;i&&(n=e),e.active=i,o&&(e.opacity=i?255:0)}),n},setLabelCountDownTimer:function(e,t,o){"string"==typeof e&&(e=cc.find(e)),e.countDownTimerVar&&clearInterval(e.countDownTimerVar);var a=function(){if(!e.parent)return clearInterval(e.countDownTimerVar);var a=t-i.getMsPassedUTC(),r=i.secondsToTimeCountdown(i.floor(a/1e3));n.utilsUI.fillLabel(e,r),a<=0&&(clearInterval(e.countDownTimerVar),o&&o())};e.countDownTimerVar=setInterval(a,500),a()},setNodeSprite:function(e,t){e&&e.getComponent(cc.Sprite)&&(e.getComponent(cc.Sprite).spriteFrame=t)},setNodeSpriteFromUrl:function(e,t,o){var n=this;e&&e.getComponent(cc.Sprite)&&cc.assetManager.loadRemote(t,function(t,i){return t||n.setNodeSprite(e,new cc.SpriteFrame(i)),o&&o(i)})},setNodeSpriteFillRange:function(e,t){e&&e.getComponent(cc.Sprite)&&(e.getComponent(cc.Sprite).fillRange=t)},makeButton:function(e,t,o,r){var s=i.isString(e)?cc.find(e):e;i.setTimeout(function(){s||i.log("undefined node path = "+e),s.getComponent("free_button_comp")||s.addComponent("free_button_comp");var c=s.addComponent(cc.Button);c.transition=o?cc.Button.Transition.SCALE:null,c.zoomScale=e.buttonCompZoomScale||1.2;var u=new cc.Component.EventHandler;u.target=s,u.component="free_button_comp",u.handler="freeHandler",c.clickEvents.push(u),s.freeButtonHandlerFunc=function(){t(),r||n.audio.playSound("button_click"),a.touchstart.map(function(e){return e()})}})},makeBubbleButton:function(e,t){return this.makeButton(e,t,!0)},singleTouchSet:function(e,t,o,n){var i=function(e,t,o){e(t.touch.getLocation(),t,o)};e.on("touchstart",function(o){e._customTouchId||(e._customTouchId=o.touch._id+1,t&&i(t,o,e._customTouchId))}),o&&e.on("touchmove",function(t){var n=t.touch._id+1;n==e._customTouchId&&o&&i(o,t,n)});var a=function(t){var o=t.touch._id+1;o==e._customTouchId&&(e._customTouchId=null,n&&i(n,t,o))};e.on("touchend",a),e.on("touchcancel",a)},bindCanvasTouchHandler:function(){var e=cc.find("Canvas");this.singleTouchSet(e,function(e){a.touchstart.map(function(t){return t(e)})},function(e){a.touchmove.map(function(t){return t(e)})},function(e){a.touchend.map(function(t){return t(e)})})},addCanvasTouchHandler:function(e,t){var o=a[e];o&&o.push(t)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}]},{},["control","game_flow","game_mechanic","map_visual","settings","slider_comp","tutorial","audio","free_button_comp","utils_anim_fx","utils_common","utils_coordinate","utils_data","utils_time","utils_ui","all_modules","app_events","config_game","fake_data","project_init_comp","bind_button_handlers","core_fx","core_ui"]);