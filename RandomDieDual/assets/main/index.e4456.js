window.__require=function e(t,n,o){function a(i,c){if(!n[i]){if(!t[i]){var l=i.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!c&&u)return u(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+i+"'")}i=l}var s=n[i]={exports:{}};t[i][0].call(s.exports,function(e){return a(t[i][1][e]||e)},s,s.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<o.length;i++)a(o[i]);return a}({all_modules:[function(e,t,n){"use strict";cc._RF.push(t,"8a0f9gSdL1GurD0/DB0K5fN","all_modules"),n.__esModule=!0;var o=e("./configs");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=o[e])});var a=e("./utils/utils");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=a[e])});var r=e("./utils/utils_facebook");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=r[e])});var i=e("./ui-fx/ui");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=i[e])});var c=e("./ui-fx/fx");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=c[e])});var l=e("./tut/tut");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=l[e])});var u=e("./logic/login");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=u[e])});var s=e("./logic/data");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=s[e])});var f=e("./logic/game");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=f[e])});var d=e("./logic/game_over");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=d[e])});var p=e("./logic/user");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=p[e])});var m=e("./core/control");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=m[e])});var g=e("./core/map");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=g[e])});var _=e("./core/map_visual");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=_[e])});var h=e("./language/game_language");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=h[e])});var v=e("./logic/load_optimize");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=v[e])});var y=e("./logic/get7Video");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=y[e])});var b=e("./logic/remove_new_item");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=b[e])});var C=e("./analaytic/analytic");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=C[e])}),cc._RF.pop()},{"./analaytic/analytic":"analytic","./configs":"configs","./core/control":"control","./core/map":"map","./core/map_visual":"map_visual","./language/game_language":"game_language","./logic/data":"data","./logic/game":"game","./logic/game_over":"game_over","./logic/get7Video":"get7Video","./logic/load_optimize":"load_optimize","./logic/login":"login","./logic/remove_new_item":"remove_new_item","./logic/user":"user","./tut/tut":"tut","./ui-fx/fx":"fx","./ui-fx/ui":"ui","./utils/utils":"utils","./utils/utils_facebook":"utils_facebook"}],analytic:[function(e,t,n){"use strict";cc._RF.push(t,"79d7aNF+61FEK5DKomHKRWO","analytic"),n.__esModule=!0,n.analytic=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i={sessionId:0,appActiveTime:0,timerVar:0,isTimerRunning:!1,isInitialized:!1,timeTickCallbackArr:[],dataFieldNameArr:["analytic_lastPlayingTime","analytic_sessionCount","analytic_gameCount","analytic_lastSessionTime"],lastSession:{playingTime:0,gameCount:0},thisSession:{playingTime:0,gameCount:0},currentGame:{matchTime:0},init:function(){},summarizeLastSession:function(e){this.lastSession.playingTime=this.thisSession.playingTime=e.analytic_lastPlayingTime||0,this.lastSession.gameCount=this.thisSession.gameCount=e.analytic_gameCount||0,this.saveSessionTime()},startTrackingSessionTime:function(){var e=this;this.addTimeTickCallback(function(t){e.thisSession.playingTime=e.lastSession.playingTime+e.appActiveTime,e.currentGame.matchTime++,t%30==0&&e.saveSessionTime()})},saveSessionTime:function(){o.data.saveData({analytic_lastSessionTime:this.appActiveTime,analytic_lastPlayingTime:this.thisSession.playingTime})},logEventSessionStart:function(){},logEvent:function(e,t){var n=this;void 0===t&&(t={}),o.utils.waitToRun(function(){o.utilsFB.log(e,1,r({},t,n.getAttachedData()))},"isInitialized",this)},onShowAd:function(){this.stopTimer()},gameAdShowTime:0,onHideAd:function(){this.startTimer(),this.gameAdShowTime++},onSubscribeDone:function(e){this.logEvent("progress_messages",{value:e?"turn_on":"not_now"})},onStartTut:function(){this.tutStartTime=_time()},onEndTut:function(){var e=parseInt((_time()-this.tutStartTime)/1e3);this.logEvent("progress_tutorial_complete",{tutorial_time:e})},isLastGameShowButtonShareNormal:!1,onShowButtonShareNormal:function(){this.isLastGameShowButtonShareNormal=!0},isLastGameShareNormal:!1,onShareNormal:function(){this.isLastGameShareNormal=!0},getLastShareNormalAction:function(){return this.isLastGameShowButtonShareNormal?this.isLastGameShareNormal?"share":"cancel":"not_show"},isLastGameShowChallenge:!1,onShowLayoutChallenge:function(){this.isLastGameShowChallenge=!0},lastGameChallengeAction:"",onChallenge:function(e){this.lastGameChallengeAction=e},getLastChallengeAction:function(){return this.isLastGameShowChallenge?this.lastGameChallengeAction||"cancel":"not_show"},onStartGame:function(e){this.currentGame.matchTime=0,e||(this.thisSession.gameCount++,o.data.saveData({analytic_gameCount:this.thisSession.gameCount})),this.gameAdShowTime=0,this.logEvent("progress_start_game",r({},this.getGameActivitiesAttachedData()))},isUsedSecondChance:function(){},onOutOfMove:function(){this.logEvent("progress_out_of_move",r({second_chance:this.isUsedSecondChance()},this.getGameActivitiesAttachedData()))},onRealGameOver:function(){this.logEvent("progress_end_game",r({second_chance:this.isUsedSecondChance(),ad_show_times:this.gameAdShowTime},this.getGameActivitiesAttachedData()))},onReplay:function(){var e=this.getLastChallengeAction();"not_show"!=e&&this.logEvent("core_challenge_friend",r({score:o.user.score,challenge_action:e},this.getShortAttachedData())),this.logEvent("core_replay",r({second_chance:this.isUsedSecondChance(),share_normal_action:this.getLastShareNormalAction(),challenge_action:this.getLastChallengeAction()},this.getGameActivitiesAttachedData())),this.isLastGameShowButtonShareNormal=!1,this.isLastGameShareNormal=!1,this.isLastGameShowChallenge=!1,this.lastGameChallengeAction=""},onPutBlock:function(e,t){var n=parseInt((_time()-this.lastBlockGenTime)/1e3);this.logEvent("progress_put_block",r({block_number_1:e,block_number_2:t,block_time:n,rotate_times:this.lastBlockRotateTime},this.getGameActivitiesAttachedData()))},onBlockGen:function(){this.lastBlockGenTime=_time(),this.lastBlockRotateTime=0},onMergeBlock:function(e){this.logEvent("progress_merge_block",r({merge_result_number:e},this.getGameActivitiesAttachedData()))},onUsePowerBlock7:function(){this.logEvent("core_use_gem_block",r({},this.getGameActivitiesAttachedData()))},onUsePowerRemove:function(){this.logEvent("core_use_remove_block",r({},this.getGameActivitiesAttachedData()))},onClickVideo:function(e){this.logEvent("core_click_video_ad",r({reward_name:e},this.getGameActivitiesAttachedData())),this.lastVideoRewardName=e},onShowVideo:function(){this.logEvent("core_show_video_ad",r({reward_name:this.lastVideoRewardName},this.getGameActivitiesAttachedData())),this.lastVideoStartTime=_time()},onVideoWatched:function(){var e=parseInt((_time()-this.lastVideoStartTime)/1e3);this.logEvent("core_watched_video_ad",r({reward_name:this.lastVideoRewardName,ad_duration:e},this.getGameActivitiesAttachedData()))},lastCallToShowInterAdTime:0,lastInterAdLocation:"",onCallingShowInterAd:function(e){void 0===e&&(e="replay"),this.lastCallToShowInterAdTime=_time(),this.lastInterAdLocation=e},onCloseInterAd:function(){this.logEvent("core_show_interstitial_ad",r({location:this.lastInterAdLocation},this.getShortAttachedData()));var e=parseInt((_time()-this.lastCallToShowInterAdTime)/1e3);this.logEvent("core_close_interstitial_ad",r({location:this.lastInterAdLocation,ad_duration:e},this.getShortAttachedData()))},onInterAdError:function(e){this.logEvent("core_fail_interstitial_ad",r({location:this.lastInterAdLocation,ad_error:e},this.getShortAttachedData()))},getGameActivitiesAttachedData:function(){},getShortAttachedData:function(){return{game_count:this.thisSession.gameCount,playing_time:this.thisSession.playingTime}},getAttachedData:function(){return r({},this.getDeviceInfo(),this.getFBInfo(),{m_sessionId:this.sessionId})},getDeviceInfo:function(){var e=cc.sys.windowPixelResolution;return{m_appVersion:"2.0",m_osName:cc.sys.os,m_osVersion:cc.sys.osVersion,m_osMainVersion:cc.sys.osMainVersion,m_screenSize:e.width+"x"+e.height}},getFBInfo:function(){return window.FBInstant?{m_fbID:"fbid_"+o.user.id,m_locale:FBInstant.getLocale()}:{}},startTimer:function(){},stopTimer:function(){},addTimeTickCallback:function(){}};n.analytic=i,cc._RF.pop()},{"../all_modules":"all_modules"}],block_collision_handler:[function(e,t){"use strict";cc._RF.push(t,"72552nj131H3pkFdBpRiixi","block_collision_handler");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}cc.Class({extends:cc.Component,properties:{collidingCellArr:[],newItemPosDiff:cc.v2(0,0),cellPosDiff:cc.v2(0,0),highlightCellArr:[]},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e){this.collidingCellArr.push(e.node)},onCollisionStay:function(){var e,t=n.utils.global2LocalPosDiff(this.node,0,0),o=999;this.collidingCellArr.map(function(a){var r=n.utils.global2LocalPosDiff(a,0,0).sub(t).mag();r<o&&(o=r,e=a)});var a=e.name.replace("Image_HexBlock_","");n.map.checkNewItemDroppableAtCell(a)&&(this.unfocusAllCells(),this.highlightCell(e),n.map.selectedCell=e)},onCollisionExit:function(e){n.map.selectedCell&&this.unfocusCell(n.map.selectedCell),n.map.selectedCell=null,_removeArrItem(this.collidingCellArr,e.node)},highlightCell:function(e){e.getChildByName("bg").active=!0,e.getChildByName("bg").opacity=255,this.highlightCellArr.push(e)},unfocusCell:function(e){e.getChildByName("bg").opacity=0,_removeArrItem(this.highlightCellArr,e)},unfocusAllCells:function(){var e=this;this.highlightCellArr.map(function(t){return e.unfocusCell(t)})}}),cc._RF.pop()},{"../all_modules":"all_modules"}],canvas_init:[function(e,t){"use strict";cc._RF.push(t,"cdf12B+GYtGYYzejMxGB9Ru","canvas_init");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("./all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}cc.Class({extends:cc.Component,properties:{defaultFont:{default:null,type:cc.Font},blockSprite:{type:cc.SpriteFrame,default:[]},diceShakingFxSprite:{type:cc.SpriteFrame,default:[]}},onLoad:function(){for(var e in window._G=n,n)n[e].init&&n[e].init();n.utilsFB.log("ev_game_load_time",performance.now());var t=document.getElementById("htmlLoadingBackground");t&&(t.style.display="none")}}),cc._RF.pop()},{"./all_modules":"all_modules"}],cell_links:[function(e,t){"use strict";cc._RF.push(t,"cd07fzjuC1EZIDG4knwd2Ec","cell_links"),t.exports={"1_2":"right","2_3":"right","3_4":"right","4_5":"right","5_6":"right","7_8":"right","8_9":"right","9_10":"right","10_11":"right","11_12":"right","13_14":"right","14_15":"right","15_16":"right","16_17":"right","17_18":"right","19_20":"right","20_21":"right","21_22":"right","22_23":"right","23_24":"right","25_26":"right","26_27":"right","27_28":"right","28_29":"right","29_30":"right","31_32":"right","32_33":"right","33_34":"right","34_35":"right","35_36":"right","1_7":"bottom","7_13":"bottom","13_19":"bottom","19_25":"bottom","25_31":"bottom","2_8":"bottom","8_14":"bottom","14_20":"bottom","20_26":"bottom","26_32":"bottom","3_9":"bottom","9_15":"bottom","15_21":"bottom","21_27":"bottom","27_33":"bottom","4_10":"bottom","10_16":"bottom","16_22":"bottom","22_28":"bottom","28_34":"bottom","5_11":"bottom","11_17":"bottom","17_23":"bottom","23_29":"bottom","29_35":"bottom","6_12":"bottom","12_18":"bottom","18_24":"bottom","24_30":"bottom","30_36":"bottom"},cc._RF.pop()},{}],configs:[function(e,t,n){"use strict";var o;function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc._RF.push(t,"6ecd6Sd8JhIFoRLw0N8fok7","configs"),n.__esModule=!0,n.configs=void 0,function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n)}(e("./all_modules"));var r={freeBlock7ForNewUser:1,block7EachVideo:1,freeRemoveNewItemForNewUser:1,removeNewItemTimeEachVideo:3,timeToResetChallengedFriendArr:864e5,maxChallengeAskTimeIn1Day:3,leaderboardName:"score_global",leaderboardPlayerCount:15,interAdId:"312849576761966_317420549638202",interAdRatio:{gameOverReplay:1},showInterAdAfterEveryReplayTime:1,videoRewardId:"312849576761966_317420662971524",videoContinueTime:1,blocks:{1:{color:"#bca890",shadowColor:"#978069",labelColor:"#ffffff"},2:{color:"#55b2d5",shadowColor:"#3c84b1",labelColor:"#ffffff"},3:{color:"#a8775f",shadowColor:"#936854",labelColor:"#ffffff"},4:{color:"#4d6ab3",shadowColor:"#3a4b8c",labelColor:"#ffffff"},5:{color:"#56b08f",shadowColor:"#398379",labelColor:"#ffffff"},6:{color:"#9767ae",shadowColor:"#615089",labelColor:"#ffffff"},7:{color:"#ffed79",shadowColor:"#c3a056",labelColor:"#594e85"},8:{color:"#000000",shadowColor:"#000000",labelColor:"#cc0000"},11:{color:"#555555",shadowColor:"#978069",labelColor:"#ffffff"},12:{color:"#444444",shadowColor:"#3c84b1",labelColor:"#ffffff"},13:{color:"#333333",shadowColor:"#936854",labelColor:"#ffffff"},14:{color:"#222222",shadowColor:"#3a4b8c",labelColor:"#ffffff"},15:{color:"#111111",shadowColor:"#398379",labelColor:"#ffffff"},16:{color:"#000000",shadowColor:"#615089",labelColor:"#ffffff"}},blockNumber:(o={1:[1,2,3,4,5,6],2:[11,12,13,14,15,16]},o[2]=[1,2,3,4,5,6,11,12,13,14,15,16],o),stepCount2BlockNumerArr:function(e){var t=0;for(var n in this.blockNumber){if(n>e)return this.blockNumber[t];n<=e&&(t=n)}return this.blockNumber[t]},scoringShadowColors:{2:"286cfe",3:"ff9c02",4:"1cd02b",5:"b20af8",6:"fc3937",7:"fdde43",8:"fdde43",12:"286cfe",13:"ff9c02",14:"1cd02b",15:"b20af8",16:"fc3937"}};n.configs=r,cc._RF.pop()},{"./all_modules":"all_modules"}],control:[function(e,t,n){"use strict";cc._RF.push(t,"7db31WzvhlJ4aXe0Piepn1e","control"),n.__esModule=!0,n.control=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r=cc.v2(0,150),i={newItemNode:null,newItemNode1:null,isDraggingItem1:!1,init:function(){this.bindControlDrag(),this.bindControlDrag(!0)},bindControlDrag:function(e){var t,n=this,a=e?"1":"",i=this["newItemNode"+a]=cc.find("Canvas/play_area/new_item_container"+(e?"_1":"")+"/new_item"),c=o.utils.global2LocalPosDiff(i,0,0);setTimeout(function(){return c=o.utils.global2LocalPosDiff(i,0,0)},300),o.utils.singleTouchSet(i,function(e){i.isBeingDragged=!0,t=e,_time()},function(a){a.sub(t).mag()<20||(n.isDraggingItem1=e,o.tut.checkHideTutHand(),i.isBeingDragged&&(i.scale=1.05,i.position=a.add(c).add(r)))},function(){if(i.isBeingDragged=!1,o.tut.checkShowTutHand(),o.map.selectedCell){var e=o.map.selectedCell;o.control.fxDropNewItem(function(){o.game.dropNewItemAtCell(e.cellPosNum)})}else n["newItemNode"+a].position=cc.v2(0,0),n["newItemNode"+a].scale=1})},fxDropNewItem:function(e){var t=this["newItemNode"+(this.isDraggingItem1?"1":"")],n=o.utils.getGlobalPosition(o.map.selectedCell),a=o.utils.global2LocalPosDiff(t.getChildByName("key_block_collider"),n.x,n.y+10);t.runAction(cc.sequence(cc.moveBy(a.mag()/400,a),cc.callFunc(function(){t.position=cc.v2(0,0),t.scale=1,e&&e()})))}};n.control=i,cc._RF.pop()},{"../all_modules":"all_modules"}],data:[function(e,t,n){"use strict";cc._RF.push(t,"204a3QPv8tLJqFKCLPw5/rm","data"),n.__esModule=!0,n.data=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={init:function(){o.data.isUserReady=!0},saveData:function(e,t){window.FBInstant?FBInstant.player.setDataAsync(e).then(function(){t&&t()}):o.utils.setTimeout(function(){for(var n in e)try{localStorage.setItem(n,JSON.stringify(e[n]))}catch(o){_log(o)}t&&t()},500)},loadData:function(e,t){window.FBInstant?FBInstant.player.getDataAsync(e).then(function(e){t&&t(e)}):o.utils.setTimeout(function(){var n={};e.map(function(e){var t=localStorage.getItem(e);if(t)try{n[e]=JSON.parse(t)}catch(o){}}),t&&t(n)},500)},loadEntryPointData:function(){if(window.FBInstant){var e=FBInstant.getEntryPointData();e&&e.player_sent_id&&(o.user.playerIdShare=e.player_sent_id),o.user.entryPointData=e}}};n.data=r,cc._RF.pop()},{"../all_modules":"all_modules"}],de_DE:[function(e,t){"use strict";cc._RF.push(t,"48ad6V2B21EXrx5POv5sQDl","de_DE");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.exports={commonContentList:{},specialCharacter:"xxx",alertContent:{somethingWrong:"Hoppla!\n\nEtwas ist schief gelaufen"},labelList:{"Canvas/layer_alert/content_bg/label_message":function(e){return n.language.currentLangFile.alertContent[e]||""},"Canvas/layer_alert/header_bg/label_header":"Beachten","Canvas/layer_alert/btn_ok/label_restart":"OK","Canvas/layer_loading/label_loading":"   WIRD GELADEN..."}},cc._RF.pop()},{"../../all_modules":"all_modules"}],en_US:[function(e,t){"use strict";cc._RF.push(t,"24eb6XkIjdBlKwavcES70HI","en_US");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.exports={commonContentList:{},specialCharacter:"xxx",alertContent:{somethingWrong:"Oops!\n\nSomething went wrong"},labelList:{"Canvas/layer_alert/content_bg/label_message":function(e){return n.language.currentLangFile.alertContent[e]||""},"Canvas/layer_alert/header_bg/label_header":"Notice","Canvas/layer_alert/btn_ok/label_restart":"OK","Canvas/layer_loading/label_loading":"   LOADING..."}},cc._RF.pop()},{"../../all_modules":"all_modules"}],es_ES:[function(e,t){"use strict";cc._RF.push(t,"55f11xRs1tMXZjd1DrsnsML","es_ES");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.exports={commonContentList:{},specialCharacter:"xxx",alertContent:{somethingWrong:"\xa1Ups!\n\nAlgo sali\xf3 mal"},labelList:{"Canvas/layer_alert/content_bg/label_message":function(e){return n.language.currentLangFile.alertContent[e]||""},"Canvas/layer_alert/header_bg/label_header":"Aviso","Canvas/layer_alert/btn_ok/label_restart":"Okay","Canvas/layer_loading/label_loading":"   CARGANDO..."}},cc._RF.pop()},{"../../all_modules":"all_modules"}],free_button_comp:[function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}cc._RF.push(t,"86a713+CeRB7KYdjV9121Vr","free_button_comp"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o)}(e("../all_modules")),cc.Class({extends:cc.Component,freeHandler:function(e){e.target.freeButtonHandlerFunc&&e.target.freeButtonHandlerFunc(e.target)}}),cc._RF.pop()},{"../all_modules":"all_modules"}],fx:[function(e,t,n){"use strict";cc._RF.push(t,"370c2Sb71pHBrzftBqzpjmc","fx"),n.__esModule=!0,n.fx=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={init:function(){},rotateForever:function(e){e.runAction(cc.repeatForever(cc.rotateBy(10,360)))},bubbleForever:function(e,t,n,o,a){void 0===t&&(t=.5),void 0===n&&(n=0),void 0===o&&(o=1),void 0===a&&(a=1.2);var r=e.orgScale||e.scale;e.orgScale||(e.orgScale=r),e.stopAllActions(),e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(n),cc.scaleTo(t,r*a),cc.scaleTo(t,r*o),cc.scaleTo(t,r*a),cc.scaleTo(t,r*o))))},bubble:function(e,t,n,o,a,r){void 0===n&&(n=.5),void 0===o&&(o=0),void 0===a&&(a=1),void 0===r&&(r=1.2);var i=e.orgScale||e.scale;e.orgScale||(e.orgScale=i),e.stopAllActions(),e.runAction(cc.sequence(cc.delayTime(o),cc.scaleTo(n,i*r),cc.scaleTo(n,i*a),cc.scaleTo(n,i*r),cc.scaleTo(n,i*a),cc.callFunc(function(){t&&t()})))},fxScoreNormal:function(e,t,n,a,r){void 0===r&&(r=.3),r*=.8;var i=o.utils.copyNodeTo(cc.find("Canvas/sample_nodes/sample_scoring_shadow"),cc.find("Canvas/play_area/fx_container"));o.utils.setGlobalPositionToNode(i,e),i.color=cc.color(o.configs.scoringShadowColors[n]),i.opacity=0,i.zIndex=99,i.active=!0,i.runAction(cc.sequence(cc.delayTime(r),cc.fadeTo(r,100),cc.delayTime(.7*r),cc.fadeOut(r),cc.callFunc(function(){i.removeFromParent(!0)})));var c=o.utils.getGlobalPosition(e);t.map(function(t){var n=o.mapVisual.cellPosNum2CellNode(t),a=e==n,i=a?e.parent:cc.find("Canvas/play_area/fx_container"),l=o.utils.copyNodeTo(n,i);l.name="temporary_fx_node",a&&(l.zIndex=-1,l.opacity=200);var u=o.utils.global2LocalPosDiff(l,c.x,c.y);l.getChildByName("bg").active=!1,l.runAction(cc.sequence(cc.callFunc(function(){}),cc.moveBy(r,u).easing(cc.easeIn(2)),cc.delayTime(2.5*r),cc.callFunc(function(){return l.removeFromParent(!0)}))),l.runAction(cc.sequence(cc.delayTime(.5*r),cc.fadeOut(3*r)))}),o.utils.setTimeout(function(){a&&a()},1e3*r)},fxScore777:function(e,t,n){var a=this;e.map(function(e,t){a.fxFadeToWhiteAndFadeOut(o.mapVisual.cellPosNum2BlockNode(e),function(){!t&&n&&n()})})},fxFadeToWhiteAndFadeOut:function(e,t){var n=cc.find("Canvas/play_area/fx_container"),a=o.utils.copyNodeTo(e,n);o.utils.setGlobalPositionToNode(a,e);var r=cc.find("Canvas/sample_nodes/sample_block_white");o.utils.copyNodeTo(r,a).runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(.1))),a.runAction(cc.sequence(cc.delayTime(.3),cc.delayTime(.2),cc.fadeOut(.3),cc.callFunc(function(){t&&t(),a.removeFromParent(!0)})))},specialFxRemoveCellGroup:function(e,t,n,a){var r=.1+(a?.1:0),i=.25+r,c=cc.find("Canvas/play_area/fx_container"),l=cc.find("Canvas/sample_nodes/sample_block_stroke"),u=cc.find("Canvas/sample_nodes/sample_block_white"),s=cc.find("Canvas/sample_nodes/sample_fx_white_bg");o.utils.setTimeout(function(){return n&&n()},1e3*(.2+i+.3+.5+.1));var f=function(e){return o.mapVisual.cellPosNum2CellNode(e)};o.gameOver.cellsToRemoveAfterVideo.map(function(e){var t=f(e),n=o.utils.copyNodeTo(s,t);o.utils.setTimeout(function(){n.runAction(cc.fadeIn(.3))},1e3*(.2+i+(a?.3:0))),o.utils.setTimeout(function(){n.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){n.removeFromParent(!0)})))},1e3*(.2+i+.3+.5))});var d=function(e,t){var n=o.utils.copyNodeTo(e,c);return n.zIndex=t,o.utils.getChildByPath(n,"sample_block/blockShadow").active=!1,n.getChildByName("sample_block").active=!0,n},p=function(e,t,n){var a=o.utils.copyNodeTo(u,e);a.scale=1,a.runAction(cc.sequence(cc.delayTime(.2+i+n),cc.callFunc(function(){t&&t.runAction(cc.fadeOut(.3)),o.utils.getChildByPath(e,"sample_block/block_img").runAction(cc.sequence(cc.delayTime(.15),cc.fadeOut(.15)))}),cc.fadeIn(.3)))},m=function(e){e.runAction(cc.sequence(cc.delayTime(.2+i+.3+(a?.3:0)),cc.spawn(cc.fadeOut(.5),cc.scaleTo(.5,0),cc.rotateBy(.5,180)),cc.callFunc(function(){e.removeFromParent(!0)})))};t&&t.map(function(e){var t=f(e);if(t.getChildByName("sample_block").active=!1,o.map.currentState[e]){var n=d(t,e);p(n,null,a?.3:0),m(n)}}),e.map(function(e){var t=f(e);if(t.getChildByName("sample_block").active=!1,o.map.currentState[e]){var n=d(t,e),i=o.utils.copyNodeTo(l,n);i.opacity=0,i.runAction(cc.fadeIn(.2));var c=t.position;n.runAction(cc.sequence(cc.delayTime(.2),cc.moveBy(.25,c.mul(.3)),cc.callFunc(function(){}),cc.moveBy(r,c.mul(-.3-(a?1:0))))),p(n,i,0),m(n)}})},fxNewScoredBlock:function(e,t,n,a){var r=cc.find("Canvas/play_area/fx_container"),i=o.utils.copyNodeTo(e,r);o.utils.setGlobalPositionToNode(i,e),i.y+=100,i.scale=1.4,i.opacity=0,i.zIndex=100,i.active=!0,i.runAction(cc.sequence(cc.delayTime(a),cc.spawn(cc.fadeIn(.072),cc.moveBy(.144,cc.v2(0,-90)),cc.scaleTo(.144,1.05)),cc.callFunc(function(){o.fx.diceShakingFx(i,t,function(){i.active=!1,i.removeFromParent(!0),e.y+=10,e.scale=1.05,e.active=!0,e.opacity=255,e.getChildByName("block_img").opacity=255,e.runAction(cc.spawn(cc.scaleTo(.016,1),cc.moveTo(.016,cc.v2(0,0)),cc.callFunc(function(){return setTimeout(function(){return n&&n()},100)})))})})))},diceShakingFx:function(e,t,n){var a=e.getChildByName("block_img").getComponent(cc.Sprite),r=cc.find("Canvas").getComponent("canvas_init").diceShakingFxSprite.slice(3*(t-1),3*t);(r=[r[1],r[0],r[2]]).map(function(e,t){o.utils.setTimeout(function(){a.spriteFrame=e},80*t)}),o.utils.setTimeout(function(){return n&&n()},80*r.length)},newBlockDropDown:function(e,t,n,a){var r=cc.find("Canvas").getComponent("canvas_init").diceShakingFxSprite.slice(3*(t-1),3*t);e.getChildByName("block_img").getComponent(cc.Sprite).spriteFrame=r[1],e.active=!1;var i=cc.find("Canvas/play_area/fx_container"),c=o.utils.copyNodeTo(e,i);o.utils.setGlobalPositionToNode(c,e),c.y+=120,c.scale=1.4,c.opacity=0,c.active=!0,c.runAction(cc.sequence(cc.delayTime(a),cc.spawn(cc.fadeIn(.072),cc.moveBy(.144,cc.v2(0,-120)),cc.scaleTo(.144,1)),cc.callFunc(function(){o.fx.newItemDiceShakingFx(c,t,function(){e.getChildByName("block_img").getComponent(cc.Sprite).spriteFrame=r[0],c.active=!1,c.removeFromParent(!0),e.active=!0,n&&n()})})))},newItemDiceShakingFx:function(e,t,n){var a=e.getChildByName("block_img").getComponent(cc.Sprite),r=cc.find("Canvas").getComponent("canvas_init").diceShakingFxSprite.slice(3*(t-1),3*t);(r=[r[0],r[2],r[0],r[1],r[0]]).map(function(e,t){o.utils.setTimeout(function(){a.spriteFrame=e},60*t)}),o.utils.setTimeout(function(){return n&&n()},60*r.length)},freeToolTipNodeArr:[],showScoreToolTip:function(e,t,n,a,r,i,c,l){var u=this;void 0===n&&(n=60),void 0===r&&(r=100),void 0===i&&(i=1.6),void 0===c&&(c=.2),void 0===l&&(l=0);var s=cc.find("Canvas/play_area/fx_container/sample_score_tool_tip"),f=this.freeToolTipNodeArr.pop()||o.utils.copyNodeTo(s,cc.find("Canvas/play_area/fx_container"));o.utils.setLabelText(f,e),o.utils.setGlobalPositionToNode(f,t),f.y+=n,f.active=!0,f.zIndex=999,f.opacity=0,f.runAction(cc.sequence(cc.fadeIn(c),cc.delayTime(l),cc.spawn(cc.moveBy(i,cc.v2(0,r)),cc.fadeOut(i)),cc.callFunc(function(){f.active=!1,u.freeToolTipNodeArr.push(f),a&&a()})))},freeFlyScoreNodeArr:[],singleScoreLabelFly:function(e,t,n){var a=this;void 0===n&&(n=.3);var r=cc.find("Canvas/play_area/fx_container/sample_label_fly_score"),i=this.freeFlyScoreNodeArr.pop()||o.utils.copyNodeTo(r,cc.find("Canvas/play_area/fx_container"));o.utils.setLabelText(i,t),o.utils.setGlobalPositionToNode(i,e);var c=cc.find("Canvas/play_area/label_score"),l=o.utils.getGlobalPosition(c);i.active=!0,i.zIndex=999;var u=o.utils.global2LocalPosDiff(i,l.x,l.y);i.runAction(cc.sequence(cc.moveBy(n,u).easing(cc.easeIn(1.4)),cc.callFunc(function(){i.active=!1,a.freeFlyScoreNodeArr.push(i)})))},multiScoreLabelFly7:function(e,t,n){var a=this,r="+"+o.utils.localizeNumber(parseInt(t/e.length));e.map(function(e,t){var n=o.mapVisual.cellPosNum2CellNode(e);o.utils.setTimeout(function(){a.singleScoreLabelFly(n,r)},70*t)}),o.utils.setTimeout(function(){return n&&n()},70*e.length)},multiScoreLabelFlyNormal:function(e,t,n,a){var r=this,i="+"+o.utils.localizeNumber(parseInt(n/t.length));t.map(function(t,n){o.utils.setTimeout(function(){r.singleScoreLabelFly(e,i)},70*n)}),o.utils.setTimeout(function(){return a&&a()},70*t.length)}};n.fx=r,cc._RF.pop()},{"../all_modules":"all_modules"}],game_language:[function(e,t,n){"use strict";cc._RF.push(t,"c76d1UQDl9GiK1uu8HwamRl","game_language"),n.__esModule=!0,n.language=void 0;var o=r(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var i={initLanguageCallbackArr:[],languageChangedCallbackArr:[],isLatin:!0,currentLangCode:"en_US",currentLangFile:r(e("./lang_files/en_US")),latinList:{en_US:!0},languageList:{en_US:{displayText:"ENGLISH"},vi_VN:{displayText:"TI\u1ebeNG VI\u1ec6T"},de_DE:{displayText:"-"},es_ES:{displayText:"-"},id_ID:{displayText:"INDONESIAN"},pt_PT:{displayText:"-"}},correctCode:function(e){return{pt_BR:"pt_PT",es_LA:"es_ES",es_MX:"es_ES",fr_CA:"fr_FR"}[e]||e},setLabelFont:function(e){e.getComponent(cc.Label).font=o.language.isLatin?o.language.latinFont:null},init:function(){_log(" game language initialized !!!!!! 12345 "),o.language.latinFont=cc.find("Canvas").getComponent("canvas_init").defaultFont,o.login.addLoginDataField("selectedLanguageCode"),o.login.addCallback(function(){var e,t=window.FBInstant?FBInstant.getLocale():o.language.currentLangCode;e=o.language.correctCode(t),o.language.setLanguage(e),console.log("language.init() >> rawCode="+t+" // langCode="+e+" ")})},setLanguage:function(t){var n=t;o.language.languageList[n]||(n=o.language.currentLangCode);var a=o.language.currentLangCode!=n;a&&(o.data.saveData({selectedLanguageCode:n}),o.language.currentLangCode=n,o.language.currentLangFile=e(n),o.language.isLatin=o.language.latinList[n]),o.language.translateAllGame(n),a&&o.language.languageChangedCallbackArr.map(function(e){return e(o.language.currentLangCode)}),o.language.isInitialized||o.language.initLanguageCallbackArr.map(function(e){return e(o.language.currentLangCode)}),o.language.isInitialized=!0},setLabelDataAndRender:function(e,t){var n=e.getComponent("language_comp");n&&n.translate(t)},addInitLanguageCallback:function(e){if(!o.language.isInitialized)return o.language.initLanguageCallbackArr.push(e);e(o.language.currentLangCode)},addLanguageChangedCallback:function(e){o.language.languageChangedCallbackArr.push(e)},generateCommonContents:function(){var e=o.language.currentLangFile,t=e.commonContentList;for(var n in e.labelList){var a=e.labelList[n];a.rootContentId&&(t[a.rootContentId]=a.transGuide)}},translateAllGame:function(){o.language.generateCommonContents(),cc.find("Canvas").getComponentsInChildren("language_comp").map(function(e){try{e.translate()}catch(t){}}),cc.find("Canvas").getComponentsInChildren("language_label_group_comp").map(function(e){try{e.translate()}catch(t){}})}};n.language=i,cc._RF.pop()},{"../all_modules":"all_modules","./lang_files/en_US":"en_US"}],game_over:[function(e,t,n){"use strict";cc._RF.push(t,"aa682mqxVxOd5xRHTkSL9es","game_over"),n.__esModule=!0,n.gameOver=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={videoContinueLeft:0,gameStartTime:0,cellsToRemoveAfterVideo:[8,9,10,11,14,15,16,17,20,21,22,23,26,27,28,29],centercellPosNum:13,init:function(){},handleGameOver:function(){o.ui.showLayer("layer_game_over")},onVideoContinueSuccess:function(){_log(" onVideoContinueSuccess called !!! ");var e=o.gameOver.cellsToRemoveAfterVideo;o.fx.specialFxRemoveCellGroup(e),o.gameOver.removeLastKeyBlockGroup(e),o.data.saveData({currentMapState:o.map.currentState}),o.data.saveData({isAskingVideoContinue:!1})},removeLastKeyBlockGroup:function(e){_log(" gameover >> video continue >> removeLastKeyBlockGroup = "+e),o.map.clearCellGroup(e),o.game.genNewItem(o.control.isDraggingItem1),o.game.videoContinueLeft--,o.data.saveData({videoContinueLeft:o.game.videoContinueLeft})},onVideoContinueFail:function(e){_log(" onVideoContinueFail >> err = ",e),o.gameOver.realGameOver(!0),o.ui.showAlert("USER_INPUT"==e.code&&"Reward not completed"==e.message?"videoSkipped":"somethingWrong",function(){return o.gameOver.visualGameOver()}),o.data.saveData({isAskingVideoContinue:!1})},realGameOver:function(e){void 0===e&&(e=!1),e||this.visualGameOver(),o.control.newItemNode.active=!1,o.data.saveData({currentMapState:{},stepCount:0,lastScore:0,videoContinueLeft:o.configs.videoContinueTime}),_log("game over !")},visualGameOver:function(){},replay:function(){o.game.stepCount=0,o.map.resetMap(),o.user.score=0,o.ui.updateScore(0),o.game.videoContinueLeft=o.configs.videoContinueTime,o.data.saveData({currentMapState:{},stepCount:0,lastScore:0}),o.game.genNewItem(),o.game.genNewItem(!0)},check2LogTimeToGameOver:function(e){if(void 0===e&&(e=!1),!this.gameStartTime)return this.gameStartTime=_time();var t=_time()-this.gameStartTime,n=e?"ev_start_game_to_video_time":"ev_video_to_game_over_final_time";o.utilsFB.log(n,parseInt(t/1e3)),this.gameStartTime=_time()}};n.gameOver=r,cc._RF.pop()},{"../all_modules":"all_modules"}],game:[function(e,t,n){"use strict";cc._RF.push(t,"6b006P+TPhOeo6Ufy6Luxy2","game"),n.__esModule=!0,n.game=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={currentItemNode:null,currentKeyBlockNumber:0,currentKeyBlockNumber1:0,stepCount:0,lastkeyCellPositionNumber:0,init:function(){var e=this;o.login.addLoginDataField("lastNewItem"),o.login.addLoginDataField("lastNewItem1"),o.login.addLoginDataField("stepCount"),o.login.addLoginDataField("videoContinueLeft"),o.login.addLoginDataField("lastScore"),o.login.addLoginDataField("currentMapState"),o.login.addLoginDataField("isAskingVideoContinue"),o.login.addCallback(function(t){if(o.user.score=t.lastScore||0,o.ui.updateScore(o.user.score),e.stepCount=t.stepCount||0,e.videoContinueLeft=t.videoContinueLeft||o.configs.videoContinueTime,o.login.addCallback(function(){o.ui.updateScore()}),t.isAskingVideoContinue)o.data.saveData({isAskingVideoContinue:!1}),o.gameOver.replay();else{for(var n in!t.isTutDone||Object.keys(t.currentMapState||{}).length,setTimeout(function(){t.isTutDone?t.lastNewItem?(e.newItem(t.lastNewItem.blockInfoArr),e.newItem(t.lastNewItem1.blockInfoArr,!0)):o.utils.waitToRun(function(){e.genNewItem(),e.genNewItem(!0)},"currentState",o.map):(e.newItem([6]),e.newItem([16],!0))},500),o.map.currentState=t.isTutDone?t.currentMapState||{}:o.tut.tutMapState,o.map.currentState)o.map.cellLinkMap[n]||(o.map.currentState[n]=null);o.mapVisual.renderMap(o.map.currentState)}})},genNewItem:function(e){var t,n=o.configs.stepCount2BlockNumerArr(this.stepCount+1).slice(0),a=[o.utils.randomArrItem(n)];this.newItem(a,e),o.data.saveData(((t={})["lastNewItem"+(e?"1":"")]={blockInfoArr:a},t))},genItemBlock7:function(){this.newItem([7]),o.data.saveData({lastNewItem:{blockInfoArr:[7]}})},newItem:function(e,t){var n=cc.find("Canvas/play_area/new_item_container"+(t?"_1":"")),a=o.utils.getChildByPath(n,"new_item/item_types/single_block");o.control.newItemNode.active=!0,this["currentItemNode"+(t?"1":"")]=a;var r=a.getChildByName("key_block");r.position=cc.v2(0,0),o.mapVisual.decorBlock(r.getChildByName("sample_block"),e[0],"newItem"),this["currentKeyBlockNumber"+(t?"1":"")]=e[0]},dropNewItemAtCell:function(e){var t=this;this.comboCount=0;var n=o.tut.getCurrentAllowedCellToDrop();if("all"==n||n==e){o.tut.checkNextTutStep(e);var a=o.game["currentItemNode"+(o.control.isDraggingItem1?"1":"")];a.active=!1,o.map.dropNewItemAtCell(e),this.stepCount++,o.data.saveData({stepCount:this.stepCount}),o.ui.showNagScreen(),this.handleBlockScoring(e,function(){o.ui.hideNagScreen(),o.data.saveData({currentMapState:o.map.currentState}),o.map.isFulled()?(t.lastkeyCellPositionNumber=e,o.gameOver.handleGameOver()):t.genNewItem(o.control.isDraggingItem1),a.active=!0})}},handleBlockScoring:function(e,t){var n=this,a=parseInt(o.map.currentState[e]),r=o.map.checkBlockScore(e),i=function(){return o.utils.setTimeout(function(){return t&&t()},10)};if(!r)return i();this.comboCount++;var c=o.mapVisual.cellPosNum2CellNode(e),l=a%10*r.length*this.comboCount,u=function(){if(o.fx.showScoreToolTip("+"+l,c),7==a)o.game.block7Scoring(r,i);else{var u=16==a?7:a+1;o.map.setSingleCell(e,u,"scored",function(){return n.handleBlockScoring(e,t)},.1)}};7!=a?o.fx.fxScoreNormal(c,r,a+1,u):o.fx.fxScore777(r,e,u),o.utils.setTimeout(function(){o.fx.multiScoreLabelFlyNormal(c,r,l)},600),o.utils.setTimeout(function(){return n.score(l)},1e3),o.map.clearCellGroup(r)},score:function(e){o.user.score+=e,o.data.saveData({lastScore:o.user.score}),o.ui.updateScore(o.user.score)},block7Scoring:function(e,t){return console.log(" block7Scoring called // cellPosNumberArr="+e+" "),o.map.clearCellGroup(e),t&&t()}};n.game=r,cc._RF.pop()},{"../all_modules":"all_modules"}],get7Video:[function(e,t,n){"use strict";cc._RF.push(t,"119acPApGdODrla0aCbW82K","get7Video"),n.__esModule=!0,n.get7Video=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={block7Left:0,init:function(){var e=this;o.login.addLoginDataField("block7Left"),o.login.addCallback(function(t){e.block7Left=t.block7Left||(t.isNewUser?o.configs.freeBlock7ForNewUser:0),e.updateButton(),t.isNewUser&&o.data.saveData({block7Left:o.configs.freeBlock7ForNewUser})})},btnClick:function(){this.block7Left?this.use7():this.get7()},use7:function(){7!=o.game.currentKeyBlockNumber&&(o.game.genItemBlock7(),this.block7Left--,o.data.saveData({block7Left:this.block7Left}),this.updateButton())},get7:function(){},updateButton:function(){var e=cc.find("Canvas/play_area/botBar/get_block_7/badge/block7_left");e.active=this.block7Left,o.utils.setLabelText(e,this.block7Left+""),cc.find("Canvas/play_area/botBar/get_block_7/block7").opacity=this.block7Left?255:128,cc.find("Canvas/play_area/botBar/get_block_7/badge/video").active=!this.block7Left}};n.get7Video=r,cc._RF.pop()},{"../all_modules":"all_modules"}],id_ID:[function(e,t){"use strict";cc._RF.push(t,"ba743iG0vdDQKC/3LglXnaZ","id_ID");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.exports={commonContentList:{},specialCharacter:"xxx",alertContent:{somethingWrong:"Ups!\n\nAda yang salah"},labelList:{"Canvas/layer_alert/content_bg/label_message":function(e){return n.language.currentLangFile.alertContent[e]||""},"Canvas/layer_alert/header_bg/label_header":"Memperhatikan","Canvas/layer_alert/btn_ok/label_restart":"Baik","Canvas/layer_loading/label_loading":"   MEMUAT..."}},cc._RF.pop()},{"../../all_modules":"all_modules"}],language_comp:[function(e,t){"use strict";cc._RF.push(t,"096f5+qWoxBKpXw5IS2+xYI","language_comp");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}cc.Class({extends:cc.Component,properties:{contentId:""},onLoad:function(){},sanitizeContentid:function(e){return e.toLowerCase().replace(/(^\s+)|(\s+$)/g,"")},translate:function(e){e&&(this.data=e);var t=n.language.currentLangFile,o=t.specialCharacter,a=this.data,r=this.node,i=this.sanitizeContentid(this.contentId),c=n.utils.getNodePath(r);n.language.setLabelFont(this.node);var l=t.labelList[c];l&&l.rootContentId?l=l.transGuide:i&&(l=t.commonContentList[i]),l&&(_isString(l)?n.utils.setLabelText(r,l.replace(o,a)):_isFunction(l)&&n.utils.setLabelText(r,l(a)))}}),cc._RF.pop()},{"../all_modules":"all_modules"}],language_label_group_comp:[function(e,t){"use strict";cc._RF.push(t,"0e696wUo1BG3qEY1Cf240zM","language_label_group_comp");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}cc.Class({extends:cc.Component,properties:{},onLoad:function(){},translate:function(){var e=n.language.currentLangCode;this.node.children.map(function(t){return t.active=t.name==e})}}),cc._RF.pop()},{"../all_modules":"all_modules"}],layout_language_comp:[function(e,t){"use strict";cc._RF.push(t,"b06f8tdZ0ZMKb+IHQUaVAVY","layout_language_comp");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var a=["Canvas/layer_alert/content_bg/label_message","Canvas/layer_alert/header_bg/label_header","Canvas/layer_alert/btn_ok/label_restart","Canvas/layer_loading/label_loading"];cc.Class({extends:cc.Component,editor:{executeInEditMode:!0},onLoad:function(){var e=this;_log("=============== all labels for "+n.utils.getNodePath(this.node)+" ");var t=this.node.getComponentsInChildren(cc.Label);t.map(function(e,t){setTimeout(function(){var t=e.node,o=n.utils.getNodePath(t);if(a.includes(o)&&!t.getComponent("language_comp")){t.addComponent("language_comp");var r=cc.find("Canvas").getComponentsInChildren("language_comp").length+0;e.string=r+"#"+e.string,_log("["+r+"] = "+o)}},100*t)}),setTimeout(function(){_log("=============== Done ===================== "),e.node.removeComponent("layout_language_comp")},150*t.length)}}),cc._RF.pop()},{"../all_modules":"all_modules"}],load_optimize:[function(e,t,n){"use strict";cc._RF.push(t,"92ffa13eQpNpY7rLxzNKOJI","load_optimize"),n.__esModule=!0,n.loadOptimize=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={init:function(){},initReal:function(){var e=cc.find("Canvas/play_area/btn_pause"),t=e.getComponent(cc.Sprite).spriteFrame;e.opacity=0,e.active=!0,["Canvas/bg/full_bg","Canvas/play_area/btn_pause"].map(function(e){var n=cc.find(e);n.opacity=0,o.utils.waitToRun(function(){n.active=!0,n.runAction(cc.fadeIn(.5))},"textureLoaded()",t)})}};n.loadOptimize=r,cc._RF.pop()},{"../all_modules":"all_modules"}],localize_analytic:[function(e,t,n){"use strict";cc._RF.push(t,"5f56c/DespFJI8zKa0RnGMQ","localize_analytic"),n.__esModule=!0,n.run=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}n.run=function(){var e="";cc.find("Canvas").children.map(function(t){return e+=t.name.startsWith("popup_")||t.name.startsWith("screen_")?"":"\n/"+t.name}),_log("localizeAnalytic :: list other UI "),_log(e),setTimeout(function(){var e=cc.find("Canvas").getComponentsInChildren(cc.Label).filter(function(e){return!(e.string.match(/^[0-9+\s.,kKmMbB\-\/:$%]+$/g)||o.utils.getNodePath(e.node).includes("view/content")||e.node.name.includes("username")||e.node.name.includes("user_name"))});_log("localizeAnalytic :: count all node that has label comp WITH TEXT - NOT NUMBER "+e.length+" \n            \n"+e.map(function(e){return o.utils.getNodePath(e.node)}).join("\n")+" ")},5e3)},cc._RF.pop()},{"../all_modules":"all_modules"}],login:[function(e,t,n){"use strict";cc._RF.push(t,"692aajT6PVNgLZ8+a5hX7Q2","login"),n.__esModule=!0,n.login=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r=["LoginTime","IsOldUser","isTutDone"],i=[],c={init:function(){o.utils.waitToRun(function(){o.data.loadEntryPointData(),o.login.getFBData()},"isUserReady",o.data)},addLoginDataField:function(e){r.includes(e)||r.push(e)},addCallback:function(e){o.login.loginData?e(o.login.loginData):i.push(e)},getFBData:function(){o.data.loadData(r,function(e){if(e.isNewUser=!e.IsOldUser,e.isNewUser)return o.utilsFB.log("ev_login_new_user_incoming"),o.user.initNewUser(e),o.login.initLogin(e),void o.data.saveData({IsOldUser:!0});o.login.initLogin(e)})},initLogin:function(e){o.login.isInitLoginCalled||(o.login.isInitLoginCalled=!0,o.login.loginData=e,o.user.lastLoginTime=e.LoginTime||_time(),e.isTutDone=!!o.tut.isDisabledTut||e.isTutDone,i.map(function(t){t(e)}))}};n.login=c,cc._RF.pop()},{"../all_modules":"all_modules"}],map_visual:[function(e,t,n){"use strict";cc._RF.push(t,"dfa94skyI1Pxqqq27McwCVs","map_visual"),n.__esModule=!0,n.mapVisual=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={blockSFrameArr:[],init:function(){var e=cc.find("Canvas/sample_nodes/sample_block");cc.find("Canvas/play_area/map").children.map(function(t){o.utils.copyNodeTo(e,t).active=!1,t.cellPosNum=t.name.replace("Image_HexBlock_","")}),cc.find("Canvas/play_area/new_item_container/new_item/item_types/single_block").children.map(function(t){o.utils.copyNodeTo(e,t).active=!1}),cc.find("Canvas/play_area/new_item_container_1/new_item/item_types/single_block").children.map(function(t){o.utils.copyNodeTo(e,t).active=!1}),this.blockSFrameArr=cc.find("Canvas").getComponent("canvas_init").blockSprite},cellPosNum2CellNode:function(e){return cc.find("Canvas/play_area/map/Image_HexBlock_"+e)},cellPosNum2BlockNode:function(e){return cc.find("Canvas/play_area/map/Image_HexBlock_"+e+"/sample_block")},resetSingleCell:function(e){var t=o.mapVisual.cellPosNum2BlockNode(e);if(t)return t.active=!1,t.x=t.y=0,t.getChildByName("boomBlock").active=!1,t},resetMap:function(){var e=this;cc.find("Canvas/play_area/map").children.map(function(t){return e.resetSingleCell(t.name.replace("Image_HexBlock_",""))})},decorBlock:function(e,t,n,a,r){void 0===r&&(r=0);var i=o.configs.blocks[t];e.getChildByName("blockShadow").color=cc.color(i.shadowColor),e.getChildByName("block_img").getComponent(cc.Sprite).spriteFrame=o.mapVisual.blockSFrameArr[t],n?"scored"==n?o.fx.fxNewScoredBlock(e,t,a,r):"newItem"==n&&o.fx.newBlockDropDown(e,t,a,r):e.active=!0},renderSingleCell:function(e,t,n,o,a){if(t){var r=this.resetSingleCell(e);this.decorBlock(r,t,n,o,a)}},renderMap:function(e){for(var t in this.resetMap(),e)this.renderSingleCell(t,e[t])}};n.mapVisual=r,cc._RF.pop()},{"../all_modules":"all_modules"}],map:[function(e,t,n){"use strict";cc._RF.push(t,"6e8560gSa5B1rLT9gozGXOQ","map"),n.__esModule=!0,n.map=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={cellLinks:e("cell_links"),cellLinkMap:{},currentState:null,selectedCell:null,oppositeLinkName:{right:"left",bottom:"top"},init:function(){for(var e in this.cellLinks){var t=e.split("_"),n=this.cellLinks[e],o=!n;o&&(n=this.cellLinks[t[1]+"_"+t[0]]),this.cellLinkMap[t[0]]=this.cellLinkMap[t[0]]||{},this.cellLinkMap[t[0]][t[1]]=o?this.oppositeLinkName[n]:n,this.cellLinkMap[t[1]]=this.cellLinkMap[t[1]]||{},this.cellLinkMap[t[1]][t[0]]=o?n:this.oppositeLinkName[n]}},resetMap:function(){this.currentState={},o.mapVisual.resetMap()},setSingleCell:function(e,t,n,a,r){this.currentState[e]=t,o.mapVisual.renderSingleCell(e,t,n,a,r)},clearSingleCell:function(e){this.currentState[e]=null,o.mapVisual.resetSingleCell(e)},setCellGroup:function(e){var t=this;e.map(function(e){t.setSingleCell(e.cellPosNum,e.blockNumber)})},clearCellGroup:function(e){var t=this;e.map(function(e){t.clearSingleCell(e)})},checkNewItemDroppableAtCell:function(e){return!this.currentState[e]},dropNewItemAtCell:function(e){this.setSingleCell(e,o.game["currentKeyBlockNumber"+(o.control.isDraggingItem1?"1":"")])},isFulled:function(){return 36==Object.values(this.currentState).filter(function(e){return!!e}).length},checkBlockScore:function(e){var t,n=this,o=this.currentState[e],a=((t={})[e]=!0,t),r=[e],i=25,c=this.cellLinkMap;return function e(t){if(!(--i<=0)){var l=[];for(var u in c[t])a[u]||(a[u]=!0,n.currentState[u]==o&&(r.push(u),l.push(u)));l.map(function(t){return e(t)})}}(e),!(r.length<3)&&r},getCellPosNumberArrAroundCenter:function(e){var t=o.map.cellLinkMap[e],n=[e].concat(Object.keys(t)),a={top:"left",bottom:"right",right:"top",left:"bottom"};for(var r in t){var i=a[t[r]],c=o.map.cellLinkMap[r];for(var l in c)c[l]==i&&n.push(l)}return n}};n.map=r,cc._RF.pop()},{"../all_modules":"all_modules",cell_links:"cell_links"}],md5:[function(e,t){"use strict";cc._RF.push(t,"b73f2W5pvZN5KMni9OHtD3c","md5"),t.exports={MD5:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,a,r,i;return a=2147483648&e,r=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^i^a^r:n|o?1073741824&i?3221225472^i^a^r:1073741824^i^a^r:i^a^r}function o(e,t,n){return e&t|~e&n}function a(e,t,n){return e&n|t&~n}function r(e,t,n){return e^t^n}function i(e,t,n){return t^(e|~n)}function c(e,a,r,i,c,l,u){return e=n(e,n(n(o(a,r,i),c),u)),n(t(e,l),a)}function l(e,o,r,i,c,l,u){return e=n(e,n(n(a(o,r,i),c),u)),n(t(e,l),o)}function u(e,o,a,i,c,l,u){return e=n(e,n(n(r(o,a,i),c),u)),n(t(e,l),o)}function s(e,o,a,r,c,l,u){return e=n(e,n(n(i(o,a,r),c),u)),n(t(e,l),o)}function f(e){var t,n="",o="";for(t=0;t<=3;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var d,p,m,g,_,h,v,y,b,C=Array();for(C=function(e){for(var t,n=e.length,o=n+8,a=16*((o-o%64)/64+1),r=Array(a-1),i=0,c=0;c<n;)i=c%4*8,r[t=(c-c%4)/4]=r[t]|e.charCodeAt(c)<<i,c++;return i=c%4*8,r[t=(c-c%4)/4]=r[t]|128<<i,r[a-2]=n<<3,r[a-1]=n>>>29,r}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),h=1732584193,v=4023233417,y=2562383102,b=271733878,d=0;d<C.length;d+=16)p=h,m=v,g=y,_=b,h=c(h,v,y,b,C[d+0],7,3614090360),b=c(b,h,v,y,C[d+1],12,3905402710),y=c(y,b,h,v,C[d+2],17,606105819),v=c(v,y,b,h,C[d+3],22,3250441966),h=c(h,v,y,b,C[d+4],7,4118548399),b=c(b,h,v,y,C[d+5],12,1200080426),y=c(y,b,h,v,C[d+6],17,2821735955),v=c(v,y,b,h,C[d+7],22,4249261313),h=c(h,v,y,b,C[d+8],7,1770035416),b=c(b,h,v,y,C[d+9],12,2336552879),y=c(y,b,h,v,C[d+10],17,4294925233),v=c(v,y,b,h,C[d+11],22,2304563134),h=c(h,v,y,b,C[d+12],7,1804603682),b=c(b,h,v,y,C[d+13],12,4254626195),y=c(y,b,h,v,C[d+14],17,2792965006),h=l(h,v=c(v,y,b,h,C[d+15],22,1236535329),y,b,C[d+1],5,4129170786),b=l(b,h,v,y,C[d+6],9,3225465664),y=l(y,b,h,v,C[d+11],14,643717713),v=l(v,y,b,h,C[d+0],20,3921069994),h=l(h,v,y,b,C[d+5],5,3593408605),b=l(b,h,v,y,C[d+10],9,38016083),y=l(y,b,h,v,C[d+15],14,3634488961),v=l(v,y,b,h,C[d+4],20,3889429448),h=l(h,v,y,b,C[d+9],5,568446438),b=l(b,h,v,y,C[d+14],9,3275163606),y=l(y,b,h,v,C[d+3],14,4107603335),v=l(v,y,b,h,C[d+8],20,1163531501),h=l(h,v,y,b,C[d+13],5,2850285829),b=l(b,h,v,y,C[d+2],9,4243563512),y=l(y,b,h,v,C[d+7],14,1735328473),h=u(h,v=l(v,y,b,h,C[d+12],20,2368359562),y,b,C[d+5],4,4294588738),b=u(b,h,v,y,C[d+8],11,2272392833),y=u(y,b,h,v,C[d+11],16,1839030562),v=u(v,y,b,h,C[d+14],23,4259657740),h=u(h,v,y,b,C[d+1],4,2763975236),b=u(b,h,v,y,C[d+4],11,1272893353),y=u(y,b,h,v,C[d+7],16,4139469664),v=u(v,y,b,h,C[d+10],23,3200236656),h=u(h,v,y,b,C[d+13],4,681279174),b=u(b,h,v,y,C[d+0],11,3936430074),y=u(y,b,h,v,C[d+3],16,3572445317),v=u(v,y,b,h,C[d+6],23,76029189),h=u(h,v,y,b,C[d+9],4,3654602809),b=u(b,h,v,y,C[d+12],11,3873151461),y=u(y,b,h,v,C[d+15],16,530742520),h=s(h,v=u(v,y,b,h,C[d+2],23,3299628645),y,b,C[d+0],6,4096336452),b=s(b,h,v,y,C[d+7],10,1126891415),y=s(y,b,h,v,C[d+14],15,2878612391),v=s(v,y,b,h,C[d+5],21,4237533241),h=s(h,v,y,b,C[d+12],6,1700485571),b=s(b,h,v,y,C[d+3],10,2399980690),y=s(y,b,h,v,C[d+10],15,4293915773),v=s(v,y,b,h,C[d+1],21,2240044497),h=s(h,v,y,b,C[d+8],6,1873313359),b=s(b,h,v,y,C[d+15],10,4264355552),y=s(y,b,h,v,C[d+6],15,2734768916),v=s(v,y,b,h,C[d+13],21,1309151649),h=s(h,v,y,b,C[d+4],6,4149444226),b=s(b,h,v,y,C[d+11],10,3174756917),y=s(y,b,h,v,C[d+2],15,718787259),v=s(v,y,b,h,C[d+9],21,3951481745),h=n(h,p),v=n(v,m),y=n(y,g),b=n(b,_);return(f(h)+f(v)+f(y)+f(b)).toLowerCase()}},cc._RF.pop()},{}],pt_PT:[function(e,t){"use strict";cc._RF.push(t,"b9b56k3muBPqJMlhqb7ce6v","pt_PT");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.exports={commonContentList:{},specialCharacter:"xxx",alertContent:{somethingWrong:"Ops!\n\nAlgo deu errado"},labelList:{"Canvas/layer_alert/content_bg/label_message":function(e){return n.language.currentLangFile.alertContent[e]||""},"Canvas/layer_alert/header_bg/label_header":"Aviso pr\xe9vio","Canvas/layer_alert/btn_ok/label_restart":"Est\xe1 bem","Canvas/layer_loading/label_loading":"   CARREGANDO..."}},cc._RF.pop()},{"../../all_modules":"all_modules"}],remove_new_item:[function(e,t,n){"use strict";cc._RF.push(t,"7815fKi0VVLmIezxShqRwTD","remove_new_item"),n.__esModule=!0,n.removeNewItem=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={removeNewItemTimeLeft:0,init:function(){var e=this;o.login.addLoginDataField("removeNewItemTimeLeft"),o.login.addCallback(function(t){e.removeNewItemTimeLeft=t.removeNewItemTimeLeft||(t.isNewUser?o.configs.freeRemoveNewItemForNewUser:0),e.updateButton(),t.isNewUser&&o.data.saveData({removeNewItemTimeLeft:o.configs.freeRemoveNewItemForNewUser})})},btnClick:function(){this.removeNewItemTimeLeft?this.remove():this.getRemove()},remove:function(){o.ui.showNagScreen(),this.fx(function(){o.ui.hideNagScreen(),o.game.genNewItem()}),this.removeNewItemTimeLeft--,o.data.saveData({removeNewItemTimeLeft:this.removeNewItemTimeLeft}),this.updateButton()},fx:function(e){var t=cc.find("Canvas/play_area/new_item_container/new_item/item_types").children.find(function(e){return e.active}),n=cc.find("Canvas/play_area/fx_container"),a=o.utils.copyNodeTo(t,n);o.utils.setGlobalPositionToNode(a,t),t.active=!1;var r=o.utils.getGlobalPosition(cc.find("Canvas/play_area/botBar/remove_new_item")),i=o.utils.global2LocalPosDiff(a,r.x,r.y);a.runAction(cc.sequence(cc.spawn(cc.moveBy(.2,i),cc.scaleTo(.2,0).easing(cc.easeIn(5))),cc.callFunc(function(){e&&e(),a.removeFromParent(!0)})))},getRemove:function(){},updateButton:function(){var e=cc.find("Canvas/play_area/botBar/remove_new_item/badge/removeNewItem_left");e.active=this.removeNewItemTimeLeft,o.utils.setLabelText(e,this.removeNewItemTimeLeft+""),cc.find("Canvas/play_area/botBar/remove_new_item/recbinItem").opacity=this.removeNewItemTimeLeft?255:128,cc.find("Canvas/play_area/botBar/remove_new_item/badge/video").active=!this.removeNewItemTimeLeft}};n.removeNewItem=r,cc._RF.pop()},{"../all_modules":"all_modules"}],tut:[function(e,t,n){"use strict";cc._RF.push(t,"c1f39QEiJxC36xitSy4UsH+","tut"),n.__esModule=!0,n.tut=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={tutMapState:{14:6,15:6,16:16,17:16,28:7},targetCell1:21,targetCell2:22,isTutBombShown:!1,isStep2:!1,isTutDone:!1,blackBgNodeArr:[],blackBgOpacity:180,init:function(){var e=this;o.login.addLoginDataField("isTutBombShown"),o.login.addCallback(function(t){e.isTutDone=t.isTutDone,e.isTutBombShown=t.isTutBombShown,t.isTutDone||e.startTut()})},getCurrentAllowedCellToDrop:function(){var e=this.isTutDone?"all":this[this.isStep2?"targetCell2":"targetCell1"];return console.log(" getCurrentAllowedCellToDrop >> this.isTutDone="+this.isTutDone+" // this.isStep2="+this.isStep2+" // result="+e+" "),this.isTutDone?"all":this[this.isStep2?"targetCell2":"targetCell1"]},startTut:function(){o.ui.showLayer("layer_tut"),cc.find("Canvas/layer_tut").scale=1,cc.find("Canvas/layer_tut").runAction(cc.fadeIn(.3)),o.tut.startHandAction()},startHandAction:function(e){var t=this;void 0===e&&(e=!1),this.isStep2=e||this.isStep2;var n=cc.find("Canvas/layer_tut/handTutorial");n.opacity=0,n.stopAllActions(),o.utils.setGlobalPositionToNode(n,cc.find("Canvas/play_area/new_item_container"+(this.isStep2?"_1":"")));var a=cc.find("Canvas/play_area/map/Image_HexBlock_"+(this.isStep2?this.targetCell2:this.targetCell1)+"/bg"),r=o.utils.getGlobalPosition(a),i=o.utils.global2LocalPosDiff(n,r.x,r.y);i.y,n.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1.3),cc.moveBy(1,i).easing(cc.easeOut(1)),cc.delayTime(.8),cc.moveBy(0,i.mul(-1)),cc.moveBy(.3,cc.v2(0,-10)),cc.moveBy(.15,cc.v2(0,10)))));var c=cc.find("Canvas/play_area/new_item_container"+(this.isStep2?"_1":"")),l=cc.find("Canvas/layer_tut/touchable_mask");o.utils.setGlobalPositionToNode(l,c);var u=cc.find("Canvas/play_area/new_item_container"+(this.isStep2?"_1":"")),s=cc.find("Canvas/layer_tut/new_item_shadow");o.utils.setGlobalPositionToNode(s,u);var f=cc.find("Canvas/layer_tut/new_item_marginer/new_item_mask");o.utils.setGlobalPositionToNode(f,u),this.blackBgNodeArr.push(s,f);var d=cc.find("Canvas/layer_tut/map_item_shadow");this.isStep2||o.utils.setGlobalPositionToNode(d,a);var p=cc.find("Canvas/layer_tut/map_item_marginer/map_item_mask");this.isStep2||o.utils.setGlobalPositionToNode(p,a),this.blackBgNodeArr.push(d,p),this.blackBgNodeArr.map(function(e){return e.opacity=t.blackBgOpacity});var m=cc.find("Canvas/layer_tut/focus_frame");o.utils.setGlobalPositionToNode(m,a),m.stopAllActions(),m.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.3,255),cc.fadeTo(.3,100))))},endTut:function(){o.utilsFB.log("ev_done_tutorial"),o.ui.hideLayer("layer_tut"),this.isTutDone=!0,o.data.saveData({isTutDone:"1"})},checkHideTutHand:function(){if(!this.isTutDone){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999,e.opacity=0}},checkHideTutHandBomb:function(){if(!this.isTutBombShown){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999,e.opacity=0}},checkShowTutHand:function(){this.isTutDone||(cc.find("Canvas/layer_tut/handTutorial"),o.tut.startHandAction())},checkNextTutStep:function(e){var t=this;if(!this.isTutDone){if(this.isDoneStep1&&e==this.targetCell2)return this.endTut();if(this.isDoneStep1=!0,e==this.targetCell1){this.startHandAction(!0);var n=cc.find("Canvas/layer_tut/handTutorial");n.runAction(cc.fadeOut(.3)),this.blackBgNodeArr.map(function(e){return e.runAction(cc.fadeOut(.3))}),setTimeout(function(){n.runAction(cc.fadeIn(.3)),t.blackBgNodeArr.map(function(e){return e.runAction(cc.fadeTo(.3,t.blackBgOpacity))})},1300)}}},checkDoneTut:function(e){this.isTutDone||(e==this.targetCell1?this.startHandAction(!0):e==this.targetCell2&&this.endTut())},showTutBomb:function(){this.isTutBombShown||this.startTut(!0)}};n.tut=r,cc._RF.pop()},{"../all_modules":"all_modules"}],ui:[function(e,t,n){"use strict";cc._RF.push(t,"369ectLwYFG4Ku+YDu4KaLJ","ui"),n.__esModule=!0,n.ui=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={hideNagTimer:null,hideLoadingRealServerTimer:null,init:function(){var e=this;o.ui.initButtonHandler(),this.adjustAllLayerSizes(),o.utils.setTimeout(function(){return e.updateScore(0)},0)},adjustAllLayerSizes:function(){var e=["sample_nodes"];cc.find("Canvas").children.map(function(t){e.includes(t.name)||(t.width=cc.winSize.width,t.height=cc.winSize.height)})},initButtonHandler:function(){o.utils.addButtonComp(cc.find("Canvas/layer_pause/Core_panel/btn_replay"),function(){o.ui.hideLayer("layer_pause"),o.gameOver.replay()}),o.utils.addButtonComp(cc.find("Canvas/layer_pause/Core_panel/btn_resume"),function(){o.ui.hideLayer("layer_pause")}),o.utils.addButtonComp(cc.find("Canvas/layer_game_over/Core_panel/btn_replay"),function(){o.ui.hideLayer("layer_game_over"),o.gameOver.replay()}),o.utils.addButtonComp(cc.find("Canvas/play_area/botBar/remove_new_item"),function(){o.removeNewItem.btnClick()}),o.utils.addButtonComp(cc.find("Canvas/play_area/botBar/get_block_7"),function(){o.get7Video.btnClick()}),o.utils.addButtonComp(cc.find("Canvas/play_area/botBar/bottom_share"),function(){}),o.utils.addButtonComp(cc.find("Canvas/play_area/botBar/bottom_invite"),function(){}),o.utils.addButtonComp(cc.find("Canvas/play_area/btn_pause"),function(){o.tut.isTutDone&&o.ui.showLayer("layer_pause")}),o.utils.addButtonComp(cc.find("Canvas/layer_alert/btn_ok"),function(){o.ui.hideLayer("layer_alert"),o.ui.alertCloseCallback&&(o.ui.alertCloseCallback(),o.ui.alertCloseCallback=null)})},showLayer:function(e){var t=cc.find("Canvas/"+e);t&&(t.active=!0)},hideLayer:function(e){var t=cc.find("Canvas/"+e);t&&(t.active=!1)},showAlert:function(e,t){o.ui.showLayer("layer_alert"),o.language.setLabelDataAndRender(cc.find("Canvas/layer_alert/content_bg/label_message"),e),o.ui.alertCloseCallback=t},showLoading:function(){o.ui.showLayer("layer_loading"),o.ui.hideLoadingTimer&&clearTimeout(o.ui.hideLoadingTimer),o.ui.hideLoadingTimer=setTimeout(function(){return o.ui.hideLoading()},1e4)},hideLoading:function(){o.ui.hideLayer("layer_loading"),o.ui.hideLoadingTimer&&clearTimeout(o.ui.hideLoadingTimer)},showNagScreen:function(){cc.find("Canvas/nag_screen").active=!0,o.ui.hideNagTimer&&clearTimeout(o.ui.hideNagTimer),o.ui.hideNagTimer=setTimeout(function(){return o.ui.hideNagScreen()},1e4)},hideNagScreen:function(){cc.find("Canvas/nag_screen").active=!1,o.ui.hideNagTimer&&clearTimeout(o.ui.hideNagTimer)},disableButton:function(e){e.getComponent(cc.Button)||_log("KHoong ton tai button component"),e.getComponent(cc.Button)&&(e.getComponent(cc.Button).enabled=!1),e.opacity=parseInt(76.5)},enableButton:function(e){e.getComponent(cc.Button)&&(e.getComponent(cc.Button).enabled=!0),e.opacity=255},showCompliment:function(e){var t=cc.find("Canvas/play_area/labels/compliment"),n=t.getChildByName("label");o.language.setLabelDataAndRender(n,e),t.stopAllActions(),t.scale=0,t.runAction(cc.sequence(cc.scaleTo(.2,1.15).easing(cc.easeOut(3)),cc.scaleTo(.1,1).easing(cc.easeIn(1)),cc.delayTime(2),cc.scaleTo(.1,1.15).easing(cc.easeOut(1)),cc.scaleTo(.2,0).easing(cc.easeIn(3))))},updateScore:function(e){e=e||o.user.score;var t=cc.find("Canvas/play_area/label_score");t.runAction(cc.sequence(cc.scaleTo(.1,1.5),cc.callFunc(function(){return o.utils.setLabelText(t,o.utils.localizeNumber(e)+"")}),cc.scaleTo(.17,1))),o.data.loadData(["bestScore"],function(t){var n=t.bestScore||0;e>n&&(o.data.saveData({bestScore:e}),n=e),o.utils.setLabelText(cc.find("Canvas/play_area/topBar/highscorePanel/label_best_score"),o.utils.localizeNumber(n))})}};n.ui=r,cc._RF.pop()},{"../all_modules":"all_modules"}],user:[function(e,t,n){"use strict";cc._RF.push(t,"3fe9fn4VtFG/bmP6vRVZhC9","user"),n.__esModule=!0,n.user=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={id:0,name:0,score:0,bestScore:0,init:function(){window.FBInstant?(o.user.id=FBInstant.player.getID(),o.user.name=FBInstant.player.getName(),o.user.photo=FBInstant.player.getPhoto()):(o.user.id="xxxxaa111",o.user.name="Tkgiet",o.user.photo="https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png"),cc.assetManager.loadRemote(o.user.photo,function(e,t){e||(o.user.avatarSpriteFrame=new cc.SpriteFrame(t))})},initNewUser:function(e){Object.assign(e,{LoginTime:0,PlayerExp:0,PlayerLevel:0}),o.data.saveData(e)}};n.user=r,cc._RF.pop()},{"../all_modules":"all_modules"}],utils_facebook:[function(e,t,n){"use strict";cc._RF.push(t,"6352baeP59CYZXDM4grJoBf","utils_facebook"),n.__esModule=!0,n.utilsFB=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var r={init:function(){o.utilsFB.startLogSessionTime(),window.FBInstant&&(FBInstant.onPause(function(){}),window.fbSupportedAPIs=FBInstant.getSupportedAPIs())},log:function(e,t,n){void 0===t&&(t=1),window.FBInstant&&FBInstant.logEvent(e,t,n)},setSessionId:function(e){window.FBInstant&&FBInstant.setSessionData({player_id:e})},isSupportedAPI:function(e){return!!window.FBInstant&&-1!=FBInstant.getSupportedAPIs().indexOf(e)},startLogSessionTime:function(){var e=function(e){o.utilsFB.log("ev_session_time",1,{timePassed:e})};e(0);var t=0;setInterval(function(){e(t+=30)},3e4)}};n.utilsFB=r,cc._RF.pop()},{"../all_modules":"all_modules"}],utils_instant:[function(e,t){"use strict";cc._RF.push(t,"e9a52yRTSdH1owimWkbkTfe","utils_instant"),window._soundVolume=1,window._isANDROID=cc.sys.os==cc.sys.OS_ANDROID,window._isIOS=cc.sys.os==cc.sys.OS_IOS,window._max=Math.max,window._min=Math.min,window._round=Math.round,window._floor=Math.floor,window._ceil=Math.ceil,window._abs=Math.abs,window._random=Math.random,window._sqrt=Math.sqrt,window._atan2=Math.atan2,window._PI=Math.PI,window._removeArrItem=function(e,t){var n=e.indexOf(t);if(-1!=n)return e.splice(n,1),!0},window._time=function(){return(new Date).getTime()},window._isString=function(e){return"string"==typeof e},window._isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},window._log=function(){var e;window._NO_CONSOLE_LOG||(e=console).log.apply(e,arguments)},cc._RF.pop()},{}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"9f320CgfyZBvpJvky2f4A6n","utils"),n.__esModule=!0,n.utils=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var l=1e5,u={textureCaches:{},init:function(){o.utils.canvasNode=cc.find("Canvas")},setTimeout:function(e,t){void 0===t&&(t=0);var n={_id:l++,__instanceId:l,callback:function(){e(n)}};return cc.director.getScheduler().schedule(n.callback,n,t/1e3,0,0,!1),n},clearTimeout:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},setInterval:function(e,t){void 0===t&&(t=0);var n={_id:l++,__instanceId:l,callback:function(){e(n)}};return cc.director.getScheduler().schedule(n.callback,n,t/1e3,cc.macro.REPEAT_FOREVER,0,!1),n},clearInterval:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},addButtonComp:function(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0),setTimeout(function(){e.getComponent("free_button_comp")||e.addComponent("free_button_comp");var o=e.addComponent(cc.Button);o.transition=n?cc.Button.Transition.SCALE:null;var a=new cc.Component.EventHandler;a.target=e,a.component="free_button_comp",a.handler="freeHandler",o.clickEvents.push(a),e.freeButtonHandlerFunc=function(){t()}})},getNodePath:function(e){for(var t=[e.name],n=e.parent,o=0;n&&o++<50&&n.parent;)t.push(n.name),n=n.parent;return t.reverse().join("/")},getChildByPath:function(e,t){var n=e;return t.split("/").map(function(e){n=n.getChildByName(e)}),n},getComponentName:function(e){return e.split("<")[1].replace(">","")},setOrgPos:function(e){e&&(e.orgPos||(e.orgPos=e.getPosition()),e.setPosition(e.orgPos))},getGlobalPosition:function(e){var t=e.parent,n=e.x,o=e.y,a=0;for(t||_log(" getGlobalPosition >> parent=null // node =  ",e);t&&"Canvas"!=t.name&&a++<100;)n=n*t.scaleX+t.x,o=o*t.scaleY+t.y,t=t.parent;return cc.v2(n,o)},global2LocalPosDiff:function(e,t,n){for(var o=e.parent,a=[],r=0;"Canvas"!=o.name&&r++<100;)a.push(o),o=o.parent;var i=t,c=n;return a.reverse().map(function(e){i=(i-e.x)/e.scaleX,c=(c-e.y)/e.scaleY}),cc.v2(i-e.x,c-e.y)},setGlobalPositionToNode:function(e,t){var n=o.utils.getGlobalPosition(t),a=o.utils.global2LocalPosDiff(e,n.x,n.y);return e.x+=a.x,e.y+=a.y,n},randomArrItem:function(e,t){void 0===t&&(t=!1);var n=_floor(_random()*e.length);return t?e.splice(n,1)[0]:e[n]},randomObjectProp:function(e,t){void 0===t&&(t=!1);var n=Array.from(Object.keys(e)),a=o.utils.randomArrItem(n),r=e[a];return t&&delete e[a],r},randomItemFromRatioSet:function(e){var t=0,n=[];e.map(function(e){t+=e.ratio,n.push(t)});var o=parseInt(_random()*t),a=0;return n.some(function(e,t){if(o<e)return a=t,!0}),e[a]},secondsToTime:function(e){return{days:Math.floor(e/86400),hours:Math.floor(e%86400/3600),minutes:Math.floor(e%3600/60),seconds:e%60}},secondsToTimeString:function(e){var t=this.secondsToTime(e),n=t.days,o=t.hours,a=t.minutes,r=t.seconds;return n>0?n+" day"+(n>1?"s":""):o>0?o+" hr"+(o>1?"s":""):a>0?a+" min"+(a>1?"s":""):(r||0)+" sec"+(r>1?"s":"")},secondsToTimeCountdown:function(e){if(e<=0)return"00:00";var t=this.secondsToTime(e),n=t.days,o=t.hours,a=t.minutes,r=t.seconds;if(n>0)return n+" day"+(n>1?"s":"");var i="";return o>0&&(i=("0"+o).slice(-2)+":"),(i+=("0"+a).slice(-2)+":")+("0"+r).slice(-2)},setLabelCountDownTimer:function(e,t,n,a){var r=e;_isString(r)&&(r=cc.find(r)),r.countDownTimerVar&&clearInterval(r.countDownTimerVar);var i=function(){if(r.parent){var e=_time(),i=t-e,c=o.utils.secondsToTimeCountdown(_floor(i/1e3)),l=(a||"xxx").replace("xxx",c);o.utils.setLabelText(r,l),i<=0&&(clearInterval(r.countDownTimerVar),n&&n())}else clearInterval(r.countDownTimerVar)};r.countDownTimerVar=setInterval(i,500),i()},waitToRun:function(e,t,n,a,r,i){void 0===n&&(n=window),void 0===a&&(a=.1);var c=!1,l=setInterval(function(){if(t.includes("()")){if(!n[t.replace("()","")]())return}else if(!n[t])return;clearInterval(l),c=!0,e()},1e3*a);r&&o.utils.setTimeout(function(){clearInterval(l),i&&!c&&i()},1e3*r)},extendObj:function(e,t,n){n.map(function(n){t[n]=e[n]})},setNodeProps:function(e,t,n,o,a,r){t&&(e.width=t),n&&(e.height=n),o&&(e.x=o),a&&(e.y=a),r&&(e.scale=r)},preloadImage:function(e,t){if(o.utils.textureCaches[e])return t&&t(o.utils.textureCaches[e]);cc.loader.loadRes(e,cc.SpriteFrame,function(n,a){n?t&&t(!1):(o.utils.textureCaches[e]=a,t&&t(a))})},copyTexture:function(e,t){(t.getComponent(cc.Sprite)||t.addComponent(cc.Sprite)).spriteFrame=e.getComponent(cc.Sprite).spriteFrame},setNodeImgFromUrl:function(e,t){e.isTextureFromURL=!0,o.utils.textureCaches[t]||(o.utils.textureCaches[t]=new cc.SpriteFrame(t)),o.utils.setNodeImgFromSpriteFrame(e,o.utils.textureCaches[t])},setNodeImgFromResources:function(e,t,n,a){void 0===n&&(n=!1),e.isTextureFromResource=!0,e.currentTexturePath=t,o.utils.textureCaches[t]?(e.getComponent(cc.Sprite).enabled=!0,o.utils.setNodeImgFromSpriteFrame(e,o.utils.textureCaches[t],!n,n),a&&a()):cc.loader.loadRes(t,cc.SpriteFrame,function(r,i){r||(o.utils.textureCaches[t]=i,e.currentTexturePath==t&&(e.getComponent(cc.Sprite).enabled=!0,o.utils.setNodeImgFromSpriteFrame(e,o.utils.textureCaches[t],!n,n),a&&a()))})},setNodeImgFromSpriteFrame:function(e,t,n,a){void 0===n&&(n=!0),void 0===a&&(a=!1);var r=e.width,i=e.height;e.getComponent(cc.Sprite)||e.addComponent(cc.Sprite),o.utils.waitToRun(function(){if(e.getComponent(cc.Sprite).spriteFrame=t,n?(e.width=0!=r?r:t._originalSize.width,e.height=0!=i?i:t._originalSize.height):(0!=t._originalSize.width&&(e.width=t._originalSize.width),0!=t._originalSize.height&&(e.height=t._originalSize.height)),a){var o=e.getComponent(cc.Sprite).spriteFrame;e.width=o._originalSize.width,e.height=o._originalSize.height}},"textureLoaded()",t)},setNodeImg:function(e,t,n,a){if(void 0===n&&(n=!0),void 0===a&&(a=!1),"string"==typeof t)this.isURL(t)?o.utils.setNodeImgFromUrl(e,t):o.utils.setNodeImgFromResources(e,t,a);else if(t instanceof cc.SpriteFrame)o.utils.setNodeImgFromSpriteFrame(e,t,n,a);else if(t instanceof cc.Node){var r=t.getComponent(cc.Sprite);if(!r)return;o.utils.setNodeImgFromSpriteFrame(e,r.spriteFrame,n,a)}},setLabelText:function(e,t){e&&(e.getComponent(cc.Label).string=t)},setLabelTextBigNumber:function(e,t){e&&(isNaN(t)&&(t=0),e.getComponent(cc.Label).string=o.utils.formatCurrency(t,999999999999999))},setLabelTextPrice:function(e,t,n){if(e){var a=_isString(t)&&t.startsWith("+"),r=a?parseInt(t.replace("+","")):t,i=o.utils.formatCurrency(r,n);e.getComponent(cc.Label).string=(a?"+":"")+i}},setLabelTextShotcut:function(e,t){if(e){if(!t.length)return;var n=t.length>6?t.slice(0,6):t;e.getComponent(cc.Label).string=n+"..."}},moveNodeTo:function(e,t,n){void 0===n&&(n=!1);var o=n?cc.instantiate(e):e;return t&&o.parent!=t&&(o.removeFromParent(!1),t.addChild(o)),o},copyNodeTo:function(e,t){var n=o.utils.moveNodeTo(e,t,!0),a=e.getComponentsInChildren(cc.Sprite),r=n.getComponentsInChildren(cc.Sprite);return a.map(function(e,t){var n=e.node,a=r[t].node;o.utils.extendObj(n,a,["width","height"]),n.onTouchEnd&&a.on("touchend",n.onTouchEnd)}),n},prefabToNode:function(e){return cc.instantiate(o.prefabList[e])},preloadPrefabToNode:function(e,t,n){var a=o.utils.prefabToNode(e);a.name=t,a.parent=n,a.setPosition(0,0),a.active=!1},formatNumber:function(e){return e.toLocaleString("en")},formatCurrency:function(e,t){var n=Math.floor(e),o="";if(n>t)for(var a,i=r(["K","M","B","T","aa","ab","ad","ae","af"]);!(a=i()).done;){var c=a.value;if((n/=1e3)<t){o=c;break}}return n.toFixed(0).replace(",",".").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+o},isURL:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},singleTouchSet:function(e,t,n,o){var a=cc.winSize.width/2,r=cc.winSize.height/2,i=function(e,t){var n=t.touch.getLocation();e(cc.v2(n.x-a,n.y-r),t)};e.on("touchstart",function(n){e.touchingID||(e.touchingID=n.touch._id+1,t&&i(t,n))}),n&&e.on("touchmove",function(t){t.touch._id+1==e.touchingID&&n&&i(n,t)});var c=function(t){t.touch._id+1==e.touchingID&&(e.touchingID=null,o&&i(o,t))};e.on("touchend",c),e.on("touchcancel",c)},removeTouchHandler:function(e){e.isDraggable=!1,e.touchStartHandlerArr=e.touchMoveHandlerArr=e.touchEndHandlerArr=null,e.off("touchstart"),e.off("touchend"),e.off("touchmove"),e.off("touchcancel")},localizeNumber:function(e){var t=".";switch(window.FBInstant?FBInstant.getLocale():"en_US"){case"en_US":case"en_GB":case"th_TH":t=",";break;case"fr_FR":case"fr_CA":case"ru_RU":t=" ";break;case"pl_PL":case"it_IT":case"hu_HU":t=""}for(var n="",o=e,a=0;o>=10;){a>0&&a%3==0&&(n=t+n);var r=o%10;n=r+""+n,o=(o-r)/10,a++}return a>0&&a%3==0&&(n=t+n),o+""+n}};n.utils=u,cc._RF.pop()},{"../all_modules":"all_modules"}],vi_VN:[function(e,t){"use strict";cc._RF.push(t,"6da635n6HpC8o8ny1p501LS","vi_VN");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("../../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.exports={commonContentList:{},specialCharacter:"xxx",alertContent:{somethingWrong:"\u1ed2 kh\xf4ng!\n\nC\xf3 l\u1ed7i x\u1ea3y ra"},labelList:{"Canvas/layer_alert/content_bg/label_message":function(e){return n.language.currentLangFile.alertContent[e]||""},"Canvas/layer_alert/header_bg/label_header":"Ch\xfa \xfd","Canvas/layer_alert/btn_ok/label_restart":"\u0110\u1ed2NG \xdd","Canvas/layer_loading/label_loading":"   \u0110ANG T\u1ea2I..."}},cc._RF.pop()},{"../../all_modules":"all_modules"}]},{},["all_modules","analytic","canvas_init","configs","block_collision_handler","cell_links","control","map","map_visual","game_language","de_DE","en_US","es_ES","id_ID","pt_PT","vi_VN","language_comp","language_label_group_comp","layout_language_comp","localize_analytic","data","game","game_over","get7Video","load_optimize","login","remove_new_item","user","tut","fx","ui","free_button_comp","md5","utils","utils_facebook","utils_instant"]);