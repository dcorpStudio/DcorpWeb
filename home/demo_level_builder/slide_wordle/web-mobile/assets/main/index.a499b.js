window.__require=function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)o(i[a]);return o}({all_modules:[function(e,t,n){"use strict";cc._RF.push(t,"090e8xDLQRAgKX2HKPophnx","all_modules");var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),o(e("../services/utils/utils_common"),n),o(e("./configurations/config_game"),n),o(e("../services/utils/utils_data"),n),o(e("../services/utils/utils_ui"),n),o(e("../services/utils/utils_anim_fx"),n),o(e("../services/audio"),n),o(e("../system/app_events"),n),o(e("../system/ui-fx/core_fx"),n),o(e("../system/ui-fx/core_ui"),n),o(e("../core-game/settings"),n),o(e("../logic/data"),n),o(e("../logic/login"),n),o(e("../logic/user"),n),o(e("../core-game/game_mechanic"),n),o(e("../core-game/map"),n),o(e("../core-game/map_visual"),n),o(e("../core-game/tutorial"),n),o(e("../core-game/game_flow"),n),o(e("../core-game/level_manager"),n),o(e("../core-game/level_generator"),n),o(e("../control/control"),n),cc._RF.pop()},{"../control/control":"control","../core-game/game_flow":"game_flow","../core-game/game_mechanic":"game_mechanic","../core-game/level_generator":"level_generator","../core-game/level_manager":"level_manager","../core-game/map":"map","../core-game/map_visual":"map_visual","../core-game/settings":"settings","../core-game/tutorial":"tutorial","../logic/data":"data","../logic/login":"login","../logic/user":"user","../services/audio":"audio","../services/utils/utils_anim_fx":"utils_anim_fx","../services/utils/utils_common":"utils_common","../services/utils/utils_data":"utils_data","../services/utils/utils_ui":"utils_ui","../system/app_events":"app_events","../system/ui-fx/core_fx":"core_fx","../system/ui-fx/core_ui":"core_ui","./configurations/config_game":"config_game"}],app_events:[function(e,t,n){"use strict";cc._RF.push(t,"10990IZBkRJQLreM2+T4aIH","app_events"),Object.defineProperty(n,"__esModule",{value:!0}),n.appEvents=void 0;var i=e("../system/all_modules");i._,i.$,n.appEvents={isAppHidden:!1,onAppShowCallbackArr:[],onAppHideCallbackArr:[],onAppShow:function(){this.isAppHidden=!1,this.onAppShowCallbackArr.map(function(e){return e()})},addAppShowCallback:function(e){this.onAppShowCallbackArr.push(e)},onAppHide:function(){this.isAppHidden=!0,this.onAppHideCallbackArr.map(function(e){return e()})},addAppHideCallback:function(e){this.onAppHideCallbackArr.push(e)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],audio:[function(e,t,n){"use strict";cc._RF.push(t,"57d370T3gNMWJXIo0x1feW9","audio"),Object.defineProperty(n,"__esModule",{value:!0}),n.audio=void 0;var i=e("../system/all_modules"),o=i._;i.$,n.audio={audioList:{},playingIdList:{},currentStreakSoundIndex:0,lastStreakTime:0,init:function(){},loadAudioFiles:function(){var e=this;cc.resources.loadDir("audios",cc.AudioClip,function(t,n){if(t)return o.log(t);for(var r=0,a=n;r<a.length;r++){var c=a[r];e.audioList[c.name]=c}o.waitToRun(function(){return e.playBgMusic()},"isInitialized",i.settings)})},playSound:function(e,t){if(void 0===t&&(t=1),i.settings.sound&&this.audioList[e])try{this.playingIdList[e]=cc.audioEngine.play(this.audioList[e],!1,t)}catch(n){}},stopSound:function(e){this.playingIdList[e]&&cc.audioEngine.stopEffect(this.playingIdList[e])},playBgMusic:function(e){if(void 0===e&&(e=1),i.settings.music&&!cc.audioEngine.isMusicPlaying())try{this.playingIdList.bg_music=cc.audioEngine.playMusic(this.audioList.bg_music,!0),cc.audioEngine.setMusicVolume(e)}catch(t){o.log("playMusic err ",t)}},stopBgMusic:function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic()},playSoundClickButton:function(){i.settings.sound&&this.playSound("button_click",1)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],bind_button_handlers:[function(e,t,n){"use strict";cc._RF.push(t,"9c123Lu5L1HWKu7kgQRu2Dk","bind_button_handlers"),Object.defineProperty(n,"__esModule",{value:!0}),n.bindButtonHandlers=void 0;var i=e("../../system/all_modules");i._,n.bindButtonHandlers={run:function(){i.utilsUI.makeButton(cc.find("Canvas/layer_win/popup_bg/button_ok"),function(){i.coreUI.hideLayout("layer_win")}),i.utilsUI.makeButton(cc.find("Canvas/layer_lose/popup_bg/btn_replay"),function(){i.coreUI.hideLayout("layer_lose"),i.gameFlow.startGame()}),i.utilsUI.makeButton(cc.find("Canvas/layer_win/popup_bg/button_next"),function(){i.coreUI.hideLayout("layer_win"),i.gameFlow.nextLevel()}),i.utilsUI.makeButton(cc.find("Canvas/play_area/top_bar/btn_guide"),function(){i.coreUI.showLayout("layer_tut"),i.gameMechanic.isPause=!0}),i.utilsUI.makeButton(cc.find("Canvas/layer_tut/btn_ok"),function(){i.coreUI.hideLayout("layer_tut"),i.gameMechanic.isPause=!1});var e=cc.find("Canvas/layer_tut/New PageView").getComponent(cc.PageView);i.utilsUI.makeButton(cc.find("Canvas/layer_tut/New PageView/view/content/page_1/tut1/btn-next-triangle"),function(){return e.setCurrentPageIndex(e.getCurrentPageIndex()+1)}),i.utilsUI.makeButton(cc.find("Canvas/layer_tut/New PageView/view/content/page_2/tut2/btn-next-triangle"),function(){return e.setCurrentPageIndex(e.getCurrentPageIndex()+1)}),i.utilsUI.makeButton(cc.find("Canvas/layer_tut/New PageView/view/content/page_2/tut2/btn-prev-triangle"),function(){return e.setCurrentPageIndex(e.getCurrentPageIndex()-1)}),i.utilsUI.makeButton(cc.find("Canvas/layer_tut/New PageView/view/content/page_3/tut3/btn-prev-triangle"),function(){return e.setCurrentPageIndex(e.getCurrentPageIndex()-1)}),i.utilsUI.makeButton(cc.find("Canvas/play_area/top_bar/btn_pause"),function(){i.coreUI.showLayout("layer_pause"),i.gameMechanic.isPause=!0}),i.utilsUI.makeButton(cc.find("Canvas/layer_pause/popup_bg/button_resume"),function(){i.coreUI.hideLayout("layer_pause"),i.gameMechanic.isPause=!1}),i.utilsUI.makeButton(cc.find("Canvas/play_area/btn_replay"),function(){i.gameMechanic.replay()}),i.utilsUI.makeButton(cc.find("Canvas/play_area/btn_report_bug"),function(){i.gameMechanic.deviceLogGridState(),cc.find("Canvas/play_area/popup_grid_state").active=!0}),i.utilsUI.makeButton(cc.find("Canvas/play_area/popup_grid_state/bg"),function(){cc.find("Canvas/play_area/popup_grid_state").active=!1})}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],config_game:[function(e,t,n){"use strict";cc._RF.push(t,"e2516totLFCXanAqceflU53","config_game"),Object.defineProperty(n,"__esModule",{value:!0}),n.configGame=void 0;var i=e("../all_modules");i._,i.$,n.configGame={},cc._RF.pop()},{"../all_modules":"all_modules"}],control:[function(e,t,n){"use strict";cc._RF.push(t,"1ddf8FW8cNGapuroxBoKhVq","control"),Object.defineProperty(n,"__esModule",{value:!0}),n.control=void 0;var i=e("../system/all_modules");i._,i.$,n.control={selectedCellNode:null,init:function(){},bindCellTap:function(e){e.on("touchstart",function(){e.isEmpty||i.gameMechanic.onCellTap(e)})}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],core_fx:[function(e,t,n){"use strict";cc._RF.push(t,"58583JUlBRDj43pXro2UfkX","core_fx"),Object.defineProperty(n,"__esModule",{value:!0}),n.coreFX=void 0;var i=e("../../system/all_modules");i._,i.$,n.coreFX={fxContainer:null,init:function(){}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],core_ui:[function(e,t,n){"use strict";cc._RF.push(t,"b15554JuJ1HfrbLWDvHND0f","core_ui"),Object.defineProperty(n,"__esModule",{value:!0}),n.coreUI=void 0;var i=e("../../system/all_modules"),o=i._,r=e("./bind_button_handlers");n.coreUI={alertOKCallback:null,init:function(){this.adjustUI(),r.bindButtonHandlers.run()},adjustUI:function(){cc.winSize.width/cc.winSize.height>.5625&&(cc.find("Canvas").getComponent(cc.Canvas).fitHeight=!0),["Canvas/play_area"].map(function(e){cc.find(e).height=cc.winSize.height})},showLayout:function(e){(o.isString(e)?cc.find("Canvas/"+e):e).active=!0},hideLayout:function(e){(o.isString(e)?cc.find("Canvas/"+e):e).active=!1},showAlert:function(e,t){this.showLayout("layer_alert"),i.utilsUI.fillLabel(cc.find("Canvas/layer_alert/bg_msg/label_msg"),e),this.alertOKCallback=t},hideLoadingTimer:null,showLoading:function(){var e=this;this.showLayout("layer_loading"),this.hideLoadingTimer&&clearTimeout(this.hideLoadingTimer),this.hideLoadingTimer=setTimeout(function(){return e.hideLoading()},1e4)},hideLoading:function(){this.hideLayout("layer_loading"),this.hideLoadingTimer&&clearTimeout(this.hideLoadingTimer)},showNagScreen:function(e){var t=this;cc.find("Canvas/nag_screen").active=!0,e&&o.setTimeout(function(){return t.hideNagScreen()},1e3*e)},hideNagScreen:function(){cc.find("Canvas/nag_screen").active=!1},updateUserStats:function(e){void 0===e&&(e=!1)}},cc._RF.pop()},{"../../system/all_modules":"all_modules","./bind_button_handlers":"bind_button_handlers"}],data:[function(e,t,n){"use strict";cc._RF.push(t,"6b039z4eQtF8ZlRU+IT2kCE","data"),Object.defineProperty(n,"__esModule",{value:!0}),n.data=void 0;var i=e("../system/all_modules"),o=i._;i.$,n.data={init:function(){this.isUserReady=!0},isUserReady:!1,saveData:function(e,t){o.setTimeout(function(){for(var n in e)try{localStorage.setItem(n,JSON.stringify(e[n]))}catch(i){o.log(i)}t&&t()},500)},loadData:function(e,t){o.setTimeout(function(){var n={};e.map(function(e){var t=localStorage.getItem(e);if(t)try{n[e]=JSON.parse(t)}catch(i){}}),t&&t(n)},500)},loadEntryPointData:function(){}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],free_button_comp:[function(e,t,n){"use strict";cc._RF.push(t,"ee307OeX0lMvqRwlJoeXArM","free_button_comp");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../system/all_modules"),c=(a._,a.$,cc._decorator),l=c.ccclass,s=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.freeHandler=function(e){e.target.freeButtonHandlerFunc&&e.target.freeButtonHandlerFunc(e.target)},r([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../../system/all_modules":"all_modules"}],game_flow:[function(e,t,n){"use strict";cc._RF.push(t,"133e2EyA7BEH6xD94DPj2u1","game_flow"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameFlow=void 0;var i=e("../system/all_modules"),o=i._;i.$,n.gameFlow={currentLevelIndex:1,init:function(){var e=this;this.parseURL(),i.login.addCallback(function(t){e.currentLevelIndex=t.currentLevel||1,i.levelManager.renderHomeLevelSelector()})},parseURL:function(){var e=window.location.search,t=new URLSearchParams(e),n=t.get("mode"),o=t.get("sampleLevelIndex");if("2"==n)i.coreUI.hideLayout("layer_tut"),cc.find("Canvas/level_generator").active=!0,i.levelGen.start(o);else if("1"==n){i.coreUI.hideLayout("layer_tut"),cc.find("Canvas/level_generator").active=!1;var r=t.get("levelInfo")||JSON.stringify({gridWidth:4,gridHeight:3,correctWordList:"BIKE,BOAT,CAR@",letterString:"BBIK@OAECART",hint:"Names of 3 vehicles"});console.log("levelInfoStr = "+r);var a=void 0;try{a=JSON.parse(r)}catch(c){}if(!a)return;this.startGame(a)}else i.coreUI.showLayout("layer_tut"),cc.find("Canvas/level_generator").active=!1},startGame:function(e){(e=e||i.gameMechanic.currentLevelInfo).correctWordArr=e.correctWordList.split(","),i.gameMechanic.startGame(e)},onWin:function(){this.currentLevelIndex++,i.data.saveData({currentLevel:this.currentLevelIndex}),i.levelManager.renderHomeLevelSelector(),i.coreUI.showNagScreen(1),o.setTimeout(function(){return i.coreUI.showLayout("layer_win")},1e3)},onLose:function(){i.coreUI.showLayout("layer_lose")},nextLevel:function(){this.startGame()}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],game_mechanic:[function(e,t,n){"use strict";cc._RF.push(t,"438ea0dqARKwKWtyk/Ae8uA","game_mechanic"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameMechanic=void 0;var i=e("../system/all_modules"),o=i._;i.$,n.gameMechanic={emptyCellNode:null,correctWordArr:null,currentLevelInfo:null,isWin:!1,isLose:!1,isPause:!1,remainingSeconds:0,init:function(){this.startTimer()},startTimer:function(){var e=this,t=cc.find("Canvas/play_area/top_bar/top_time_bar/label_timer");o.setInterval(function(){if(!(e.isWin||e.isLose||e.isPause)&&e.currentLevelInfo){e.remainingSeconds-=.1;var n=o.floor(e.remainingSeconds);if(n<0)return i.gameFlow.onLose(),e.isLose=!0;i.utilsUI.fillLabel(t,o.secondsToTimeCountdown(n))}},100)},startGame:function(e){var t=this;e=e||this.currentLevelInfo,this.currentLevelInfo=e,this.remainingSeconds=this.currentLevelInfo.gridWidth*this.currentLevelInfo.gridHeight*10,this.isWin=!1,this.isLose=!1,this.isPause=!1,this.correctWordArr=e.correctWordArr,i.mapVisual.renderLevel(e),i.mapVisual.elemContainerNode.children.map(function(e){return t.checkAndColorCellNode(e)})},replay:function(){this.startGame(this.currentLevelInfo)},onWin:function(){this.isWin=!0,i.gameFlow.onWin()},checkWin:function(){var e=this;this.isWin=i.mapVisual.elemContainerNode.children.every(function(t){return t.isEmpty?0==t.cellPos.y&&t.cellPos.x==e.currentLevelInfo.gridWidth-1:e.checkAndColorCellNode(t)}),this.isWin&&this.onWin()},onCellTap:function(e){this.isWin||this.isSwappingCell||1==e.cellPos.sub(this.emptyCellNode.cellPos).mag()&&this.swapCell(e,this.emptyCellNode)},isSwappingCell:!1,swapCell:function(e,t){var n,i=this;this.isSwappingCell=!0,n=[t.cellPos,e.cellPos],e.cellPos=n[0],t.cellPos=n[1];var o=e.position,r=t.position;e.stopAllActions(),t.stopAllActions(),cc.tween(e).to(.1,{position:r}).start(),cc.tween(t).to(.1,{position:o}).call(function(){return i.isSwappingCell=!1}).call(function(){return i.checkAllCellsValid()}).start(),this.checkAndColorCellNode(e),this.checkAndColorCellNode(t),this.checkWin()},checkAndColorCellNode:function(e){if(!e.isEmpty){var t=e.letter,n=e.cellPos,i=this.correctWordArr[this.currentLevelInfo.gridHeight-1-n.y];i||o.log("rowWord=undefined // index = "+(this.currentLevelInfo.gridHeight-1-n.y)+" // this.correctWordArr="+this.correctWordArr.join(" # ")+" ");var r=i.includes(t),a=this.correctWordArr.some(function(e){return e.substr(n.x,1)==t}),c=r&&a&&i.substr(n.x,1)==t,l=c?cc.Color.GREEN:r||a?cc.color("#ECFF8B"):cc.color("#d8d8d8");return cc.find("bg",e).color=l,c}},checkAllCellsValid:function(){var e=this,t="",n=i.mapVisual.elemContainerNode.children;if(n.map(function(o){var r=i.mapVisual.getCellPos(o.cellPos.x,o.cellPos.y);o.position.equals(r)||(t+="\nwrongCellPos! "+e.getCellInfo(o));var a=n.find(function(e){return e!=o&&e.cellPos.equals(o.cellPos)});a&&(t+="\nduplicatedCellNode! \n \t\t cell1 = "+e.getCellInfo(o)+"\n \t\t cell2 = "+e.getCellInfo(a))}),""!=t){var o=cc.find("Canvas/play_area/btn_report_bug/alert");o.stopAllActions(),cc.tween(o).repeatForever(cc.tween().to(.2,{opacity:255}).to(.2,{opacity:0})).start()}return t},deviceLogGridState:function(){var e=this,t=cc.find("Canvas/play_area/popup_grid_state/input_grid_.log").getComponent(cc.EditBox);t.string="isSwappngCell = "+this.isSwappingCell+" \n",t.string+=" ---------------------------\n checkAllCellsValid = "+this.checkAllCellsValid()+" \n",t.string+=" ---------------------------\n gridState = \n",i.mapVisual.elemContainerNode.children.map(function(n){t.string+=e.getCellInfo(n)})},getCellInfo:function(e){return"cellPos= "+e.cellPos+" // realPos="+e.position+" // letter="+e.letter+" // isEmpty="+!!e.isEmpty+"\n"}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],"input-comp":[function(e,t,n){"use strict";cc._RF.push(t,"1eb6fiWsstFPIBafHn6/NJH","input-comp");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../system/all_modules"),c=(a._,a.$,cc._decorator),l=c.ccclass,s=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.textChanged=function(){a.levelGen.setUpInputMapSize()},t.prototype.letterChanged=function(){a.levelGen.setCurrentCorrectWords()},r([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../system/all_modules":"all_modules"}],level_generator:[function(e,t,n){"use strict";cc._RF.push(t,"636b8ZJ0IZIZYGTKI/V7MPf","level_generator"),Object.defineProperty(n,"__esModule",{value:!0}),n.levelGen=void 0;var i=e("../system/all_modules"),o=i._,r=(i.$,[{gridWidth:5,gridHeight:2,correctWordList:"TRAIN,BIKE@",letterString:"TAEKIBRIN@",hint:"2 vehicle names"},{gridWidth:5,gridHeight:3,correctWordList:"BISON,CAMEL,DUCK@",letterString:"BISONCUAELDM@CK",hint:"3 animal names"},{gridWidth:5,gridHeight:3,correctWordList:"PEONY,PANSY,ROSE@",letterString:"PEOYSP@NNYRAOSE",hint:"3 flower names"}]);n.levelGen={gridNode:null,start:function(e){this.gridNode=cc.find("Canvas/level_generator/grid"),this.gridNode.parent.active=!0,this.bindButtons(),e&&this.initSampleLevel(e),this.onMapSizeInputChanged(),this.formToGrid()},initSampleLevel:function(e){var t=r[e];this.getInputLabelComp("input_column").string=t.gridWidth+"",this.getInputLabelComp("input_row").string=t.gridHeight+"",this.getInputLabelComp("input_correct_words").string=t.correctWordList,this.getInputLabelComp("input_hint").string=t.hint,this.onMapSizeInputChanged()},getInputLabelComp:function(e){var t=cc.find("Canvas/level_generator/form");return cc.find(e,t).getComponent(cc.EditBox)},getInputValue:function(e){var t=cc.find("Canvas/level_generator/form");return cc.find(e,t).getComponent(cc.EditBox).string.trim()},formToGrid:function(){var e=parseInt(this.getInputValue("input_column"))||3,t=parseInt(this.getInputValue("input_row"))||3,n=this.getInputValue("input_correct_words").replace(/[^A-Za-z0-9@]/g,"").match(new RegExp(".{1,"+e+"}","g"));o.log("this.getInputValue('input_correct_words')="+this.getInputValue("input_correct_words")+" // correctWordArr="+n);for(var r=100;r--&&n.length<t;)n.push("");n[n.length-1]+="@";var a=n.join("").toUpperCase(),c={gridWidth:e,gridHeight:t,correctWordArr:n,letterString:a,hint:""};if(a.length!==e*t)return cc.find("Canvas/level_generator/form/label_error").active=!0;i.mapVisual.renderLevel(c,this.gridNode),i.gameMechanic.startGame(c),this.gridNode.children.map(function(e){return i.gameMechanic.checkAndColorCellNode(e)})},shuffleGrid:function(){for(var e,t=i.gameMechanic.currentLevelInfo,n=t.correctWordArr.slice(0).reverse().map(function(e){return e.split("")}),r=cc.v2(t.gridWidth-1,0),a=[cc.v2(1,0),cc.v2(-1,0),cc.v2(0,1),cc.v2(0,-1)],c=0;c<30;c++){var l=a.map(function(e){return e.add(r)}).filter(function(e){return e.x>=0&&e.x<t.gridWidth&&e.y>=0&&e.y<t.gridHeight}),s=o.randomArrItem(l);e=[n[r.y][r.x],n[s.y][s.x]],n[s.y][s.x]=e[0],n[r.y][r.x]=e[1],r.set(s)}t.letterString=n.reverse().map(function(e){return e.join("")}).join("").toUpperCase(),i.mapVisual.renderLevel(t,this.gridNode),i.gameMechanic.startGame(t),this.gridNode.children.map(function(e){return i.gameMechanic.checkAndColorCellNode(e)})},getLink:function(){var e=i.gameMechanic.currentLevelInfo;e.hint=this.getInputValue("input_hint"),e.correctWordList=e.correctWordArr.join(","),e.letterString=e.letterString,window.parent.playTest(JSON.stringify(e))},bindButtons:function(){var e=this;i.utilsUI.makeButton(cc.find("Canvas/level_generator/btn_suffle"),function(){return e.shuffleGrid()}),i.utilsUI.makeButton(cc.find("Canvas/level_generator/btn_get_link"),function(){return e.getLink()}),i.utilsUI.makeButton(cc.find("Canvas/level_generator/popup_link/bg"),function(){cc.find("Canvas/level_generator/popup_link").active=!1});var t=cc.find("Canvas/level_generator/form");i.utilsUI.makeButton(cc.find("btn_test_input",t),function(){return e.formToGrid()})},setUpInputMapSize:function(){var e=cc.find("Canvas/level_generator/form"),t=cc.find("input_column",e),n=cc.find("input_row",e),i=parseInt(this.getInputValue("input_column"))||0,o=parseInt(this.getInputValue("input_row"))||0;i<2&&(t.getComponent(cc.EditBox).string="2"),o<2&&(n.getComponent(cc.EditBox).string="2"),this.onMapSizeInputChanged()},onMapSizeInputChanged:function(){var e=cc.find("Canvas/level_generator/form/input_letters_grid");e.removeAllChildren();for(var t=cc.find("Canvas/level_generator/form/sample_input_letter"),n=this.getInputValue("input_correct_words").replace(/[^a-zA-Z0-9]/g,"").split(""),i=parseInt(this.getInputValue("input_column")),r=parseInt(this.getInputValue("input_row")),a=(e.width-6)/i-3,c=(e.height-6)/r-3,l=0;l<r;l++)for(var s=0;s<i;s++)if(l!=r-1||s!=i-1){var u=o.copyNode(t,e);u.getComponent(cc.EditBox).string=n.shift()||"",u.getComponent(cc.EditBox).tabIndex=10+l*i+s,u.width=a,u.height=c,u.x=3+(a+3)*s,u.y=-3-(c+3)*l}this.setCurrentCorrectWords(),cc.find("Canvas/level_generator/form/label_error").active=!1},setCurrentCorrectWords:function(){var e=this.getInputLabelComp("input_correct_words"),t=cc.find("Canvas/level_generator/form/input_letters_grid");e.string=t.children.map(function(e){return e.getComponent(cc.EditBox).string}).join(""),cc.find("Canvas/level_generator/form/label_error").active=!1}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],level_manager:[function(e,t,n){"use strict";cc._RF.push(t,"8c9c6AwiAxCgpPAardwEShV","level_manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.levelManager=void 0;var i=e("../system/all_modules"),o=i._;i.$,n.levelManager={currentLevel:1,renderHomeLevelSelector:function(){var e=i.gameFlow.currentLevelIndex,t=cc.find("Canvas/layer_home/level_grid/level_grid"),n=cc.find("Canvas/sample_nodes/level_select_button");t.removeAllChildren();for(var r=this.levelArr.length,a=function(r){var a=o.copyNode(n,t);i.utilsUI.fillLabel(cc.find("lv",a),""+r),i.utilsUI.fillLabel(cc.find("lv_done",a),""+r);var c=r>e,l=!(c||r==e);cc.find("lv_done",a).active=l,cc.find("icon_checked",a).active=l,cc.find("bg_current",a).active=!c,c||i.utilsUI.makeButton(a,function(){i.coreUI.hideLayout("layer_home"),i.gameFlow.startGame(r)})},c=1;c<=r;c++)a(c)},levelArr:[{gridWidth:3,gridHeight:3,correctWordList:"ABC,DEF,GH@",letterString:"AB@DFCGEH",hint:"First 8 letters of the alphabet"},{gridWidth:3,gridHeight:3,correctWordList:"LMN,OPQ,RS@",letterString:"LPMONQRS@",hint:"8 letters at middle of the alphabet"},{gridWidth:3,gridHeight:3,correctWordList:"STU,VWX,YZ@",letterString:"STWV@UYXZ",hint:"Last 8 letters of the alphabet"},{gridWidth:4,gridHeight:2,correctWordList:"LAMB,COW@",letterString:"LA@MCOWB",hint:"Names of 2 animals"},{gridWidth:4,gridHeight:2,correctWordList:"BIKE,CAR@",letterString:"BI@ECAKR",hint:"Names of 2 vehicles"},{gridWidth:4,gridHeight:2,correctWordList:"JACK,JOE@",letterString:"JJKEA@OC",hint:"2 male names"},{gridWidth:4,gridHeight:3,correctWordList:"ROSE,TINA,MIA@",letterString:"RIOETSNAMIA@",hint:"3 female names"},{gridWidth:4,gridHeight:3,correctWordList:"BIKE,BOAT,CAR@",letterString:"BBIK@OAECART",hint:"Names of 3 vehicles"},{gridWidth:4,gridHeight:3,correctWordList:"RAIN,COLD,HOT@",letterString:"RAL@CONIHOTD",hint:"Names of 3 wather states"},{gridWidth:4,gridHeight:4,correctWordList:"BEAR,DUCK,LION,CAT@",letterString:"BEARDCOKLUANCIT@",hint:"Names of 4 animals"},{gridWidth:4,gridHeight:4,correctWordList:"LILY,ANNA,ADEL,AMY@",letterString:"LILYA@NAANELADMY",hint:"4 female names"},{gridWidth:4,gridHeight:4,correctWordList:"CRAB,DUCK,FISH,COW@",letterString:"CRABDCSKFUOHCIW@",hint:"Names of 4 animals"},{gridWidth:5,gridHeight:2,correctWordList:"APPLE,LIME@",letterString:"A@MPELPILE",hint:"2 fruit names"},{gridWidth:5,gridHeight:2,correctWordList:"GRAPE,KIWI@",letterString:"GAPEI@KRIW",hint:"2 fruit names"},{gridWidth:5,gridHeight:2,correctWordList:"TRAIN,BIKE@",letterString:"TAEKIBRIN@",hint:"2 vehicle names"},{gridWidth:5,gridHeight:3,correctWordList:"BISON,CAMEL,DUCK@",letterString:"BISONCUAELDM@CK",hint:"3 animal names"},{gridWidth:5,gridHeight:3,correctWordList:"PEONY,PANSY,ROSE@",letterString:"PEOYSP@NNYRAOSE",hint:"3 flower names"},{gridWidth:5,gridHeight:3,correctWordList:"EAGLE,SHEEP,WOLF@",letterString:"EALFES@OGEWEHLP",hint:"3 animal names"},{gridWidth:5,gridHeight:4,correctWordList:"LUPIN,DAISY,LOTUS,LILY@",letterString:"LPAINLDUISLOTUYILYS@",hint:"4 flower names"},{gridWidth:5,gridHeight:4,correctWordList:"CAIRO,PARIS,MIAMI,OSLO@",letterString:"C@IROPAIASMALRIOISMO",hint:"4 city names"},{gridWidth:5,gridHeight:4,correctWordList:"GREEN,WHITE,BLACK,BLUE@",letterString:"WGEEN@RHITBLAEEBLUKC",hint:"4 color names"},{gridWidth:5,gridHeight:5,correctWordList:"PARIS,TOKYO,HANOI,PERTH,ROME@",letterString:"PAIS@TARKOHROYIPNEOHROMTE",hint:"5 city names"},{gridWidth:5,gridHeight:5,correctWordList:"CHINA,SPAIN,ITALY,JAPAN,PERU@",letterString:"CHAINSPAIAITRLNJEANYPA@PU",hint:"5 country names"},{gridWidth:5,gridHeight:5,correctWordList:"INDIA,CHILE,EGYPT,NEPAL,CUBA@",letterString:"INDIAECPIE@HGLYNEPLTCUBAA",hint:"5 country names"},{gridWidth:5,gridHeight:5,correctWordList:"JAMES,LOGAN,LUCAS,JACOB,ADAM@",letterString:"JAMESLLGAN@AUOAOJACSACDMB",hint:"5 male names"}]},cc._RF.pop()},{"../system/all_modules":"all_modules"}],login:[function(e,t,n){"use strict";cc._RF.push(t,"1b6f6IJxgRFgYA47w2G9rLN","login"),Object.defineProperty(n,"__esModule",{value:!0}),n.login=void 0;var i=e("../system/all_modules"),o=i._,r=(i.$,["LoginTime","isOldUser_SlideWordle","isTutDone_SlideWordle","currentLevel"]),a=[];n.login={loginData:null,isInitLoginCalled:!1,init:function(){o.waitToRun(function(){i.data.loadEntryPointData(),i.login.getFBData()},"isUserReady",i.data)},addLoginDataField:function(e){r.includes(e)||r.push(e)},addCallback:function(e){i.login.loginData?e(i.login.loginData):a.push(e)},getFBData:function(){i.data.loadData(r,function(e){if(e.isNewUser=!e.isOldUser_SlideWordle,e.isNewUser)return i.user.initNewUser(e),i.login.initLogin(e),cc.log("saving isOldUser_SlideWordle"),void i.data.saveData({isOldUser_SlideWordle:!0});i.login.initLogin(e)})},initLogin:function(e){i.login.isInitLoginCalled||(i.login.isInitLoginCalled=!0,i.login.loginData=e,i.user.lastLoginTime=e.LoginTime||o.getMsPassedUTC(),a.map(function(t){t(e)}))}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],map_visual:[function(e,t,n){"use strict";cc._RF.push(t,"8e0baH2ZLtGQb52+gG4oZRe","map_visual"),Object.defineProperty(n,"__esModule",{value:!0}),n.mapVisual=void 0;var i=e("../system/all_modules"),o=i._;i.$,n.mapVisual={elemContainerNode:null,cellSize:100,containerWidth:660,containerHeight:660,griCelldHeight:0,init:function(){this.elemContainerNode=cc.find("Canvas/play_area/grid"),this.containerWidth=this.elemContainerNode.width},clearMap:function(e){(e||this.elemContainerNode).removeAllChildren(!0)},renderLevel:function(e,t){this.renderGrid(e,t);var n=(t||this.elemContainerNode).children,o=e.letterString,r=(e.correctWordArr,o.split(""));n.map(function(e){t||i.control.bindCellTap(e);var n=r.shift()||"";i.utilsUI.fillLabel(cc.find("label",e),n),"@"==n&&(cc.find("label",e).active=!1),e.letter=n});var a=e.correctWordArr[e.correctWordArr.length-1].split("").pop(),c=i.gameMechanic.emptyCellNode=n.find(function(e){return e.letter==a});cc.find("bg",c).color=cc.Color.WHITE,c.zIndex=-1,c.isEmpty=!0,i.utilsUI.fillLabel(cc.find("Canvas/play_area/hint/label"),e.hint),i.utilsUI.fillLabel(cc.find("Canvas/play_area/top_bar/top_level_bar/label_level"),"Level "+i.gameFlow.currentLevelIndex)},renderGrid:function(e,t){this.clearMap(t);var n=e.gridWidth,i=e.gridHeight;this.griCelldHeight=i;var r=cc.find("Canvas/sample_nodes/tile");this.cellSize=this.containerWidth/n,this.containerHeight=this.elemContainerNode.height=this.cellSize*i;for(var a=this.cellSize/r.width,c=i-1;c>-1;c--)for(var l=0;l<n;l++){var s=o.copyNode(r,t||this.elemContainerNode);s.cellPos=cc.v2(l,c),s.setPosition(this.getCellPos(l,c)),s.scale=a}},getCellPos:function(e,t){return cc.v2(e,t).mul(this.cellSize).add(cc.v2(this.cellSize/2-this.containerWidth/2,this.cellSize/2-this.containerHeight/2))}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],map:[function(e,t,n){"use strict";cc._RF.push(t,"623bcZRZXVHA7KsuHJNweub","map"),Object.defineProperty(n,"__esModule",{value:!0}),n.map=void 0;var i=e("../system/all_modules");i._,i.$,n.map={},cc._RF.pop()},{"../system/all_modules":"all_modules"}],project_init_comp:[function(e,t,n){"use strict";cc._RF.push(t,"6a573g+HCdKnYr0iab16Em0","project_init_comp");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../system/all_modules"),c=(a._,a.$,cc._decorator),l=c.ccclass,s=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){window._G=a},t.prototype.onLoad=function(){for(var e in cc.game.on(cc.game.EVENT_SHOW,function(){return a.appEvents.onAppShow()}),cc.game.on(cc.game.EVENT_HIDE,function(){return a.appEvents.onAppHide()}),a)a[e].init&&a[e].init()},r([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../system/all_modules":"all_modules"}],settings:[function(e,t,n){"use strict";cc._RF.push(t,"47b954QQ/RNPrn+v8nMvQ+H","settings"),Object.defineProperty(n,"__esModule",{value:!0}),n.settings=void 0;var i=e("../system/all_modules");i._,i.$,n.settings={node:null,sound:!0,music:!0,isInitialized:!1,init:function(){},bindSwitcherButtonHandlers:function(){var e=this;[cc.find("switcher_sound",this.entryContainerNode),cc.find("switcher_music",this.entryContainerNode)].map(function(t){i.utilsUI.makeButton(t,function(){var n=t.name.replace("switcher_","");e.setEntryValue(n,!e[n])})})},setEntryValue:function(e,t){this[e]=t,this.setSwitcherOnOff(e,t),"music"==e&&(t?i.audio.playBgMusic():i.audio.stopBgMusic())},setSwitcherOnOff:function(e,t){var n=cc.find("switcher_"+e,this.entryContainerNode);n&&i.utilsUI.showOnlyChildNodeWithNameAs(n,t?"on":"off")}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],tutorial:[function(e,t,n){"use strict";cc._RF.push(t,"9fa024zMbVB+Lq+UeHKKCS8","tutorial"),Object.defineProperty(n,"__esModule",{value:!0}),n.tutorial=void 0;var i=e("../system/all_modules");i._,i.$,n.tutorial={isTutDone_SlideWordle:!1,init:function(){var e=this;i.login.addCallback(function(t){e.isTutDone_SlideWordle=!t.isNewUser})},checkShowTut:function(){this.isTutDone_SlideWordle||(this.isTutDone_SlideWordle=!0,i.coreUI.showLayout("layer_tut"))}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],user:[function(e,t,n){"use strict";cc._RF.push(t,"6ae27twXFJFV6aUXOX8u7lB","user"),Object.defineProperty(n,"__esModule",{value:!0}),n.user=void 0;var i=e("../system/all_modules");i._,i.$,n.user={lastLoginTime:0,initNewUser:function(){}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],utils_anim_fx:[function(e,t,n){"use strict";cc._RF.push(t,"e273ec92dRLKKGQF99UI9/D","utils_anim_fx");var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,c=r.length;a<c;a++,o++)i[o]=r[a];return i};Object.defineProperty(n,"__esModule",{value:!0}),n.utilsAnimFx=void 0;var o=e("../../system/all_modules"),r=o._;n.utilsAnimFx={fxNodePool:{},init:function(){},replayParticle:function(e){e&&e.getComponent(cc.ParticleSystem)&&(e.active=!0,e.getComponent(cc.ParticleSystem).resetSystem())},playNodeAnim:function(e,t,n,i,o){void 0===i&&(i=!1);var r=e.getComponent(cc.Animation);if(e.activeInHierarchy&&r&&(t=t||(r.defaultClip?r.defaultClip.name:""))){var a=r[i?"playAdditive":"play"](t);if(a)return a.repeatCount=(-1==n?1/0:n)||1,o&&r.on("finished",function(){r.off("finished"),o()}),a}},playNodeAnimAsSoonAsNodeActive:function(e,t,n,i){var o=this;void 0===n&&(n=1),void 0===i&&(i=!0);var a="waitInterval2PlayAnimWhenActive";e[a]=r.waitToRun(function(){e[a]&&clearInterval(e[a]),o.playNodeAnim(e,t,n,i)},"activeInHierarchy",e)},playNodeAnimArr:function(e,t,n,o){var r=this;if(void 0===n&&(n=!1),e.activeInHierarchy){var a=e.getComponent(cc.Animation);if(e.activeInHierarchy&&a){var c=i(t);a.on("finished",function(){c.length?r.playNodeAnim(e,c.shift(),1,n):(a.off("finished"),o&&o())}),this.playNodeAnim(e,c.shift(),1,n)}}},stopAllNodeAnims:function(e){var t=e.getComponent(cc.Animation);t&&(t.stop(),t.off("finished"))},stopAnimAtFrame0:function(e){var t=this,n=e.getComponent(cc.Animation);n.play("ufo_ring_fx"),r.setTimeout(function(){n.setCurrentTime(0),t.stopAllNodeAnims(e)})},playIncreasingNumberLabel:function(e,t,n,i,o,a,c){void 0===i&&(i=5),void 0===o&&(o=.5),void 0===a&&(a=0),void 0===c&&(c="xxx");var l=e.getComponent(cc.Label),s=n/i,u=o/i;cc.tween(e).delay(a).repeat(i,cc.tween().call(function(){t+=s;var e=r.formatMoney(r.round(t));l.string=c.replace(/xxx/g,e)}).delay(u)).start()},getNewFxNode:function(e,t){e.nodePoolId||(e.nodePoolId=r.getNewUuid()),this.fxNodePool[e.nodePoolId]||(this.fxNodePool[e.nodePoolId]=[]);var n=this.fxNodePool[e.nodePoolId].pop()||r.copyNode(e);return n.nodePoolId=e.nodePoolId,n.parent=t||o.coreFX.fxContainer,n},saveFxNodeToPool:function(e){e.stopAllActions(),e.active=!1,this.fxNodePool[e.nodePoolId].unshift(e)},particlesFlyFromA2B:function(e,t,n,i,o){for(var a=this,c=i||{numberOfNode:20,delayStartTime:.05,flyDuration:1,randomBezierPointRange:{x:200,y:200}},l=c.numberOfNode,s=c.flyDuration,u=c.delayStartTime,d=c.randomBezierPointRange,f=r.getGlobalPosDiff(t,n),g=function(n){var i=p.getNewFxNode(e,o);i.active=!0,i.opacity=255,r.setGlobalPosToNode(i,t);var c=p.getRandomPointInRage(d),l=p.getRandomPointInRage(d);cc.tween(i).delay(n*u).bezierBy(s,c,l,f).call(function(){a.saveFxNodeToPool(i)}).start()},p=this,m=0;m<l;m++)g(m)},getRandomPointInRage:function(e){return cc.v2(r.randomNumber(2*e.x)-e.x,r.randomNumber(2*e.y)-e.y)},nodeFlyFromAtoB:function(e,t,n,i){void 0===n&&(n=.3);var o=r.getGlobalPosDiff(e,t);cc.tween(e).by(n,{position:o}).call(function(){return i&&i()}).start()},captureNodeToTexture:function(e){e.activeInHierarchy||(e.active=!0);var t=new cc.Node;e.addChild(t);var n=t.addComponent(cc.Camera),i=new cc.RenderTexture,o=cc.game._renderContext;i.initWithSize(e.width,e.height,o.STENCIL_INDEX8),n.targetTexture=i,n.zoomRatio=1.3,n.backgroundColor=cc.Color.WHITE,n.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR;var r=i.width,a=i.height,c=document.createElement("canvas");c.width=r,c.height=a;var l=c.getContext("2d");n.render(e);for(var s=i.readPixels(),u=4*r,d=0;d<a;d++){var f=a-1-d,g=new Uint8ClampedArray(s.buffer,f*r*4,u),p=new ImageData(g,r,1);l.putImageData(p,0,d)}var m=c.toDataURL("image/jpeg");return setTimeout(function(){e.active=!1,t.removeFromParent()},1e3),m}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_common:[function(e,t,n){"use strict";cc._RF.push(t,"38328hs45lM85Ud0D0XUutA","utils_common");var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,c=r.length;a<c;a++,o++)i[o]=r[a];return i};Object.defineProperty(n,"__esModule",{value:!0}),n._=n.$=void 0;var r=e("../../system/all_modules"),a=e("./utils_time"),c=e("./utils_coordinate"),l=1e5;n.$=function(e,t){void 0===t&&(t=0),n._.$callCount=(n._.$callCount||0)+1,e.name!=r.types.elem.card&&(t=0);var i=e["props_"+t]||{};return e["props_"+t]=i},n.$.clean=function(e,t){void 0===t&&(t=0),0!=t&&delete e["props_"+t]},n._=i(i({NO_CONSOLE_LOG:!1,isANDROID:cc.sys.os==cc.sys.OS_ANDROID,isIOS:cc.sys.os==cc.sys.OS_IOS,max:Math.max,min:Math.min,round:Math.round,floor:Math.floor,ceil:Math.ceil,sign:Math.sign,abs:Math.abs,pow:Math.pow,random:Math.random,sqrt:Math.sqrt,sin:Math.sin,cos:Math.cos,tan:Math.tan,atan:Math.atan,atan2:Math.atan2,log10:Math.log10,PI:Math.PI,randomArrItem:function(e,t){void 0===t&&(t=!1);var n=Math.floor(Math.random()*e.length);return t?e.splice(n,1)[0]:e[n]},isString:function(e){return"string"==typeof e},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.NO_CONSOLE_LOG)try{console.log.apply(console,e)}catch(n){}},getNewUuid:function(){return l++},removeArrayItem:function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},addUniqueElemToArr:function(e,t){e.includes(t)||e.push(t)},randomNumber:function(e){return n._.floor(n._.random()*e)},shuffleArray:function(e,t){var n=this;void 0===t&&(t=!1);var i=t?o(e):e;return i.sort(function(){return n.random()>.5?1:-1}),i},directionVec2:function(){return{top:cc.v2(0,1),bottom:cc.v2(0,-1),left:cc.v2(-1,0),right:cc.v2(1,0)}},reservedDir:function(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]},getGlobalPos:function(e){return e.convertToWorldSpaceAR(cc.Vec2.ZERO)},getGlobalPosDiff:function(e,t){return this.getGlobalPos(t).sub(this.getGlobalPos(e))},setGlobalPosToNode:function(e,t){var n=this.getGlobalPos(t),i=e.parent.convertToNodeSpaceAR(n);e.setPosition(i)},setGlobalPos:function(e,t){var n=e.parent.convertToNodeSpaceAR(t);e.setPosition(n)},moveToNewParentKeepPosition:function(e,t){var n=t.convertToNodeSpaceAR(this.getGlobalPos(e));e.parent=t,e.setPosition(n)},isGlobalOverlapping:function(e,t){return cc.Intersection.rectRect(e.getBoundingBoxToWorld(),t.getBoundingBoxToWorld())},getBezierPointFunc:function(e){return function(t){for(var n=e;n.length>1;n=r)for(var i,o=0,r=[];o<n.length-1;o++)for(r[o]=[],i=0;i<n[o].length;i++)r[o][i]=n[o][i]*(1-t)+n[o+1][i]*t;return n[0]}},copyNode:function(e,t){var n=cc.instantiate(e);return t&&(n.parent=t),n},setOrgProp:function(e,t){var n=this,i=["x","y","width","height","opacity"];if(t&&this.addUniqueElemToArr(i,t),i.map(function(t){var i="org"+n.capitalize(t);e[i]=e.hasOwnProperty(i)?e[i]:e[t]}),t)return e["org"+this.capitalize(t)]},getNodePath:function(e){for(var t=[e.name],n=e.parent,i=0;n&&i++<50&&n.parent;)t.push(n.name),n=n.parent;return t.reverse().join("/")},nodeConnect2Points:function(e,t,i){var o=i.sub(t);e.height=o.mag(),e.setPosition(t.add(o.mul(.5))),e.angle=90+n._.radianToDegrees(n._.atan2(o.y,o.x))},getNodeDistance:function(e,t){return this.getGlobalPosDiff(e,t).mag()},radianToDegrees:function(e){return 180*e/Math.PI},degreesToRadian:function(e){return e*Math.PI/180},vec2ToAngle:function(e){return n._.radianToDegrees(n._.atan2(e.y,e.x))},formatTime:function(e){var t=n._.floor(e/3600),i=n._.floor(e%3600/60),o=e%3600%60;return t<10&&(t="0"+t),i<10&&(i="0"+i),o<10&&(o="0"+o),t+":"+i+":"+o},formatMoney:function(e){var t=n._.floor(Math.log10(e))+1;if(t<=6)return e.toLocaleString();var i,o=n._.floor((t-1)/3);return i=o-2<=3?["K","M","B","T"][o-2]:String.fromCharCode((o-6)/26+"a".charCodeAt(0))+String.fromCharCode((o-6)%26+"a".charCodeAt(0)),n._.round(e/n._.pow(10,3*(o-1))).toLocaleString()+i},capitalize:function(e){var t=o(e);return t[0]=t[0].toUpperCase(),t.join("")},getInRange:function(e,t,i){return n._.min(n._.max(e,t),i)}},a.default),c.default),cc._RF.pop()},{"../../system/all_modules":"all_modules","./utils_coordinate":"utils_coordinate","./utils_time":"utils_time"}],utils_coordinate:[function(e,t,n){"use strict";cc._RF.push(t,"5df86zHog5HcqIKMKzmLV+k","utils_coordinate"),Object.defineProperty(n,"__esModule",{value:!0}),e("../../system/all_modules").$;var i=e("./utils_common");n.default={isVecHorz:function(e){return i._.abs(e.x)>i._.abs(e.y)},getPointRanges:function(e){var t=99999999,n=99999999,o=-99999999,r=-99999999;return e.map(function(e){t=i._.min(t,e.x),n=i._.min(n,e.y),o=i._.max(o,e.x),r=i._.max(r,e.y)}),{minX:t,minY:n,maxX:o,maxY:r}},distance2polygon:function(e,t){function n(e,t,n){var i,o,r=e.x,a=e.y,c=t.x,l=t.y,s=n.x,u=n.y,d=s-c,f=u-l,g=d*d+f*f,p=-1;0!=g&&(p=((r-c)*d+(a-l)*f)/g),p<0?(i=c,o=l):p>1?(i=s,o=u):(i=c+p*d,o=l+p*f);var m=r-i,h=a-o;return Math.sqrt(m*m+h*h)}return t.map(function(i,o){var r=t[o+1]||t[0];return n(e,i,r)}).sort(function(e,t){return e>t?1:-1})[0]}},cc._RF.pop()},{"../../system/all_modules":"all_modules","./utils_common":"utils_common"}],utils_data:[function(e,t,n){"use strict";cc._RF.push(t,"55e17+IhfZAOKUumwaKfgIH","utils_data"),Object.defineProperty(n,"__esModule",{value:!0}),n.utilsData=void 0;var i=e("../../system/all_modules");i._,i.$,n.utilsData={save:function(e,t){for(var n in e)localStorage.setItem(n,JSON.stringify(e[n]));setTimeout(function(){t&&t()},300)},load:function(e,t){var n={};e.map(function(e){if(null!==localStorage.getItem(e))try{n[e]=JSON.parse(localStorage.getItem(e))}catch(t){console.warn(" utilsData.load() >> Error  data key = "+e+" ",t)}}),t&&setTimeout(function(){return t(n)},100)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_time:[function(e,t,n){"use strict";cc._RF.push(t,"f9b241Zt2BFFa5XMWEu3uey","utils_time"),Object.defineProperty(n,"__esModule",{value:!0}),e("../../system/all_modules").$;var i=1e5;n.default={getMsPassedUTC:function(){return(new Date).getTime()},getMsPassedPT:function(){var e=this.getPacificTimeOffset();return this.getMsPassedUTC()+36e5*e},getTimePT:function(e){void 0===e&&(e=new Date);var t=this.getPacificTimeOffset(e),n=e.getHours()+e.getTimezoneOffset()/60;return e.setHours(n+t),e},isSameDate:function(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()},getTotalMsToMidnightPT:function(){return 864e5-this.getMsPassedPT()%864e5},getDSTStartEndDate:function(e){var t=(e||new Date).getFullYear(),n=new Date(t,2,1),i=(7-n.getDay())%7,o=n.getDate()+i+7,r=new Date(t,2,o),a=new Date(t,10,1),c=(7-a.getDay())%7,l=a.getDate()+c;return[r,new Date(t,10,l)]},getPacificTimeOffset:function(e){var t=e||new Date,n=this.getDSTStartEndDate(),i=n[0],o=n[1];return t>i&&t<o?-7:-8},setTimeout:function(e,t){void 0===t&&(t=0);var n={_id:i++,__instanceId:i,callback:null};return n.callback=function(){e(n)},cc.director.getScheduler().schedule(n.callback,n,t/1e3,0,0,!1),n},clearTimeout:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},setInterval:function(e,t){void 0===t&&(t=0);var n={_id:i++,__instanceId:i,callback:null};return n.callback=function(){e(n)},cc.director.getScheduler().schedule(n.callback,n,t/1e3,cc.macro.REPEAT_FOREVER,0,!1),n},clearInterval:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},addPseudoUpdateFunc:function(e){var t=this,n=this.getMsPassedUTC();return this.setInterval(function(){var i=t.getMsPassedUTC(),o=i-n;n=i,e(o)},.01)},secondsToTimeCountdown:function(e){if(void 0===e&&(e=0),e<=0)return"0:00";var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),i=Math.floor(e%3600/60),o=e%60;if(t>2)return t+" days";if(1==t)return"1 day";var r="";return n>0&&(r=n+":"),(r+=i+":")+(o>=10?o:"0"+o)},waitToRun:function(e,t,n,i,o,r){void 0===n&&(n=window),void 0===i&&(i=.1);var a=!1,c=t.startsWith("!"),l=t.endsWith("()");t=t.replace("!","").replace("()","");var s,u=l?function(){return n[t]()}:null,d=function(){if(c){if(l){if(u())return}else if(n[t])return}else if(l){if(!u())return}else if(!n[t])return;return clearInterval(s),a=!0,e(n[t]),!0};return d()?s:(s=setInterval(d,1e3*i),o&&this.setTimeout(function(){clearInterval(s),r&&!a&&r()},1e3*o),s)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_ui:[function(e,t,n){"use strict";cc._RF.push(t,"fac22cBTNdDypWs3FUVCI/a","utils_ui"),Object.defineProperty(n,"__esModule",{value:!0}),n.utilsUI=void 0;var i=e("../../system/all_modules"),o=i._,r=(i.$,{touchstart:[],touchmove:[],touchend:[]});n.utilsUI={init:function(){},fillLabel:function(e,t){(e.getComponent(cc.Label)||e.getComponent(cc.RichText)).string=t},fillChildLabelByPath:function(e,t,n){var i=cc.find(t,e);i&&this.fillLabel(i,n)},showOnlyChildNodeWithNameAs:function(e,t,n){var i;return void 0===n&&(n=!1),e.children.map(function(e){var o=e.name==t;o&&(i=e),e.active=o,n&&(e.opacity=o?255:0)}),i},setLabelCountDownTimer:function(e,t,n){"string"==typeof e&&(e=cc.find(e)),e.countDownTimerVar&&clearInterval(e.countDownTimerVar);var r=function(){if(!e.parent)return clearInterval(e.countDownTimerVar);var r=t-o.getMsPassedUTC(),a=o.secondsToTimeCountdown(o.floor(r/1e3));i.utilsUI.fillLabel(e,a),r<=0&&(clearInterval(e.countDownTimerVar),n&&n())};e.countDownTimerVar=setInterval(r,500),r()},setNodeSprite:function(e,t){e&&e.getComponent(cc.Sprite)&&(e.getComponent(cc.Sprite).spriteFrame=t)},setNodeSpriteFromUrl:function(e,t,n){var i=this;e&&e.getComponent(cc.Sprite)&&cc.assetManager.loadRemote(t,function(t,o){return t||i.setNodeSprite(e,new cc.SpriteFrame(o)),n&&n(o)})},setNodeSpriteFillRange:function(e,t){e&&e.getComponent(cc.Sprite)&&(e.getComponent(cc.Sprite).fillRange=t)},makeButton:function(e,t,n,a){var c=o.isString(e)?cc.find(e):e;o.setTimeout(function(){c||o.log("undefined node path = "+e),c.getComponent("free_button_comp")||c.addComponent("free_button_comp");var l=c.addComponent(cc.Button);l.transition=n?cc.Button.Transition.SCALE:null,l.zoomScale=e.buttonCompZoomScale||1.2;var s=new cc.Component.EventHandler;s.target=c,s.component="free_button_comp",s.handler="freeHandler",l.clickEvents.push(s),c.freeButtonHandlerFunc=function(){t(),a||i.audio.playSound("button_click"),r.touchstart.map(function(e){return e()})}})},makeBubbleButton:function(e,t){return this.makeButton(e,t,!0)},singleTouchSet:function(e,t,n,i){var o=function(e,t,n){e(t.touch.getLocation(),t,n)};e.on("touchstart",function(n){e._customTouchId||(e._customTouchId=n.touch._id+1,t&&o(t,n,e._customTouchId))}),n&&e.on("touchmove",function(t){var i=t.touch._id+1;i==e._customTouchId&&n&&o(n,t,i)});var r=function(t){var n=t.touch._id+1;n==e._customTouchId&&(e._customTouchId=null,i&&o(i,t,n))};e.on("touchend",r),e.on("touchcancel",r)},bindCanvasTouchHandler:function(){var e=cc.find("Canvas");this.singleTouchSet(e,function(e){r.touchstart.map(function(t){return t(e)})},function(e){r.touchmove.map(function(t){return t(e)})},function(e){r.touchend.map(function(t){return t(e)})})},addCanvasTouchHandler:function(e,t){var n=r[e];n&&n.push(t)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}]},{},["control","game_flow","game_mechanic","level_generator","level_manager","map","map_visual","settings","tutorial","input-comp","data","login","user","audio","free_button_comp","utils_anim_fx","utils_common","utils_coordinate","utils_data","utils_time","utils_ui","all_modules","app_events","config_game","project_init_comp","bind_button_handlers","core_fx","core_ui"]);