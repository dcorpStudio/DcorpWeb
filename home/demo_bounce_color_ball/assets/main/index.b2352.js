window.__require=function t(e,n,o){function i(a,l){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var s="function"==typeof __require&&__require;if(!l&&s)return s(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({all_modules:[function(t,e,n){"use strict";cc._RF.push(e,"729f19Hu2ZJ9ZSyZWzvBjRv","all_modules");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(t("../services/utils/utils_common"),n),i(t("../services/utils/utils_data"),n),i(t("../services/utils/utils_ui"),n),i(t("../services/utils/utils_anim_fx"),n),i(t("../services/audio/audio"),n),i(t("../core-game/graphic_lib"),n),i(t("../core-game/core_game"),n),i(t("../core-game/recorder"),n),i(t("../core-game/slow_render"),n),cc._RF.pop()},{"../core-game/core_game":"core_game","../core-game/graphic_lib":"graphic_lib","../core-game/recorder":"recorder","../core-game/slow_render":"slow_render","../services/audio/audio":"audio","../services/utils/utils_anim_fx":"utils_anim_fx","../services/utils/utils_common":"utils_common","../services/utils/utils_data":"utils_data","../services/utils/utils_ui":"utils_ui"}],anim_event_comp:[function(t,e,n){"use strict";cc._RF.push(e,"1bc47EZZkFF8rbV7uAlH4ia","anim_event_comp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../system/all_modules"),l=(a._,cc._decorator),c=l.ccclass,s=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playFXLevelUp=function(){a.planeUnlock.playFXLevelUp()},e.prototype.playFXCelebrate=function(){a.planeUnlock.playFXCelebrate()},e.prototype.playFxUFOSucksCoinsUp=function(){a.ufoView.playFxCoinCollect()},r([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../system/all_modules":"all_modules"}],app_events:[function(t,e,n){"use strict";cc._RF.push(e,"60644pxp1FMi6RfOJSUGIf5","app_events"),Object.defineProperty(n,"__esModule",{value:!0}),n.appEvents=void 0,t("../system/all_modules")._,n.appEvents={isAppHidden:!1,onAppShowCallbackArr:[],onAppHideCallbackArr:[],onAppShow:function(){this.isAppHidden=!1,this.onAppShowCallbackArr.map(function(t){return t()})},addAppShowCallback:function(t){this.onAppShowCallbackArr.push(t)},onAppHide:function(){this.isAppHidden=!0,this.onAppHideCallbackArr.map(function(t){return t()})},addAppHideCallback:function(t){this.onAppHideCallbackArr.push(t)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],audio:[function(t,e,n){"use strict";cc._RF.push(e,"272e5CwR4dAUYlvs84u9gnx","audio"),Object.defineProperty(n,"__esModule",{value:!0}),n.audio=void 0;var o=t("../../system/all_modules")._;n.audio={audioList:{},playingIdList:{},isSoundOff:!1,isMusicOff:!0,isReady:!1,init:function(){this.loadAudioFiles()},loadAudioFiles:function(){var t=this;cc.resources.loadDir("audios",cc.AudioClip,function(e,n){if(e)return o.log(e);for(var i=0,r=n;i<r.length;i++){var a=r[i];t.audioList[a.name]=a}t.isReady=!0})},playSound:function(t,e){if(void 0===e&&(e=1),!this.isSoundOff&&this.audioList[t])try{this.playingIdList[t]=cc.audioEngine.play(this.audioList[t],!1,e)}catch(n){o.log(n)}},stopSound:function(t){this.playingIdList[t]&&cc.audioEngine.stopEffect(this.playingIdList[t])},playBgMusic:function(t){if(void 0===t&&(t=1),!this.isMusicOff&&!cc.audioEngine.isMusicPlaying())try{this.playingIdList.bg_music=cc.audioEngine.playMusic(this.audioList.bg_music,!0),cc.audioEngine.setMusicVolume(t)}catch(e){o.log("playMusic err ",e)}},stopBgMusic:function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic()},playSoundClickButton:function(){this.isSoundOff||this.playSound("button_click",1)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],"ball-collision-comp":[function(t,e,n){"use strict";cc._RF.push(e,"a3359GqaOFPd6nxtcLB8UbP","ball-collision-comp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../system/all_modules"),l=(a._,0),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.songNoteCount=60,e.songNoteIndex=0,e}return i(e,t),e.prototype.onBeginContact=function(t){var e=performance.now();if(!(e-l<50)){l=e;var n=t.getWorldManifold().points[0];a.coreGame.updateAnim(!0,n,!0),this.songNoteIndex++,this.songNoteIndex>this.songNoteCount&&(this.songNoteIndex=1),a.audio.playSound("note"+this.songNoteIndex)}},r([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../system/all_modules":"all_modules"}],config_anim_fx:[function(t,e,n){"use strict";cc._RF.push(e,"c32cdMd/oBASIHmkQeG3U5M","config_anim_fx"),Object.defineProperty(n,"__esModule",{value:!0}),n.configAnimFx=void 0,t("../../system/all_modules")._,n.configAnimFx={defaultParticleFlyA2BConfigs:{numberOfNode:15,delayStartTime:.02,flyDuration:.6,randomBezierPointRange:{x:300,y:300}},questKeysFlyA2BConfigs:{numberOfNode:8,delayStartTime:.05,flyDuration:.6,randomBezierPointRange:{x:100,y:50}}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],core_game_alternative:[function(t,e,n){"use strict";cc._RF.push(e,"6c5682yCZtLS6iQzHL8IZjH","core_game_alternative"),Object.defineProperty(n,"__esModule",{value:!0}),n.coreGameAlternative=void 0;var o=t("../system/all_modules"),i=o._,r=["#0D0664","#F301F0","#3E0E50","#620B09","#B96426","#CBAD29","#3F8E28"],a=cc.v2(0,-15);i.floor(48),n.coreGameAlternative={physicsManager:null,graphicComp:null,intervalVar:null,mainBall:null,ballRigidBodyComp:null,boundaryContainer:null,maxScale:0,updateCount:0,currentScale:1,currentScaleStep:0,currentColorIndex:4,currentColor:null,nextColor:null,lastBallPos:null,init:function(){var t=this;cc.game.config.frameRate=60,this.physicsManager=cc.director.getPhysicsManager(),this.boundaryContainer=cc.find("Canvas/world/physics-colliders"),this.graphicComp=cc.find("Canvas/world/draw-area").getComponent(cc.Graphics),this.mainBall=cc.find("Canvas/world/physical-ball"),this.ballRigidBodyComp=this.mainBall.getComponent(cc.RigidBody),this.mainBall.active=!1,this.boundaryContainer.children.map(function(t){return t.active=!1}),r.map(function(e,n){return r[n]=t.getLighterColor(e)}),this.bindButtons(),this.startAnim()},startAnim:function(){var t=this;this.physicsManager.enabled=!0,this.physicsManager.gravity=a,this.mainBall.active=!0,this.boundaryContainer.children.map(function(t){return t.active=!0}),this.intervalVar=i.setInterval(function(){return t.updateAnim()}),this.maxScale=.99*this.boundaryContainer.width/this.mainBall.width,this.currentScaleStep=.02/60,this.currentScale=1,this.currentColor=this.getNextColor(),this.nextColor=this.getNextColor(),this.lastBallPos=this.mainBall.position.clone(),i.setTimeout(function(){t.ballRigidBodyComp.applyLinearImpulse(cc.v2(0,-1e3),cc.Vec2.ZERO,!0)}),i.setInterval(function(){t.ballRigidBodyComp.applyAngularImpulse(2e3,!0)},100)},updateAnim:function(t,e){if(this.currentScale>this.maxScale)return this.pauseAnim();o.recorder.saveBallState(this.mainBall.position,this.mainBall.scale),e&&this.mainBall.setPosition(e),t||this.updateBallScale()},updateBallScale:function(){this.mainBall.scale=this.currentScale,this.currentScale+=this.currentScaleStep,this.currentScaleStep+=182e-6/60,this.currentScale>.3*this.maxScale&&(this.currentScaleStep+=182e-6/60*100),this.currentScale>.6*this.maxScale&&(this.currentScaleStep+=91e-5),this.currentScale>.8*this.maxScale&&(this.currentScaleStep+=182e-6/60*1600)},pauseAnim:function(){this.physicsManager.enabled=!1,this.mainBall.active=!1,cc.find("Canvas/world/final-black-ball").active=!0,i.clearInterval(this.intervalVar)},resumeAnim:function(){this.physicsManager.enabled=!0,this.mainBall.active=!0,cc.find("Canvas/world/final-black-ball").active=!1,i.clearInterval(this.intervalVar)},bindButtons:function(){var t=this;o.utilsUI.makeButton("Canvas/btn_start",function(){t.startAnim()}),o.utilsUI.makeButton("Canvas/btn_stop",function(){t.pauseAnim(),cc.find("Canvas/world/final-black-ball").active=!1}),o.utilsUI.makeButton("Canvas/btn_resume",function(){t.resumeAnim()})},drawCircle:function(t,e){var n=t.mag()/(this.mainBall.width*(this.maxScale-this.mainBall.scale)/2);n>1&&t.mulSelf(1/n);var i=this.mainBall.width*this.mainBall.scale/2-4.4;o.graphicLib.drawCircle(this.graphicComp,t.x,t.y,i,6.4,cc.Color.BLACK);var r=this.mainBall.width*this.mainBall.scale/2;o.graphicLib.drawCircle(this.graphicComp,t.x,t.y,r,2,e)},getNextColor:function(){return this.currentColorIndex>=r.length&&(this.currentColorIndex=0),r[this.currentColorIndex++]},getMiddleColor:function(t,e,n){var o=cc.color(t),i=cc.color(e);return cc.color(o.r+(i.r-o.r)*n,o.g+(i.g-o.g)*n,o.b+(i.b-o.b)*n)},getLighterColor:function(t){return this.getMiddleColor(t,cc.Color.WHITE,.2)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],core_game:[function(t,e,n){"use strict";cc._RF.push(e,"d18c9K5CotOQ5HAybABZAy2","core_game"),Object.defineProperty(n,"__esModule",{value:!0}),n.coreGame=void 0;var o=t("../system/all_modules"),i=o._,r=["#293AF7","#FD9A05","#E60DD4","#D50808","#B96426","#CBAD29","#43DD07"],a=cc.v2(0,-15),l=i.floor(16);n.coreGame={physicsManager:null,graphicComp:null,intervalVar:null,timerIntervalVar:null,mainBall:null,renderNode:null,ballRigidBodyComp:null,boundaryContainer:null,boundaryWidth:0,maxScale:0,updateCount:0,currentScale:1,currentScaleStep:0,currentColorIndex:4,currentColor:null,nextColor:null,lastBallPos:null,lastBallPos2:null,getFps:function(){return cc.find("Canvas").currentFps||60},init:function(){var t=this;cc.game.config.frameRate=20,this.physicsManager=cc.director.getPhysicsManager(),this.boundaryContainer=cc.find("Canvas/world/physics-colliders"),this.graphicComp=cc.find("Canvas/world/draw-area").getComponent(cc.Graphics),this.mainBall=cc.find("Canvas/world/physical-ball"),this.ballRigidBodyComp=this.mainBall.getComponent(cc.RigidBody),this.mainBall.active=!1,this.boundaryContainer.children.map(function(t){return t.active=!1}),this.renderNode=cc.find("Canvas/world/draw-area"),this.boundaryWidth=this.boundaryContainer.getBoundingBox().width,this.renderNode.width=this.boundaryWidth,this.renderNode.height=this.boundaryWidth,r.map(function(e,n){return r[n]=t.getLighterColor(e)}),this.bindButtons(),i.waitToRun(function(){t.startAnim()},"isReady",o.audio)},startAnim:function(){var t=this;this.physicsManager.enabled=!0,this.physicsManager.gravity=a,this.mainBall.active=!0,this.boundaryContainer.children.map(function(t){return t.active=!0}),this.intervalVar=i.setInterval(function(){return t.updateAnim()}),this.maxScale=.97*this.boundaryWidth/this.mainBall.width,this.currentScaleStep=5e-4,this.currentScale=1,this.currentColor=this.getNextColor(),this.nextColor=this.getNextColor(),this.lastBallPos=this.mainBall.position.clone(),this.lastBallPos2=this.lastBallPos.clone(),i.setTimeout(function(){t.ballRigidBodyComp.applyLinearImpulse(cc.v2(0,-1e3),cc.Vec2.ZERO,!0)}),i.setInterval(function(){t.ballRigidBodyComp.applyAngularImpulse(2e3,!0)},100),i.setInterval(function(){t.getFps()<30&&t.releaseGraphicCache()},100);var e=performance.now();this.timerIntervalVar=i.setInterval(function(){cc.find("Canvas/label_timer").getComponent(cc.Label).string=i.formatTime(i.floor((performance.now()-e)/1e3))+"\n\nfps="+t.getFps().toFixed(2)+"\ngraphReload count:"+t.graphReloadCount+"\nsongNote:"+t.mainBall.getComponent("ball-collision-comp").songNoteIndex},100)},graphReloadCount:0,releaseGraphicCache:function(){this.graphReloadCount++;var t=cc.find("Canvas/world/draw-area"),e=cc.find("Canvas/RenderCamera").getComponent(cc.Camera),n=o.graphicLib.screenShot(t,e,cc.find("Canvas"));cc.find("Canvas/world/render_stage/render-node").getComponent(cc.Sprite).spriteFrame=n,this.graphicComp.clear()},updateAnim:function(t,e,n){if(this.currentScale>this.maxScale)return this.pauseAnim();this.updateCount++,this.updateCount%l==0&&(this.currentColor=this.nextColor,this.nextColor=this.getNextColor(),this.updateCount=0);var o=this.getMiddleColor(this.currentColor,this.nextColor,this.updateCount/l),i=this.mainBall.position;if(e){var r=this.boundaryContainer.parent.convertToNodeSpaceAR(e).mul(1-this.mainBall.width*this.currentScale/this.boundaryWidth);n?(this.lastBallPos=this.lastBallPos2,i=r):this.lastBallPos=r}var a=i.sub(this.lastBallPos),c=a.normalize(),s=a.mag()/2.8;if(s>1)for(var u=0;u<s;u++)this.lastBallPos.addSelf(c.mul(2.8)),this.drawCircle(this.lastBallPos,o,a);this.drawCircle(i,o,a),this.lastBallPos2=this.lastBallPos.clone(),this.lastBallPos=i.clone(),t||this.updateBallScale()},updateBallScale:function(){this.mainBall.scale=this.currentScale,this.currentScale+=this.currentScaleStep,this.currentScaleStep+=116e-7/20,this.currentScale>.3*this.maxScale&&(this.currentScaleStep+=116e-7/20*100),this.currentScale>.6*this.maxScale&&(this.currentScaleStep+=116e-7/20*100),this.currentScale>.8*this.maxScale&&(this.currentScaleStep+=116e-7/20*100)},pauseAnim:function(){this.physicsManager.enabled=!1,this.mainBall.active=!1,cc.find("Canvas/world/final-black-ball").active=!0,i.clearInterval(this.intervalVar),i.clearInterval(this.timerIntervalVar)},resumeAnim:function(){this.physicsManager.enabled=!0,this.mainBall.active=!0,cc.find("Canvas/world/final-black-ball").active=!1,i.clearInterval(this.intervalVar)},bindButtons:function(){var t=this;o.utilsUI.makeButton("Canvas/btn_start",function(){t.startAnim()}),o.utilsUI.makeButton("Canvas/btn_stop",function(){t.pauseAnim(),cc.find("Canvas/world/final-black-ball").active=!1}),o.utilsUI.makeButton("Canvas/btn_resume",function(){t.resumeAnim()})},drawCircle:function(t,e,n){var r=t.mag()/(this.mainBall.width*(this.maxScale-this.mainBall.scale)/2);r>1&&t.mulSelf(1/r);var a=r>.8||this.ballRigidBodyComp.linearVelocity.mag()<100?"drawCircle":"drawHalfCircle",l=i.atan2(n.y,n.x),c=l-1*i.PI/2,s=l+1*i.PI/2,u=this.mainBall.width*this.mainBall.scale/2-5.6;o.graphicLib[a](this.graphicComp,t.x,t.y,u,8.1,cc.Color.BLACK,c,s);var d=this.mainBall.width*this.mainBall.scale/2;o.graphicLib[a](this.graphicComp,t.x,t.y,d,2.5,e,c,s)},getNextColor:function(){return this.currentColorIndex>=r.length&&(this.currentColorIndex=0),r[this.currentColorIndex++]},getMiddleColor:function(t,e,n){var o=cc.color(t),i=cc.color(e);return cc.color(o.r+(i.r-o.r)*n,o.g+(i.g-o.g)*n,o.b+(i.b-o.b)*n)},getLighterColor:function(t){return this.getMiddleColor(t,cc.Color.WHITE,.2)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],free_button_comp:[function(t,e,n){"use strict";cc._RF.push(e,"64398ru1J5Fi4AdS3n3ocH+","free_button_comp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),t("../../system/all_modules")._;var a=cc._decorator,l=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.freeHandler=function(t){t.target.freeButtonHandlerFunc&&t.target.freeButtonHandlerFunc(t.target)},r([l],e)}(cc.Component));n.default=c,cc._RF.pop()},{"../../system/all_modules":"all_modules"}],graphic_lib:[function(t,e,n){"use strict";cc._RF.push(e,"36d2c9WBElAd7dhY4oxoUwP","graphic_lib"),Object.defineProperty(n,"__esModule",{value:!0}),n.graphicLib=void 0;var o=t("../system/all_modules")._;n.graphicLib={init:function(){},drawCircle:function(t,e,n,o,i,r){t.circle(e,n,o),t.lineWidth=i,t.strokeColor=r||cc.Color.BLACK,t.stroke()},drawHalfCircle:function(t,e,n,o,i,r,a,l){t.arc(e,n,o,a,l),t.lineWidth=i,t.strokeColor=r||cc.Color.BLACK,t.stroke()},pixelArrToSpriteFrame:function(t,e,n){var o=new cc.Texture2D;return o.setFlipY(!0),o.setPremultiplyAlpha(!0),o.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,n),new cc.SpriteFrame(o)},screenShot:function(t,e,n){var i=t.getBoundingBoxToWorld(),r=e.targetTexture;r||(r=new cc.RenderTexture).initWithSize(i.width,i.height),e.orthoSize=i.width/2,e.targetTexture=r,e.render(n);for(var a=r.readPixels(),l=0;l<a.length-4;l+=4)a[l]=a[l]+o.floor(.0412*(255-a[l])),a[l+1]=a[l+1]+o.floor(.0412*(255-a[l+1])),a[l+2]=a[l+2]+o.floor(.0412*(255-a[l+2]));return this.pixelArrToSpriteFrame(a,i.width,i.height)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],project_init_comp:[function(t,e,n){"use strict";cc._RF.push(e,"627802AmqJKc6KbJDmiTk8k","project_init_comp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../system/all_modules"),l=(a._,cc._decorator),c=l.ccclass,s=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){window._G=a},e.prototype.onLoad=function(){for(var t in cc.director.getCollisionManager().enabled=!0,a)a[t].init&&a[t].init()},e.prototype.update=function(t){this.node.currentFps=1/t},r([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../system/all_modules":"all_modules"}],recorder:[function(t,e,n){"use strict";cc._RF.push(e,"5cba4Wss0hJwbUTmU73FhWl","recorder"),Object.defineProperty(n,"__esModule",{value:!0}),n.recorder=void 0;var o=t("../system/all_modules"),i=o._;n.recorder={ballStateArr:[],intervalVar:null,replayBall:null,currentBallStateIndex:0,init:function(){this.replayBall=cc.find("Canvas/world/replay-ball"),this.bindButtons()},saveBallState:function(t,e){this.ballStateArr.push({pos:t,scale:e})},replayBallMovement:function(){var t=this;this.currentBallStateIndex=0,this.replayBall.active=!0,this.intervalVar=i.setInterval(function(){var e=t.ballStateArr[t.currentBallStateIndex];if(!e)return i.clearInterval(t.intervalVar);t.replayBall.setPosition(e.pos),t.replayBall.scale=e.scale,t.currentBallStateIndex++})},bindButtons:function(){var t=this;o.utilsUI.makeButton("Canvas/btn_replay",function(){return t.replayBallMovement()})}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],slow_render:[function(t,e,n){"use strict";cc._RF.push(e,"1d8a4aHq2ZBzYoTNtvKMQyz","slow_render"),Object.defineProperty(n,"__esModule",{value:!0}),n.slowRender=void 0;var o=t("../system/all_modules"),i=o._,r=["#0D0664","#F301F0","#3E0E50","#620B09","#B96426","#CBAD29","#3F8E28"],a=i.floor(48);n.slowRender={graphicComp:null,ballInfo:{width:0,height:0},updateCount:0,currentColorIndex:4,currentColor:null,nextColor:null,lastBallPos:null,init:function(){var t=this;this.graphicComp=cc.find("Canvas/world/draw-area").getComponent(cc.Graphics),this.ballInfo.width=o.recorder.replayBall.width,r.map(function(e,n){return r[n]=t.getLighterColor(e)}),this.bindButtons()},render:function(){var t=this;i.log("slowRender started !!!!!!");var e=o.recorder.ballStateArr;this.lastBallPos=e[0].pos,this.currentColor=this.getNextColor(),this.nextColor=this.getNextColor(),e.map(function(n,r){i.setTimeout(function(){if(t.renderStep(n),r==e.length-1){var i=cc.find("Canvas/world/draw-area"),a=cc.find("Canvas/RenderCamera").getComponent(cc.Camera),l=o.graphicLib.screenShot(i,a);return cc.find("Canvas/world/render_stage/render-node").getComponent(cc.Sprite).spriteFrame=l,void o.coreGameAlternative.graphicComp.clear()}},20*r)})},renderStep:function(t){this.updateCount++,this.updateCount%a==0&&(this.currentColor=this.nextColor,this.nextColor=this.getNextColor(),this.updateCount=0);var e=this.getMiddleColor(this.currentColor,this.nextColor,this.updateCount/a),n=t.pos.sub(this.lastBallPos),o=n.normalize(),i=n.mag()/2.2;if(i>1)for(var r=0;r<i;r++)this.lastBallPos.addSelf(o.mul(2.2)),this.drawCircle(this.lastBallPos,e,t.scale);this.drawCircle(t.pos,e,t.scale),this.lastBallPos=t.pos.clone()},bindButtons:function(){var t=this;o.utilsUI.makeButton("Canvas/btn_slow_render",function(){return t.render()})},drawCircle:function(t,e,n){var i=this.ballInfo.width*n/2-4.4;o.graphicLib.drawCircle(this.graphicComp,t.x,t.y,i,6.4,cc.Color.BLACK);var r=this.ballInfo.width*n/2;o.graphicLib.drawCircle(this.graphicComp,t.x,t.y,r,2,e)},getNextColor:function(){return this.currentColorIndex>=r.length&&(this.currentColorIndex=0),r[this.currentColorIndex++]},getMiddleColor:function(t,e,n){var o=cc.color(t),i=cc.color(e);return cc.color(o.r+(i.r-o.r)*n,o.g+(i.g-o.g)*n,o.b+(i.b-o.b)*n)},getLighterColor:function(t){return this.getMiddleColor(t,cc.Color.WHITE,.2)}},cc._RF.pop()},{"../system/all_modules":"all_modules"}],system_types:[function(t,e,n){"use strict";cc._RF.push(e,"9a378sc4D1PKauhxf7mEMi/","system_types"),Object.defineProperty(n,"__esModule",{value:!0}),n.AchievementEntry=n.achievementTask=n.achievementReward=n.QuestEntry=n.chestReward=n.questReward=n.questTask=n.rewardDaily=void 0;var o=t("./all_modules")._;(function(t){t.Cash="Cash",t.CashTime="CashTime",t.Gem="Gem",t.SpeedUp="SpeedUp",t.Plane="Plane"})(n.rewardDaily||(n.rewardDaily={})),function(t){t.Login="Login",t.MergePlane="MergePlane",t.WatchVideo="WatchVideo",t.InviteFriends="InviteFriends",t.SpeedUp="SpeedUp"}(n.questTask||(n.questTask={})),function(t){t.Cash="Cash",t.Gem="Gem",t.CashTime="CashTime"}(n.questReward||(n.questReward={})),function(t){t.Cash="Cash",t.Gem="Gem",t.Plane="Plane",t.CashTime="CashTime"}(n.chestReward||(n.chestReward={}));n.QuestEntry=function(t){this.uuid=o.getNewUuid(),Object.assign(this,t)},(n.achievementReward||(n.achievementReward={})).Gem="Gem",(n.achievementTask||(n.achievementTask={})).MergePlane="MergePlane";n.AchievementEntry=function(t){this.uuid=o.getNewUuid(),Object.assign(this,t)},cc._RF.pop()},{"./all_modules":"all_modules"}],utils_anim_fx:[function(t,e,n){"use strict";cc._RF.push(e,"25b45wNZcZF7Jc+YiGRe0VU","utils_anim_fx");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.utilsAnimFx=void 0;var i=t("../../system/all_modules"),r=i._;n.utilsAnimFx={fxNodePool:{},init:function(){},replayParticle:function(t){t&&t.getComponent(cc.ParticleSystem)&&(t.active=!0,t.getComponent(cc.ParticleSystem).resetSystem())},playNodeAnim:function(t,e,n,o,i){void 0===o&&(o=!1);var r=t.getComponent(cc.Animation);if(t.activeInHierarchy&&r&&(e=e||(r.defaultClip?r.defaultClip.name:""))){var a=r[o?"playAdditive":"play"](e);if(a)return a.repeatCount=(-1==n?1/0:n)||1,i&&r.on("finished",function(){r.off("finished"),i()}),a}},playNodeAnimAsSoonAsNodeActive:function(t,e,n,o){var i=this;void 0===n&&(n=1),void 0===o&&(o=!0);var a="waitInterval2PlayAnimWhenActive";t[a]=r.waitToRun(function(){t[a]&&clearInterval(t[a]),i.playNodeAnim(t,e,n,o)},"activeInHierarchy",t)},playNodeAnimArr:function(t,e,n,i){var r=this;if(void 0===n&&(n=!1),t.activeInHierarchy){var a=t.getComponent(cc.Animation);if(t.activeInHierarchy&&a){var l=o(e);a.on("finished",function(){l.length?r.playNodeAnim(t,l.shift(),1,n):(a.off("finished"),i&&i())}),this.playNodeAnim(t,l.shift(),1,n)}}},stopAllNodeAnims:function(t){var e=t.getComponent(cc.Animation);e&&(e.stop(),e.off("finished"))},stopAnimAtFrame0:function(t){var e=this,n=t.getComponent(cc.Animation);n.play("ufo_ring_fx"),r.setTimeout(function(){n.setCurrentTime(0),e.stopAllNodeAnims(t)})},playIncreasingNumberLabel:function(t,e,n,o,i,a,l){void 0===o&&(o=5),void 0===i&&(i=.5),void 0===a&&(a=0),void 0===l&&(l="xxx");var c=t.getComponent(cc.Label),s=n/o,u=i/o;cc.tween(t).delay(a).repeat(o,cc.tween().call(function(){e+=s;var t=r.formatMoney(r.round(e));c.string=l.replace(/xxx/g,t)}).delay(u)).start()},getNewFxNode:function(t,e){t.nodePoolId||(t.nodePoolId=r.getNewUuid()),this.fxNodePool[t.nodePoolId]||(this.fxNodePool[t.nodePoolId]=[]);var n=this.fxNodePool[t.nodePoolId].pop()||r.copyNode(t);return n.nodePoolId=t.nodePoolId,n.parent=e||i.coreFX.fxContainer,n},saveFxNodeToPool:function(t){t.stopAllActions(),t.active=!1,this.fxNodePool[t.nodePoolId].unshift(t)},particlesFlyFromA2B:function(t,e,n,o,a){for(var l=this,c=o||i.configAnimFx.defaultParticleFlyA2BConfigs,s=c.numberOfNode,u=c.flyDuration,d=c.delayStartTime,h=c.randomBezierPointRange,p=r.getGlobalPosDiff(e,n),f=function(n){var o=m.getNewFxNode(t,a);o.active=!0,r.setGlobalPosToNode(o,e);var i=m.getRandomPointInRage(h),c=m.getRandomPointInRage(h);cc.tween(o).delay(n*d).bezierBy(u,i,c,p).call(function(){l.saveFxNodeToPool(o)}).start()},m=this,v=0;v<s;v++)f(v)},getRandomPointInRage:function(t){return cc.v2(r.randomNumber(2*t.x)-t.x,r.randomNumber(2*t.y)-t.y)},nodeFlyFromAtoB:function(t,e,n,o){void 0===n&&(n=.3);var i=r.getGlobalPosDiff(t,e);cc.tween(t).by(n,{position:i}).call(function(){return o&&o()}).start()}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_common:[function(t,e,n){"use strict";cc._RF.push(e,"7c6a38LFRNHfqlBBkLI3s1j","utils_common");var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n._=void 0;var i=1e5,r=t("./utils_time");n._=o(o({NO_CONSOLE_LOG:!1,isANDROID:cc.sys.os==cc.sys.OS_ANDROID,isIOS:cc.sys.os==cc.sys.OS_IOS,max:Math.max,min:Math.min,round:Math.round,floor:Math.floor,ceil:Math.ceil,sign:Math.sign,abs:Math.abs,pow:Math.pow,random:Math.random,sqrt:Math.sqrt,sin:Math.sin,cos:Math.cos,tan:Math.tan,atan:Math.atan,atan2:Math.atan2,log10:Math.log10,PI:Math.PI,setInRange:function(t,e,o){return n._.max(n._.min(t,e),o)},randomArrItem:function(t,e){void 0===e&&(e=!1);var n=Math.floor(Math.random()*t.length);return e?t.splice(n,1)[0]:t[n]},isString:function(t){return"string"==typeof t},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},log:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.NO_CONSOLE_LOG)try{console.log.apply(console,t)}catch(n){}},trimStr:function(t,e,n){return void 0===n&&(n=""),t.length<=e?t:t.substring(0,e)+n},getNewUuid:function(){return i++},removeArrayItem:function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},addUniqueElemToArr:function(t,e){t.includes(e)||t.push(e)},randomNumber:function(t){return n._.floor(n._.random()*t)},getGlobalPosition:function(t){return t.convertToWorldSpaceAR(cc.Vec2.ZERO)},getGlobalPosDiff:function(t,e){return this.getGlobalPosition(e).sub(this.getGlobalPosition(t))},setGlobalPosToNode:function(t,e){var n=this.getGlobalPosition(e),o=t.parent.convertToNodeSpaceAR(n);t.setPosition(o)},setGlobalPos:function(t,e){var n=t.parent.convertToNodeSpaceAR(e);t.setPosition(n)},moveToNewParentKeepPosition:function(t,e){var n=e.convertToNodeSpaceAR(this.getGlobalPosition(t));t.parent=e,t.setPosition(n)},isGlobalOverlapping:function(t,e){return cc.Intersection.rectRect(t.getBoundingBoxToWorld(),e.getBoundingBoxToWorld())},copyNode:function(t,e){var n=cc.instantiate(t);return e&&(n.parent=e),n},getNodePath:function(t){for(var e=[t.name],n=t.parent,o=0;n&&o++<50&&n.parent;)e.push(n.name),n=n.parent;return e.reverse().join("/")}},r.default),{radianToDegrees:function(t){return 180*t/Math.PI},degreesToRadian:function(t){return t*Math.PI/180},formatTime:function(t){var e=n._.floor(t/3600),o=n._.floor(t%3600/60),i=t%3600%60;return e<10&&(e="0"+e),o<10&&(o="0"+o),i<10&&(i="0"+i),("00"==e?"":e+":")+o+":"+i},formatMoney:function(t){var e=n._.floor(Math.log10(t))+1;if(e<=6)return t.toLocaleString();var o,i=n._.floor((e-1)/3);return o=i-2<=3?["K","M","B","T"][i-2]:String.fromCharCode((i-6)/26+"a".charCodeAt(0))+String.fromCharCode((i-6)%26+"a".charCodeAt(0)),n._.round(t/n._.pow(10,3*(i-1))).toLocaleString()+o},paddNumberToFitDigitLength:function(t,e){var n=""+t,o=e-n.length;return o<=0?t:"0".repeat(o)+n}}),cc._RF.pop()},{"./utils_time":"utils_time"}],utils_data:[function(t,e,n){"use strict";cc._RF.push(e,"769b1HrFnpEkJKKpSJ/BVzB","utils_data"),Object.defineProperty(n,"__esModule",{value:!0}),n.utilsData=void 0,t("../../system/all_modules")._,n.utilsData={save:function(t,e){if(window.FBInstant)FBInstant.player.setDataAsync(t).then(function(){e&&e()},function(t){return console.warn(" utils_data >> save >> failed ",t)}).catch(function(t){return console.warn(" utils_data >> save >> failed (catch) ",t)});else{for(var n in t)localStorage.setItem(n,JSON.stringify(t[n]));setTimeout(function(){e&&e()},300)}},load:function(t,e){if(window.FBInstant)FBInstant.player.getDataAsync(t).then(function(t){e&&e(t)});else{var n={};t.map(function(t){if(null!==localStorage.getItem(t))try{n[t]=JSON.parse(localStorage.getItem(t))}catch(e){console.warn(" utilsData.load() >> Error  data key = "+t+" ",e)}}),e&&setTimeout(function(){return e(n)},100)}},getEntryPointData:function(){return window.FBInstant&&FBInstant.getEntryPointData()||{}}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_time:[function(t,e,n){"use strict";cc._RF.push(e,"233be6H/0VKNYjn2mjsWkCF","utils_time"),Object.defineProperty(n,"__esModule",{value:!0}),t("../../system/all_modules")._;var o=1e5;n.default={getMsPassedUTC:function(){return(new Date).getTime()},getMsPassedPT:function(){var t=this.getPacificTimeOffset();return this.getMsPassedUTC()+36e5*t},getTimePT:function(t){void 0===t&&(t=new Date);var e=this.getPacificTimeOffset(t),n=t.getHours()+t.getTimezoneOffset()/60;return t.setHours(n+e),t},isSameDate:function(t,e){return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},getTotalMsToMidnightPT:function(){return 864e5-this.getMsPassedPT()%864e5},getDSTStartEndDate:function(t){var e=(t||new Date).getFullYear(),n=new Date(e,2,1),o=(7-n.getDay())%7,i=n.getDate()+o+7,r=new Date(e,2,i),a=new Date(e,10,1),l=(7-a.getDay())%7,c=a.getDate()+l;return[r,new Date(e,10,c)]},getPacificTimeOffset:function(t){var e=t||new Date,n=this.getDSTStartEndDate(),o=n[0],i=n[1];return e>o&&e<i?-7:-8},getMonthName:function(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][(t=t||new Date).getMonth()]},setTimeout:function(t,e){void 0===e&&(e=0);var n={_id:o++,__instanceId:o,callback:null};return n.callback=function(){t(n)},cc.director.getScheduler().schedule(n.callback,n,e/1e3,0,0,!1),n},clearTimeout:function(t){t&&t._id&&t.callback&&cc.director.getScheduler().unschedule(t.callback,t)},setInterval:function(t,e){void 0===e&&(e=0);var n={_id:o++,__instanceId:o,callback:null};return n.callback=function(){t(n)},cc.director.getScheduler().schedule(n.callback,n,e/1e3,cc.macro.REPEAT_FOREVER,0,!1),n},clearInterval:function(t){t&&t._id&&t.callback&&cc.director.getScheduler().unschedule(t.callback,t)},secondsToTimeCountdown:function(t){if(void 0===t&&(t=0),t<=0)return"00:00";var e=Math.floor(t/86400),n=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),i=t%60;if(e>2)return e+" days";if(1==e)return"1 day";var r="";return n>=10?r=n+":":n>0&&(r="0"+n+":"),(r+=o>=10?o+":":"0"+o+":")+(i>=10?i:"0"+i)},waitToRun:function(t,e,n,o,i,r){void 0===n&&(n=window),void 0===o&&(o=.1);var a=!1,l=e.startsWith("!"),c=e.endsWith("()");e=e.replace("!","").replace("()","");var s=c?function(){return n[e]()}:null,u=setInterval(function(){if(l){if(c){if(s())return}else if(n[e])return}else if(c){if(!s())return}else if(!n[e])return;clearInterval(u),a=!0,t(n[e])},1e3*o);return i&&this.setTimeout(function(){clearInterval(u),r&&!a&&r()},1e3*i),u}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}],utils_ui:[function(t,e,n){"use strict";cc._RF.push(e,"b08e1le7AhElZTc77BxLM+1","utils_ui"),Object.defineProperty(n,"__esModule",{value:!0}),n.utilsUI=void 0;var o=t("../../system/all_modules"),i=o._;n.utilsUI={fillLabel:function(t,e){t.getComponent(cc.Label).string=e},fillChildLabelByPath:function(t,e,n){var o=cc.find(e,t);o&&(o.getComponent(cc.Label).string=n)},showOnlyChildNodeWithNameAs:function(t,e){var n;return t.children.map(function(t){t.active=t.name==e,t.active&&(n=t)}),n},setLabelCountDownTimer:function(t,e,n){"string"==typeof t&&(t=cc.find(t)),t.countDownTimerVar&&clearInterval(t.countDownTimerVar);var r=function(){if(!t.parent)return clearInterval(t.countDownTimerVar);var r=e-i.getMsPassedUTC(),a=i.secondsToTimeCountdown(i.floor(r/1e3));o.utilsUI.fillLabel(t,a),r<=0&&(clearInterval(t.countDownTimerVar),n&&n())};t.countDownTimerVar=setInterval(r,500),r()},setNodeSprite:function(t,e){t&&t.getComponent(cc.Sprite)&&(t.getComponent(cc.Sprite).spriteFrame=e)},setNodeSpriteFromUrl:function(t,e,n,o){var i=this;void 0===o&&(o=!1),t&&t.getComponent(cc.Sprite)&&(o&&t.getComponent(cc.Sprite).spriteFrame||cc.assetManager.loadRemote(e,function(e,o){return e||i.setNodeSprite(t,new cc.SpriteFrame(o)),n&&n()}))},setNodeSpriteFillRange:function(t,e){t&&t.getComponent(cc.Sprite)&&(t.getComponent(cc.Sprite).fillRange=e)},makeButton:function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var a=i.isString(t)?cc.find(t):t;i.setTimeout(function(){if(!a.getComponent("free_button_comp")){a.addComponent("free_button_comp");var t=a.addComponent(cc.Button);t.transition=n?null:cc.Button.Transition.SCALE;var i=new cc.Component.EventHandler;i.target=a,i.component="free_button_comp",i.handler="freeHandler",t.clickEvents.push(i),a.freeButtonHandlerFunc=function(){e(),r||o.audio.playSoundClickButton()}}})},singleTouchSet:function(t,e,n,o){var i=function(t,e){t(e.touch.getLocation(),e)};t.on("touchstart",function(n){t._customTouchId||(t._customTouchId=n.touch._id+1,e&&i(e,n))}),n&&t.on("touchmove",function(e){e.touch._id+1==t._customTouchId&&n&&i(n,e)});var r=function(e){e.touch._id+1==t._customTouchId&&(t._customTouchId=null,o&&i(o,e))};t.on("touchend",r),t.on("touchcancel",r)},makeDraggable:function(t){var e;o.utilsUI.singleTouchSet(t,function(n){e=i.getGlobalPosition(t).sub(n)},function(n){i.setGlobalPos(t,n.add(e))},function(){})},fixScrollViewPerformance:function(t,e,n){var o=this;if(void 0===n&&(n=4),!e.rowVisibleCollider){e.rowVisibleCollider=!0;var r=e.parent,a=e.rowVisibleCollider=new cc.Node("scrollview_item_display_area");a.group="scrollview",this.addSimpleBoxColliderComp(a,r),a.parent=r,t.on("active-in-hierarchy-changed",function(){t.active?i.setTimeout(function(){e.children.map(function(t,e){t.active=!0,t.opacity=e<n?255:0})},500):e.children.map(function(t,e){t.active=e<n})})}e.children.map(function(e,i){e.getComponent("scrollview_row_comp")||(e.addComponent("scrollview_row_comp"),o.addSimpleBoxColliderComp(e),e.group="scrollview"),e.active=!!t.active||i<n})},addSimpleBoxColliderComp:function(t,e){e=e||t;var n=t.addComponent(cc.BoxCollider);n.size.width=e.width,n.size.height=e.height,n.offset.x=e.width*(.5-e.anchorX),n.offset.y=e.width*(.5-e.anchorY)}},cc._RF.pop()},{"../../system/all_modules":"all_modules"}]},{},["ball-collision-comp","core_game","core_game_alternative","graphic_lib","recorder","slow_render","audio","free_button_comp","utils_anim_fx","utils_common","utils_data","utils_time","utils_ui","all_modules","anim_event_comp","app_events","config_anim_fx","project_init_comp","system_types"]);